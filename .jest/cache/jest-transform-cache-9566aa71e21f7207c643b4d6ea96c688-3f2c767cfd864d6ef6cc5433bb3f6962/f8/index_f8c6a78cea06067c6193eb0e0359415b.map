{"version":3,"names":["_isFunction","_interopRequireDefault","require","_propTypes","_xdate","_memoizeOne","_react","_interopRequireWildcard","_reactNative","_componentUpdater","_interface","_dateutils","_testIDs","_velocityTracker","_services","_style","_WeekDaysNames","_calendarList","_reservationList","_jsxRuntime","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","e","r","t","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty2","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","result","NewTarget","constructor","Reflect","construct","_possibleConstructorReturn2","sham","Proxy","Boolean","valueOf","HEADER_HEIGHT","KNOB_HEIGHT","Agenda","_Component","_inherits2","_super","props","_this","_classCallCheck2","scrollPad","React","createRef","calendar","knob","list","initialScrollPadPosition","Math","max","viewHeight","setScrollPadPosition","y","animated","_this$scrollPad","_this$scrollPad$curre","current","scrollTo","x","_this$scrollPad2","_this$scrollPad2$curr","getNode","toggleCalendarPosition","open","maxY","enableCalendarScrolling","onDayPress","d","chooseDay","state","calendarScrollable","generateMarkings","memoize","selectedDay","markedDates","items","marked","toMarkingFormat","selected","onScrollPadLayout","setTimeout","setState","calendarIsReady","onCalendarListLayout","_this$calendar","_this$calendar$curren","scrollToDay","calendarOffset","onLayout","event","nativeEvent","layout","height","viewWidth","width","forceUpdate","onTouchStart","_this$knob","_this$knob$current","headerState","setNativeProps","style","opacity","onTouchEnd","_this$knob2","_this$knob2$current","isOpen","onStartDrag","knobTracker","reset","onSnapAfterDrag","currentY","contentOffset","add","projectedY","estimateSpeed","snapY","onVisibleMonthsChange","months","firstReservationLoad","scrollTimeout","clearTimeout","_isMounted","loadItemsForMonth","onDayChange","day","_this$calendar2","_this$calendar2$curre","withAnimation","sameMonth","xdateToData","renderWeekDaysNames","jsx","firstDay","dayHeader","renderWeekNumbersSpace","showWeekNumbers","View","styleConstructor","theme","windowSize","Dimensions","undefined","scrollY","Animated","Value","getSelectedDate","topDay","currentMonth","clone","VelocityTracker","addListener","_ref","value","_createClass2","componentDidMount","loadReservations","componentWillUnmount","removeAllListeners","componentDidUpdate","prevProps","prevState","newSelectedDate","sameDate","prevSelectedDate","_this$calendar3","_this$calendar3$curre","date","XDate","_this$props$onCalenda","_this$props","_this$calendar4","_this$calendar4$curre","enable","onCalendarToggled","_this2","optimisticScroll","_this$props$onCalenda2","_this$props2","_this$calendar5","_this$calendar5$curre","_this$props$loadItems","_this$props3","_this$props$onDayPres","_this$props4","dateString","renderReservations","reservationListProps","extractReservationListProps","isFunction","renderList","ref","renderCalendarList","_this$props5","shouldHideExtraDays","hideExtraDays","calendarListProps","extractCalendarListProps","getCalendarDateString","toString","calendarWidth","scrollEnabled","renderKnob","_this$props6","showClosingKnob","hideKnob","knobContainer","knobView","children","render","_this$props7","testID","agendaHeight","weekdaysStyle","weekdays","interpolate","inputRange","outputRange","extrapolate","transform","translateY","headerTranslate","contentTranslate","headerStyle","header","bottom","openCalendarScrollPadPosition","shouldAllowDragging","scrollPadPosition","scrollPadStyle","top","jsxs","container","reservations","animatedContainer","ScrollView","overScrollMode","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","scrollEventThrottle","scrollsToTop","onScrollBeginDrag","onScrollEndDrag","onScroll","useNativeDriver","AGENDA_CALENDAR_KNOB","getDerivedStateFromProps","nextProps","Component","exports","displayName","propTypes","CalendarList","ReservationList","PropTypes","object","oneOfType","array","number","func","any","bool"],"sources":["index.js"],"sourcesContent":["import isFunction from 'lodash/isFunction';\nimport PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport memoize from 'memoize-one';\nimport React, { Component } from 'react';\nimport { View, Dimensions, Animated } from 'react-native';\nimport { extractCalendarListProps, extractReservationListProps } from '../componentUpdater';\nimport { xdateToData, toMarkingFormat } from '../interface';\nimport { sameDate, sameMonth } from '../dateutils';\nimport { AGENDA_CALENDAR_KNOB } from '../testIDs';\nimport { VelocityTracker } from '../velocityTracker';\nimport { getCalendarDateString } from '../services';\nimport styleConstructor from './style';\nimport WeekDaysNames from '../commons/WeekDaysNames';\nimport CalendarList from '../calendar-list';\nimport ReservationList from './reservation-list';\nconst HEADER_HEIGHT = 104;\nconst KNOB_HEIGHT = 24;\n/**\n * @description: Agenda component\n * @extends: CalendarList\n * @extendslink: docs/CalendarList\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/agenda.js\n * @gif: https://github.com/wix/react-native-calendars/blob/master/demo/assets/agenda.gif\n */\nexport default class Agenda extends Component {\n    static displayName = 'Agenda';\n    static propTypes = {\n        ...CalendarList.propTypes,\n        ...ReservationList.propTypes,\n        items: PropTypes.object,\n        style: PropTypes.oneOfType([PropTypes.object, PropTypes.array, PropTypes.number]),\n        loadItemsForMonth: PropTypes.func,\n        onCalendarToggled: PropTypes.func,\n        onDayChange: PropTypes.func,\n        renderKnob: PropTypes.func,\n        renderList: PropTypes.func,\n        selected: PropTypes.any,\n        hideKnob: PropTypes.bool,\n        showClosingKnob: PropTypes.bool\n    };\n    style;\n    viewHeight;\n    viewWidth;\n    scrollTimeout;\n    headerState;\n    currentMonth;\n    knobTracker;\n    _isMounted;\n    scrollPad = React.createRef();\n    calendar = React.createRef();\n    knob = React.createRef();\n    list = React.createRef();\n    constructor(props) {\n        super(props);\n        this.style = styleConstructor(props.theme);\n        const windowSize = Dimensions.get('window');\n        this.viewHeight = windowSize.height;\n        this.viewWidth = windowSize.width;\n        this.scrollTimeout = undefined;\n        this.headerState = 'idle';\n        this.state = {\n            scrollY: new Animated.Value(0),\n            calendarIsReady: false,\n            calendarScrollable: false,\n            firstReservationLoad: false,\n            selectedDay: this.getSelectedDate(props.selected),\n            topDay: this.getSelectedDate(props.selected)\n        };\n        this.currentMonth = this.state.selectedDay.clone();\n        this.knobTracker = new VelocityTracker();\n        this.state.scrollY.addListener(({ value }) => this.knobTracker.add(value));\n    }\n    componentDidMount() {\n        this._isMounted = true;\n        this.loadReservations(this.props);\n    }\n    componentWillUnmount() {\n        this._isMounted = false;\n        this.state.scrollY.removeAllListeners();\n    }\n    componentDidUpdate(prevProps, prevState) {\n        const newSelectedDate = this.getSelectedDate(this.props.selected);\n        if (!sameDate(newSelectedDate, prevState.selectedDay)) {\n            const prevSelectedDate = this.getSelectedDate(prevProps.selected);\n            if (!sameDate(newSelectedDate, prevSelectedDate)) {\n                this.setState({ selectedDay: newSelectedDate });\n                this.calendar?.current?.scrollToDay(newSelectedDate, this.calendarOffset(), true);\n            }\n        }\n        else if (!prevProps.items) {\n            this.loadReservations(this.props);\n        }\n    }\n    static getDerivedStateFromProps(nextProps) {\n        if (nextProps.items) {\n            return { firstReservationLoad: false };\n        }\n        return null;\n    }\n    getSelectedDate(date) {\n        return date ? new XDate(date) : new XDate(true);\n    }\n    calendarOffset() {\n        return 96 - this.viewHeight / 2;\n    }\n    initialScrollPadPosition = () => {\n        return Math.max(0, this.viewHeight - HEADER_HEIGHT);\n    };\n    setScrollPadPosition = (y, animated) => {\n        if (this.scrollPad?.current?.scrollTo) {\n            this.scrollPad.current.scrollTo({ x: 0, y, animated });\n        }\n        else {\n            // Support for RN O.61 (Expo 37)\n            this.scrollPad?.current?.getNode().scrollTo({ x: 0, y, animated });\n        }\n    };\n    toggleCalendarPosition = (open) => {\n        const maxY = this.initialScrollPadPosition();\n        this.setScrollPadPosition(open ? 0 : maxY, true);\n        this.enableCalendarScrolling(open);\n    };\n    enableCalendarScrolling(enable = true) {\n        this.setState({ calendarScrollable: enable });\n        this.props.onCalendarToggled?.(enable);\n        // Enlarge calendarOffset here as a workaround on iOS to force repaint.\n        // Otherwise the month after current one or before current one remains invisible.\n        // The problem is caused by overflow: 'hidden' style, which we need for dragging\n        // to be performant.\n        // Another working solution for this bug would be to set removeClippedSubviews={false}\n        // in CalendarList listView, but that might impact performance when scrolling\n        // month list in expanded CalendarList.\n        // Further info https://github.com/facebook/react-native/issues/1831\n        this.calendar?.current?.scrollToDay(this.state.selectedDay, this.calendarOffset() + 1, true);\n    }\n    loadReservations(props) {\n        if ((!props.items || !Object.keys(props.items).length) && !this.state.firstReservationLoad) {\n            this.setState({ firstReservationLoad: true }, () => {\n                this.props.loadItemsForMonth?.(xdateToData(this.state.selectedDay));\n            });\n        }\n    }\n    onDayPress = (d) => {\n        this.chooseDay(d, !this.state.calendarScrollable);\n    };\n    chooseDay(d, optimisticScroll) {\n        const day = new XDate(d.dateString);\n        this.setState({\n            calendarScrollable: false,\n            selectedDay: day.clone()\n        });\n        this.props.onCalendarToggled?.(false);\n        if (!optimisticScroll) {\n            this.setState({ topDay: day.clone() });\n        }\n        this.setScrollPadPosition(this.initialScrollPadPosition(), true);\n        this.calendar?.current?.scrollToDay(day, this.calendarOffset(), true);\n        this.props.loadItemsForMonth?.(xdateToData(day));\n        this.props.onDayPress?.(xdateToData(day));\n    }\n    generateMarkings = memoize((selectedDay, markedDates, items) => {\n        if (!markedDates) {\n            markedDates = {};\n            if (items) {\n                Object.keys(items).forEach(key => {\n                    if (items[key] && items[key].length) {\n                        markedDates[key] = { marked: true };\n                    }\n                });\n            }\n        }\n        const key = toMarkingFormat(selectedDay);\n        return { ...markedDates, [key]: { ...(markedDates[key] || {}), ...{ selected: true } } };\n    });\n    onScrollPadLayout = () => {\n        // When user touches knob, the actual component that receives touch events is a ScrollView.\n        // It needs to be scrolled to the bottom, so that when user moves finger downwards,\n        // scroll position actually changes (it would stay at 0, when scrolled to the top).\n        this.setScrollPadPosition(this.initialScrollPadPosition(), false);\n        // delay rendering calendar in full height because otherwise it still flickers sometimes\n        setTimeout(() => this.setState({ calendarIsReady: true }), 0);\n    };\n    onCalendarListLayout = () => {\n        this.calendar?.current?.scrollToDay(this.state.selectedDay, this.calendarOffset(), false);\n    };\n    onLayout = (event) => {\n        this.viewHeight = event.nativeEvent.layout.height;\n        this.viewWidth = event.nativeEvent.layout.width;\n        this.forceUpdate();\n    };\n    onTouchStart = () => {\n        this.headerState = 'touched';\n        this.knob?.current?.setNativeProps({ style: { opacity: 0.5 } });\n    };\n    onTouchEnd = () => {\n        this.knob?.current?.setNativeProps({ style: { opacity: 1 } });\n        if (this.headerState === 'touched') {\n            const isOpen = this.state.calendarScrollable;\n            this.toggleCalendarPosition(!isOpen);\n        }\n        this.headerState = 'idle';\n    };\n    onStartDrag = () => {\n        this.headerState = 'dragged';\n        this.knobTracker.reset();\n    };\n    onSnapAfterDrag = (e) => {\n        // on Android onTouchEnd is not called if dragging was started\n        this.onTouchEnd();\n        const currentY = e.nativeEvent.contentOffset.y;\n        this.knobTracker.add(currentY);\n        const projectedY = currentY + this.knobTracker.estimateSpeed() * 250; /*ms*/\n        const maxY = this.initialScrollPadPosition();\n        const snapY = projectedY > maxY / 2 ? maxY : 0;\n        this.setScrollPadPosition(snapY, true);\n        this.enableCalendarScrolling(snapY === 0);\n    };\n    onVisibleMonthsChange = (months) => {\n        this.props.onVisibleMonthsChange?.(months);\n        if (this.props.items && !this.state.firstReservationLoad) {\n            if (this.scrollTimeout) {\n                clearTimeout(this.scrollTimeout);\n            }\n            this.scrollTimeout = setTimeout(() => {\n                if (this._isMounted) {\n                    this.props.loadItemsForMonth?.(months[0]);\n                }\n            }, 200);\n        }\n    };\n    onDayChange = (day) => {\n        const withAnimation = sameMonth(day, this.state.selectedDay);\n        this.calendar?.current?.scrollToDay(day, this.calendarOffset(), withAnimation);\n        this.setState({ selectedDay: day });\n        this.props.onDayChange?.(xdateToData(day));\n    };\n    renderReservations() {\n        const reservationListProps = extractReservationListProps(this.props);\n        if (isFunction(this.props.renderList)) {\n            return this.props.renderList({\n                ...reservationListProps,\n                selectedDay: this.state.selectedDay,\n                topDay: this.state.topDay,\n                onDayChange: this.onDayChange,\n            });\n        }\n        return (<ReservationList {...reservationListProps} ref={this.list} selectedDay={this.state.selectedDay} topDay={this.state.topDay} onDayChange={this.onDayChange}/>);\n    }\n    renderCalendarList() {\n        const { markedDates, items } = this.props;\n        const shouldHideExtraDays = this.state.calendarScrollable ? this.props.hideExtraDays : false;\n        const calendarListProps = extractCalendarListProps(this.props);\n        return (<CalendarList {...calendarListProps} ref={this.calendar} current={getCalendarDateString(this.currentMonth.toString())} markedDates={this.generateMarkings(this.state.selectedDay, markedDates, items)} calendarWidth={this.viewWidth} scrollEnabled={this.state.calendarScrollable} hideExtraDays={shouldHideExtraDays} onLayout={this.onCalendarListLayout} onDayPress={this.onDayPress} onVisibleMonthsChange={this.onVisibleMonthsChange}/>);\n    }\n    renderKnob() {\n        const { showClosingKnob, hideKnob, renderKnob } = this.props;\n        let knob = <View style={this.style.knobContainer}/>;\n        if (!hideKnob) {\n            const knobView = renderKnob ? renderKnob() : <View style={this.style.knob}/>;\n            knob = !this.state.calendarScrollable || showClosingKnob ? (<View style={this.style.knobContainer}>\n          <View ref={this.knob}>{knobView}</View>\n        </View>) : null;\n        }\n        return knob;\n    }\n    renderWeekDaysNames = () => {\n        return (<WeekDaysNames firstDay={this.props.firstDay} style={this.style.dayHeader}/>);\n    };\n    renderWeekNumbersSpace = () => {\n        return this.props.showWeekNumbers && <View style={this.style.dayHeader}/>;\n    };\n    render() {\n        const { hideKnob, style, testID } = this.props;\n        const agendaHeight = this.initialScrollPadPosition();\n        const weekdaysStyle = [\n            this.style.weekdays,\n            {\n                opacity: this.state.scrollY.interpolate({\n                    inputRange: [agendaHeight - HEADER_HEIGHT, agendaHeight],\n                    outputRange: [0, 1],\n                    extrapolate: 'clamp'\n                }),\n                transform: [\n                    {\n                        translateY: this.state.scrollY.interpolate({\n                            inputRange: [Math.max(0, agendaHeight - HEADER_HEIGHT), agendaHeight],\n                            outputRange: [-HEADER_HEIGHT, 0],\n                            extrapolate: 'clamp'\n                        })\n                    }\n                ]\n            }\n        ];\n        const headerTranslate = this.state.scrollY.interpolate({\n            inputRange: [0, agendaHeight],\n            outputRange: [agendaHeight, 0],\n            extrapolate: 'clamp'\n        });\n        const contentTranslate = this.state.scrollY.interpolate({\n            inputRange: [0, agendaHeight],\n            outputRange: [0, agendaHeight / 2],\n            extrapolate: 'clamp'\n        });\n        const headerStyle = [\n            this.style.header,\n            {\n                bottom: agendaHeight,\n                transform: [{ translateY: headerTranslate }]\n            }\n        ];\n        if (!this.state.calendarIsReady) {\n            // limit header height until everything is setup for calendar dragging\n            headerStyle.push({ height: 0 });\n            // fill header with appStyle.calendarBackground background to reduce flickering\n            weekdaysStyle.push({ height: HEADER_HEIGHT });\n        }\n        const openCalendarScrollPadPosition = !hideKnob && this.state.calendarScrollable && this.props.showClosingKnob ? agendaHeight + HEADER_HEIGHT : 0;\n        const shouldAllowDragging = !hideKnob && !this.state.calendarScrollable;\n        const scrollPadPosition = (shouldAllowDragging ? HEADER_HEIGHT : openCalendarScrollPadPosition) - KNOB_HEIGHT;\n        const scrollPadStyle = {\n            height: KNOB_HEIGHT,\n            top: scrollPadPosition,\n        };\n        return (<View testID={testID} onLayout={this.onLayout} style={[style, this.style.container]}>\n        <View style={this.style.reservations}>{this.renderReservations()}</View>\n        <Animated.View style={headerStyle}>\n          <Animated.View style={[this.style.animatedContainer, { transform: [{ translateY: contentTranslate }] }]}>\n            {this.renderCalendarList()}\n          </Animated.View>\n          {this.renderKnob()}\n        </Animated.View>\n        <Animated.View style={weekdaysStyle}>\n          {this.renderWeekNumbersSpace()}\n          {this.renderWeekDaysNames()}\n        </Animated.View>\n        <Animated.ScrollView ref={this.scrollPad} style={[this.style.scrollPadStyle, scrollPadStyle]} overScrollMode=\"never\" showsHorizontalScrollIndicator={false} showsVerticalScrollIndicator={false} scrollEventThrottle={8} scrollsToTop={false} onTouchStart={this.onTouchStart} onTouchEnd={this.onTouchEnd} onScrollBeginDrag={this.onStartDrag} onScrollEndDrag={this.onSnapAfterDrag} onScroll={Animated.event([{ nativeEvent: { contentOffset: { y: this.state.scrollY } } }], { useNativeDriver: true })}>\n          <View testID={AGENDA_CALENDAR_KNOB} style={{ height: agendaHeight + KNOB_HEIGHT }} onLayout={this.onScrollPadLayout}/>\n        </Animated.ScrollView>\n      </View>);\n    }\n}\n"],"mappings":"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"}