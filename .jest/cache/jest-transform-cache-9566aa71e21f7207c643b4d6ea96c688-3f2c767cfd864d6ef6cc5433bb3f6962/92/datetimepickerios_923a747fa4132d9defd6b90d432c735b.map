{"version":3,"names":["_picker","_interopRequireDefault","require","_utils","_constants","React","_interopRequireWildcard","_reactNative","_jsxRuntime","_excluded","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","e","r","t","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty2","getOwnPropertyDescriptors","defineProperties","getDisplaySafe","display","majorVersionIOS","parseInt","Platform","Version","IOS_DISPLAY","inline","spinner","Picker","_ref","value","locale","maximumDate","minimumDate","minuteInterval","timeZoneOffsetInMinutes","timeZoneName","textColor","accentColor","themeVariant","onChange","_ref$mode","mode","IOS_MODE","date","_ref$display","providedDisplay","_ref$disabled","disabled","other","_objectWithoutProperties2","sharedPropsValidation","_onChange","event","timestamp","nativeEvent","unifiedEvent","type","EVENT_TYPE_SET","undefined","Date","onDismiss","EVENT_TYPE_DISMISSED","getTime","utcOffset","jsx","dateToMilliseconds","onPickerDismiss","onStartShouldSetResponder","onResponderTerminationRequest","displayIOS","enabled"],"sources":["datetimepicker.ios.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * This is a controlled component version of RNDateTimePicker\n *\n * @format\n * @flow strict-local\n */\nimport RNDateTimePicker from './picker';\nimport {dateToMilliseconds, sharedPropsValidation} from './utils';\nimport {\n  IOS_DISPLAY,\n  EVENT_TYPE_SET,\n  EVENT_TYPE_DISMISSED,\n  IOS_MODE,\n} from './constants';\nimport * as React from 'react';\nimport {Platform} from 'react-native';\n\nimport type {\n  DateTimePickerEvent,\n  NativeEventIOS,\n  IOSNativeProps,\n  IOSDisplay,\n} from './types';\n\nconst getDisplaySafe = (display: IOSDisplay): IOSDisplay => {\n  const majorVersionIOS = parseInt(Platform.Version, 10);\n  if (display === IOS_DISPLAY.inline && majorVersionIOS < 14) {\n    // inline is available since 14.0\n    return IOS_DISPLAY.spinner;\n  }\n  if (majorVersionIOS < 14) {\n    // NOTE this should compare against 13.4, not 14 according to https://developer.apple.com/documentation/uikit/uidatepickerstyle/uidatepickerstylecompact?changes=latest_minor&language=objc\n    // but UIDatePickerStyleCompact does not seem to work prior to 14\n    // only the spinner display (UIDatePickerStyleWheels) is thus available below 14\n    return IOS_DISPLAY.spinner;\n  }\n\n  return display;\n};\n\nexport default function Picker({\n  value,\n  locale,\n  maximumDate,\n  minimumDate,\n  minuteInterval,\n  timeZoneOffsetInMinutes,\n  timeZoneName,\n  textColor,\n  accentColor,\n  themeVariant,\n  onChange,\n  mode = IOS_MODE.date,\n  display: providedDisplay = IOS_DISPLAY.default,\n  disabled = false,\n  ...other\n}: IOSNativeProps): React.Node {\n  sharedPropsValidation({value, timeZoneOffsetInMinutes, timeZoneName});\n\n  const display = getDisplaySafe(providedDisplay);\n\n  const _onChange = (event: NativeEventIOS) => {\n    const timestamp = event.nativeEvent.timestamp;\n    const unifiedEvent: DateTimePickerEvent = {\n      ...event,\n      type: EVENT_TYPE_SET,\n    };\n\n    const date = timestamp !== undefined ? new Date(timestamp) : undefined;\n\n    onChange && onChange(unifiedEvent, date);\n  };\n\n  const onDismiss = () => {\n    // TODO introduce separate onDismissed event listener\n    onChange &&\n      onChange(\n        {\n          type: EVENT_TYPE_DISMISSED,\n          nativeEvent: {\n            timestamp: value.getTime(),\n            utcOffset: 0, // TODO vonovak - the dismiss event should not carry any date information\n          },\n        },\n        value,\n      );\n  };\n\n  return (\n    <RNDateTimePicker\n      {...other}\n      date={dateToMilliseconds(value)}\n      locale={locale !== null && locale !== '' ? locale : undefined}\n      maximumDate={dateToMilliseconds(maximumDate)}\n      minimumDate={dateToMilliseconds(minimumDate)}\n      mode={mode}\n      minuteInterval={minuteInterval}\n      timeZoneOffsetInMinutes={timeZoneOffsetInMinutes}\n      timeZoneName={timeZoneName}\n      onChange={_onChange}\n      onPickerDismiss={onDismiss}\n      textColor={textColor}\n      accentColor={accentColor}\n      themeVariant={themeVariant}\n      onStartShouldSetResponder={() => true}\n      onResponderTerminationRequest={() => false}\n      displayIOS={display}\n      enabled={disabled !== true}\n    />\n  );\n}\n"],"mappings":"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"}