f38437b1917d7216f72280743a4b4b74
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _interface = require("../../../interface");
var _style = _interopRequireDefault(require("./style"));
var _marking2 = _interopRequireDefault(require("../marking"));
var _jsxRuntime = require("react/jsx-runtime");
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
var BasicDay = function BasicDay(props) {
  var theme = props.theme,
    date = props.date,
    onPress = props.onPress,
    onLongPress = props.onLongPress,
    markingType = props.markingType,
    marking = props.marking,
    state = props.state,
    disableAllTouchEventsForDisabledDays = props.disableAllTouchEventsForDisabledDays,
    disableAllTouchEventsForInactiveDays = props.disableAllTouchEventsForInactiveDays,
    accessibilityLabel = props.accessibilityLabel,
    children = props.children,
    testID = props.testID;
  var style = (0, _react.useRef)((0, _style.default)(theme));
  var _marking = marking || {};
  var isSelected = _marking.selected || state === 'selected';
  var isDisabled = typeof _marking.disabled !== 'undefined' ? _marking.disabled : state === 'disabled';
  var isInactive = _marking == null ? void 0 : _marking.inactive;
  var isToday = state === 'today';
  var isMultiDot = markingType === _marking2.default.markings.MULTI_DOT;
  var isMultiPeriod = markingType === _marking2.default.markings.MULTI_PERIOD;
  var isCustom = markingType === _marking2.default.markings.CUSTOM;
  var dateData = date ? (0, _interface.xdateToData)(date) : undefined;
  var shouldDisableTouchEvent = function shouldDisableTouchEvent() {
    var disableTouchEvent = _marking.disableTouchEvent;
    var disableTouch = false;
    if (typeof disableTouchEvent === 'boolean') {
      disableTouch = disableTouchEvent;
    } else if (typeof disableAllTouchEventsForDisabledDays === 'boolean' && isDisabled) {
      disableTouch = disableAllTouchEventsForDisabledDays;
    } else if (typeof disableAllTouchEventsForInactiveDays === 'boolean' && isInactive) {
      disableTouch = disableAllTouchEventsForInactiveDays;
    }
    return disableTouch;
  };
  var getContainerStyle = function getContainerStyle() {
    var customStyles = _marking.customStyles,
      selectedColor = _marking.selectedColor;
    var styles = [style.current.base];
    if (isSelected) {
      styles.push(style.current.selected);
      if (selectedColor) {
        styles.push({
          backgroundColor: selectedColor
        });
      }
    } else if (isToday) {
      styles.push(style.current.today);
    }
    if (isCustom && customStyles && customStyles.container) {
      if (customStyles.container.borderRadius === undefined) {
        customStyles.container.borderRadius = 16;
      }
      styles.push(customStyles.container);
    }
    return styles;
  };
  var getTextStyle = function getTextStyle() {
    var customStyles = _marking.customStyles,
      selectedTextColor = _marking.selectedTextColor;
    var styles = [style.current.text];
    if (isSelected) {
      styles.push(style.current.selectedText);
      if (selectedTextColor) {
        styles.push({
          color: selectedTextColor
        });
      }
    } else if (isDisabled) {
      styles.push(style.current.disabledText);
    } else if (isToday) {
      styles.push(style.current.todayText);
    } else if (isInactive) {
      styles.push(style.current.inactiveText);
    }
    if (isCustom && customStyles && customStyles.text) {
      styles.push(customStyles.text);
    }
    return styles;
  };
  var _onPress = (0, _react.useCallback)(function () {
    onPress == null ? void 0 : onPress(dateData);
  }, [onPress, date]);
  var _onLongPress = (0, _react.useCallback)(function () {
    onLongPress == null ? void 0 : onLongPress(dateData);
  }, [onLongPress, date]);
  var renderMarking = function renderMarking() {
    var marked = _marking.marked,
      dotColor = _marking.dotColor,
      dots = _marking.dots,
      periods = _marking.periods;
    return (0, _jsxRuntime.jsx)(_marking2.default, {
      type: markingType,
      theme: theme,
      marked: isMultiDot ? true : marked,
      selected: isSelected,
      disabled: isDisabled,
      inactive: isInactive,
      today: isToday,
      dotColor: dotColor,
      dots: dots,
      periods: periods
    });
  };
  var renderText = function renderText() {
    return (0, _jsxRuntime.jsx)(_reactNative.Text, {
      allowFontScaling: false,
      style: getTextStyle(),
      children: String(children)
    });
  };
  var renderContent = function renderContent() {
    return (0, _jsxRuntime.jsxs)(_react.Fragment, {
      children: [renderText(), renderMarking()]
    });
  };
  var renderContainer = function renderContainer() {
    var activeOpacity = _marking.activeOpacity;
    return (0, _jsxRuntime.jsx)(_reactNative.TouchableOpacity, {
      testID: testID,
      style: getContainerStyle(),
      disabled: shouldDisableTouchEvent(),
      activeOpacity: activeOpacity,
      onPress: !shouldDisableTouchEvent() ? _onPress : undefined,
      onLongPress: !shouldDisableTouchEvent() ? _onLongPress : undefined,
      accessible: true,
      accessibilityRole: isDisabled ? undefined : 'button',
      accessibilityLabel: accessibilityLabel,
      children: isMultiPeriod ? renderText() : renderContent()
    });
  };
  var renderPeriodsContainer = function renderPeriodsContainer() {
    return (0, _jsxRuntime.jsxs)(_reactNative.View, {
      style: style.current.container,
      children: [renderContainer(), renderMarking()]
    });
  };
  return isMultiPeriod ? renderPeriodsContainer() : renderContainer();
};
var _default = BasicDay;
exports.default = _default;
BasicDay.displayName = 'BasicDay';
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfcmVhY3ROYXRpdmUiLCJfaW50ZXJmYWNlIiwiX3N0eWxlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9tYXJraW5nMiIsIl9qc3hSdW50aW1lIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwibm9kZUludGVyb3AiLCJXZWFrTWFwIiwiY2FjaGVCYWJlbEludGVyb3AiLCJjYWNoZU5vZGVJbnRlcm9wIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsIkJhc2ljRGF5IiwicHJvcHMiLCJ0aGVtZSIsImRhdGUiLCJvblByZXNzIiwib25Mb25nUHJlc3MiLCJtYXJraW5nVHlwZSIsIm1hcmtpbmciLCJzdGF0ZSIsImRpc2FibGVBbGxUb3VjaEV2ZW50c0ZvckRpc2FibGVkRGF5cyIsImRpc2FibGVBbGxUb3VjaEV2ZW50c0ZvckluYWN0aXZlRGF5cyIsImFjY2Vzc2liaWxpdHlMYWJlbCIsImNoaWxkcmVuIiwidGVzdElEIiwic3R5bGUiLCJ1c2VSZWYiLCJzdHlsZUNvbnN0cnVjdG9yIiwiX21hcmtpbmciLCJpc1NlbGVjdGVkIiwic2VsZWN0ZWQiLCJpc0Rpc2FibGVkIiwiZGlzYWJsZWQiLCJpc0luYWN0aXZlIiwiaW5hY3RpdmUiLCJpc1RvZGF5IiwiaXNNdWx0aURvdCIsIk1hcmtpbmciLCJtYXJraW5ncyIsIk1VTFRJX0RPVCIsImlzTXVsdGlQZXJpb2QiLCJNVUxUSV9QRVJJT0QiLCJpc0N1c3RvbSIsIkNVU1RPTSIsImRhdGVEYXRhIiwieGRhdGVUb0RhdGEiLCJ1bmRlZmluZWQiLCJzaG91bGREaXNhYmxlVG91Y2hFdmVudCIsImRpc2FibGVUb3VjaEV2ZW50IiwiZGlzYWJsZVRvdWNoIiwiZ2V0Q29udGFpbmVyU3R5bGUiLCJjdXN0b21TdHlsZXMiLCJzZWxlY3RlZENvbG9yIiwic3R5bGVzIiwiY3VycmVudCIsImJhc2UiLCJwdXNoIiwiYmFja2dyb3VuZENvbG9yIiwidG9kYXkiLCJjb250YWluZXIiLCJib3JkZXJSYWRpdXMiLCJnZXRUZXh0U3R5bGUiLCJzZWxlY3RlZFRleHRDb2xvciIsInRleHQiLCJzZWxlY3RlZFRleHQiLCJjb2xvciIsImRpc2FibGVkVGV4dCIsInRvZGF5VGV4dCIsImluYWN0aXZlVGV4dCIsIl9vblByZXNzIiwidXNlQ2FsbGJhY2siLCJfb25Mb25nUHJlc3MiLCJyZW5kZXJNYXJraW5nIiwibWFya2VkIiwiZG90Q29sb3IiLCJkb3RzIiwicGVyaW9kcyIsImpzeCIsInR5cGUiLCJyZW5kZXJUZXh0IiwiVGV4dCIsImFsbG93Rm9udFNjYWxpbmciLCJTdHJpbmciLCJyZW5kZXJDb250ZW50IiwianN4cyIsIkZyYWdtZW50IiwicmVuZGVyQ29udGFpbmVyIiwiYWN0aXZlT3BhY2l0eSIsIlRvdWNoYWJsZU9wYWNpdHkiLCJhY2Nlc3NpYmxlIiwiYWNjZXNzaWJpbGl0eVJvbGUiLCJyZW5kZXJQZXJpb2RzQ29udGFpbmVyIiwiVmlldyIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRpc3BsYXlOYW1lIl0sInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IEZyYWdtZW50LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVG91Y2hhYmxlT3BhY2l0eSwgVGV4dCwgVmlldyB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgeyB4ZGF0ZVRvRGF0YSB9IGZyb20gJy4uLy4uLy4uL2ludGVyZmFjZSc7XG5pbXBvcnQgc3R5bGVDb25zdHJ1Y3RvciBmcm9tICcuL3N0eWxlJztcbmltcG9ydCBNYXJraW5nIGZyb20gJy4uL21hcmtpbmcnO1xuY29uc3QgQmFzaWNEYXkgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHRoZW1lLCBkYXRlLCBvblByZXNzLCBvbkxvbmdQcmVzcywgbWFya2luZ1R5cGUsIG1hcmtpbmcsIHN0YXRlLCBkaXNhYmxlQWxsVG91Y2hFdmVudHNGb3JEaXNhYmxlZERheXMsIGRpc2FibGVBbGxUb3VjaEV2ZW50c0ZvckluYWN0aXZlRGF5cywgYWNjZXNzaWJpbGl0eUxhYmVsLCBjaGlsZHJlbiwgdGVzdElEIH0gPSBwcm9wcztcbiAgICBjb25zdCBzdHlsZSA9IHVzZVJlZihzdHlsZUNvbnN0cnVjdG9yKHRoZW1lKSk7XG4gICAgY29uc3QgX21hcmtpbmcgPSBtYXJraW5nIHx8IHt9O1xuICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBfbWFya2luZy5zZWxlY3RlZCB8fCBzdGF0ZSA9PT0gJ3NlbGVjdGVkJztcbiAgICBjb25zdCBpc0Rpc2FibGVkID0gdHlwZW9mIF9tYXJraW5nLmRpc2FibGVkICE9PSAndW5kZWZpbmVkJyA/IF9tYXJraW5nLmRpc2FibGVkIDogc3RhdGUgPT09ICdkaXNhYmxlZCc7XG4gICAgY29uc3QgaXNJbmFjdGl2ZSA9IF9tYXJraW5nPy5pbmFjdGl2ZTtcbiAgICBjb25zdCBpc1RvZGF5ID0gc3RhdGUgPT09ICd0b2RheSc7XG4gICAgY29uc3QgaXNNdWx0aURvdCA9IG1hcmtpbmdUeXBlID09PSBNYXJraW5nLm1hcmtpbmdzLk1VTFRJX0RPVDtcbiAgICBjb25zdCBpc011bHRpUGVyaW9kID0gbWFya2luZ1R5cGUgPT09IE1hcmtpbmcubWFya2luZ3MuTVVMVElfUEVSSU9EO1xuICAgIGNvbnN0IGlzQ3VzdG9tID0gbWFya2luZ1R5cGUgPT09IE1hcmtpbmcubWFya2luZ3MuQ1VTVE9NO1xuICAgIGNvbnN0IGRhdGVEYXRhID0gZGF0ZSA/IHhkYXRlVG9EYXRhKGRhdGUpIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHNob3VsZERpc2FibGVUb3VjaEV2ZW50ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB7IGRpc2FibGVUb3VjaEV2ZW50IH0gPSBfbWFya2luZztcbiAgICAgICAgbGV0IGRpc2FibGVUb3VjaCA9IGZhbHNlO1xuICAgICAgICBpZiAodHlwZW9mIGRpc2FibGVUb3VjaEV2ZW50ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIGRpc2FibGVUb3VjaCA9IGRpc2FibGVUb3VjaEV2ZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBkaXNhYmxlQWxsVG91Y2hFdmVudHNGb3JEaXNhYmxlZERheXMgPT09ICdib29sZWFuJyAmJiBpc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICBkaXNhYmxlVG91Y2ggPSBkaXNhYmxlQWxsVG91Y2hFdmVudHNGb3JEaXNhYmxlZERheXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGRpc2FibGVBbGxUb3VjaEV2ZW50c0ZvckluYWN0aXZlRGF5cyA9PT0gJ2Jvb2xlYW4nICYmIGlzSW5hY3RpdmUpIHtcbiAgICAgICAgICAgIGRpc2FibGVUb3VjaCA9IGRpc2FibGVBbGxUb3VjaEV2ZW50c0ZvckluYWN0aXZlRGF5cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlzYWJsZVRvdWNoO1xuICAgIH07XG4gICAgY29uc3QgZ2V0Q29udGFpbmVyU3R5bGUgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY3VzdG9tU3R5bGVzLCBzZWxlY3RlZENvbG9yIH0gPSBfbWFya2luZztcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gW3N0eWxlLmN1cnJlbnQuYmFzZV07XG4gICAgICAgIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICBzdHlsZXMucHVzaChzdHlsZS5jdXJyZW50LnNlbGVjdGVkKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZENvbG9yKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVzLnB1c2goeyBiYWNrZ3JvdW5kQ29sb3I6IHNlbGVjdGVkQ29sb3IgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNUb2RheSkge1xuICAgICAgICAgICAgc3R5bGVzLnB1c2goc3R5bGUuY3VycmVudC50b2RheSk7XG4gICAgICAgIH1cbiAgICAgICAgLy9DdXN0b20gbWFya2luZyB0eXBlXG4gICAgICAgIGlmIChpc0N1c3RvbSAmJiBjdXN0b21TdHlsZXMgJiYgY3VzdG9tU3R5bGVzLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgaWYgKGN1c3RvbVN0eWxlcy5jb250YWluZXIuYm9yZGVyUmFkaXVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjdXN0b21TdHlsZXMuY29udGFpbmVyLmJvcmRlclJhZGl1cyA9IDE2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3R5bGVzLnB1c2goY3VzdG9tU3R5bGVzLmNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0eWxlcztcbiAgICB9O1xuICAgIGNvbnN0IGdldFRleHRTdHlsZSA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgeyBjdXN0b21TdHlsZXMsIHNlbGVjdGVkVGV4dENvbG9yIH0gPSBfbWFya2luZztcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gW3N0eWxlLmN1cnJlbnQudGV4dF07XG4gICAgICAgIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICBzdHlsZXMucHVzaChzdHlsZS5jdXJyZW50LnNlbGVjdGVkVGV4dCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRUZXh0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICBzdHlsZXMucHVzaCh7IGNvbG9yOiBzZWxlY3RlZFRleHRDb2xvciB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICBzdHlsZXMucHVzaChzdHlsZS5jdXJyZW50LmRpc2FibGVkVGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNUb2RheSkge1xuICAgICAgICAgICAgc3R5bGVzLnB1c2goc3R5bGUuY3VycmVudC50b2RheVRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSW5hY3RpdmUpIHtcbiAgICAgICAgICAgIHN0eWxlcy5wdXNoKHN0eWxlLmN1cnJlbnQuaW5hY3RpdmVUZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvL0N1c3RvbSBtYXJraW5nIHR5cGVcbiAgICAgICAgaWYgKGlzQ3VzdG9tICYmIGN1c3RvbVN0eWxlcyAmJiBjdXN0b21TdHlsZXMudGV4dCkge1xuICAgICAgICAgICAgc3R5bGVzLnB1c2goY3VzdG9tU3R5bGVzLnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgfTtcbiAgICBjb25zdCBfb25QcmVzcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgb25QcmVzcz8uKGRhdGVEYXRhKTtcbiAgICB9LCBbb25QcmVzcywgZGF0ZV0pO1xuICAgIGNvbnN0IF9vbkxvbmdQcmVzcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgb25Mb25nUHJlc3M/LihkYXRlRGF0YSk7XG4gICAgfSwgW29uTG9uZ1ByZXNzLCBkYXRlXSk7XG4gICAgY29uc3QgcmVuZGVyTWFya2luZyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgeyBtYXJrZWQsIGRvdENvbG9yLCBkb3RzLCBwZXJpb2RzIH0gPSBfbWFya2luZztcbiAgICAgICAgcmV0dXJuICg8TWFya2luZyB0eXBlPXttYXJraW5nVHlwZX0gdGhlbWU9e3RoZW1lfSBtYXJrZWQ9e2lzTXVsdGlEb3QgPyB0cnVlIDogbWFya2VkfSBzZWxlY3RlZD17aXNTZWxlY3RlZH0gZGlzYWJsZWQ9e2lzRGlzYWJsZWR9IGluYWN0aXZlPXtpc0luYWN0aXZlfSB0b2RheT17aXNUb2RheX0gZG90Q29sb3I9e2RvdENvbG9yfSBkb3RzPXtkb3RzfSBwZXJpb2RzPXtwZXJpb2RzfS8+KTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlclRleHQgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiAoPFRleHQgYWxsb3dGb250U2NhbGluZz17ZmFsc2V9IHN0eWxlPXtnZXRUZXh0U3R5bGUoKX0+XG4gICAgICAgIHtTdHJpbmcoY2hpbGRyZW4pfVxuICAgICAgPC9UZXh0Pik7XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJDb250ZW50ID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gKDxGcmFnbWVudD5cbiAgICAgICAge3JlbmRlclRleHQoKX1cbiAgICAgICAge3JlbmRlck1hcmtpbmcoKX1cbiAgICAgIDwvRnJhZ21lbnQ+KTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlckNvbnRhaW5lciA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgeyBhY3RpdmVPcGFjaXR5IH0gPSBfbWFya2luZztcbiAgICAgICAgcmV0dXJuICg8VG91Y2hhYmxlT3BhY2l0eSB0ZXN0SUQ9e3Rlc3RJRH0gc3R5bGU9e2dldENvbnRhaW5lclN0eWxlKCl9IGRpc2FibGVkPXtzaG91bGREaXNhYmxlVG91Y2hFdmVudCgpfSBhY3RpdmVPcGFjaXR5PXthY3RpdmVPcGFjaXR5fSBvblByZXNzPXshc2hvdWxkRGlzYWJsZVRvdWNoRXZlbnQoKSA/IF9vblByZXNzIDogdW5kZWZpbmVkfSBvbkxvbmdQcmVzcz17IXNob3VsZERpc2FibGVUb3VjaEV2ZW50KCkgPyBfb25Mb25nUHJlc3MgOiB1bmRlZmluZWR9IGFjY2Vzc2libGUgYWNjZXNzaWJpbGl0eVJvbGU9e2lzRGlzYWJsZWQgPyB1bmRlZmluZWQgOiAnYnV0dG9uJ30gYWNjZXNzaWJpbGl0eUxhYmVsPXthY2Nlc3NpYmlsaXR5TGFiZWx9PlxuICAgICAgICB7aXNNdWx0aVBlcmlvZCA/IHJlbmRlclRleHQoKSA6IHJlbmRlckNvbnRlbnQoKX1cbiAgICAgIDwvVG91Y2hhYmxlT3BhY2l0eT4pO1xuICAgIH07XG4gICAgY29uc3QgcmVuZGVyUGVyaW9kc0NvbnRhaW5lciA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuICg8VmlldyBzdHlsZT17c3R5bGUuY3VycmVudC5jb250YWluZXJ9PlxuICAgICAgICB7cmVuZGVyQ29udGFpbmVyKCl9XG4gICAgICAgIHtyZW5kZXJNYXJraW5nKCl9XG4gICAgICA8L1ZpZXc+KTtcbiAgICB9O1xuICAgIHJldHVybiBpc011bHRpUGVyaW9kID8gcmVuZGVyUGVyaW9kc0NvbnRhaW5lcigpIDogcmVuZGVyQ29udGFpbmVyKCk7XG59O1xuZXhwb3J0IGRlZmF1bHQgQmFzaWNEYXk7XG5CYXNpY0RheS5kaXNwbGF5TmFtZSA9ICdCYXNpY0RheSc7XG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsWUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsVUFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsTUFBQSxHQUFBQyxzQkFBQSxDQUFBSixPQUFBO0FBQ0EsSUFBQUssU0FBQSxHQUFBRCxzQkFBQSxDQUFBSixPQUFBO0FBQWlDLElBQUFNLFdBQUEsR0FBQU4sT0FBQTtBQUFBLFNBQUFPLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSx5QkFBQUMsV0FBQSxXQUFBQSxXQUFBLEdBQUFHLGdCQUFBLEdBQUFELGlCQUFBLEtBQUFGLFdBQUE7QUFBQSxTQUFBVCx3QkFBQWEsR0FBQSxFQUFBSixXQUFBLFNBQUFBLFdBQUEsSUFBQUksR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsV0FBQUQsR0FBQSxRQUFBQSxHQUFBLG9CQUFBQSxHQUFBLHdCQUFBQSxHQUFBLDRCQUFBRSxPQUFBLEVBQUFGLEdBQUEsVUFBQUcsS0FBQSxHQUFBUix3QkFBQSxDQUFBQyxXQUFBLE9BQUFPLEtBQUEsSUFBQUEsS0FBQSxD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