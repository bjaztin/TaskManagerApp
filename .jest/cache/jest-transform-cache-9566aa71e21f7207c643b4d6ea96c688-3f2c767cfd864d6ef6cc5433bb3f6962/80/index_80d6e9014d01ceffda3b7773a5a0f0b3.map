{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_interface","_style","_interopRequireDefault","_marking2","_jsxRuntime","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","BasicDay","props","theme","date","onPress","onLongPress","markingType","marking","state","disableAllTouchEventsForDisabledDays","disableAllTouchEventsForInactiveDays","accessibilityLabel","children","testID","style","useRef","styleConstructor","_marking","isSelected","selected","isDisabled","disabled","isInactive","inactive","isToday","isMultiDot","Marking","markings","MULTI_DOT","isMultiPeriod","MULTI_PERIOD","isCustom","CUSTOM","dateData","xdateToData","undefined","shouldDisableTouchEvent","disableTouchEvent","disableTouch","getContainerStyle","customStyles","selectedColor","styles","current","base","push","backgroundColor","today","container","borderRadius","getTextStyle","selectedTextColor","text","selectedText","color","disabledText","todayText","inactiveText","_onPress","useCallback","_onLongPress","renderMarking","marked","dotColor","dots","periods","jsx","type","renderText","Text","allowFontScaling","String","renderContent","jsxs","Fragment","renderContainer","activeOpacity","TouchableOpacity","accessible","accessibilityRole","renderPeriodsContainer","View","_default","exports","displayName"],"sources":["index.js"],"sourcesContent":["import React, { Fragment, useCallback, useRef } from 'react';\nimport { TouchableOpacity, Text, View } from 'react-native';\nimport { xdateToData } from '../../../interface';\nimport styleConstructor from './style';\nimport Marking from '../marking';\nconst BasicDay = (props) => {\n    const { theme, date, onPress, onLongPress, markingType, marking, state, disableAllTouchEventsForDisabledDays, disableAllTouchEventsForInactiveDays, accessibilityLabel, children, testID } = props;\n    const style = useRef(styleConstructor(theme));\n    const _marking = marking || {};\n    const isSelected = _marking.selected || state === 'selected';\n    const isDisabled = typeof _marking.disabled !== 'undefined' ? _marking.disabled : state === 'disabled';\n    const isInactive = _marking?.inactive;\n    const isToday = state === 'today';\n    const isMultiDot = markingType === Marking.markings.MULTI_DOT;\n    const isMultiPeriod = markingType === Marking.markings.MULTI_PERIOD;\n    const isCustom = markingType === Marking.markings.CUSTOM;\n    const dateData = date ? xdateToData(date) : undefined;\n    const shouldDisableTouchEvent = () => {\n        const { disableTouchEvent } = _marking;\n        let disableTouch = false;\n        if (typeof disableTouchEvent === 'boolean') {\n            disableTouch = disableTouchEvent;\n        }\n        else if (typeof disableAllTouchEventsForDisabledDays === 'boolean' && isDisabled) {\n            disableTouch = disableAllTouchEventsForDisabledDays;\n        }\n        else if (typeof disableAllTouchEventsForInactiveDays === 'boolean' && isInactive) {\n            disableTouch = disableAllTouchEventsForInactiveDays;\n        }\n        return disableTouch;\n    };\n    const getContainerStyle = () => {\n        const { customStyles, selectedColor } = _marking;\n        const styles = [style.current.base];\n        if (isSelected) {\n            styles.push(style.current.selected);\n            if (selectedColor) {\n                styles.push({ backgroundColor: selectedColor });\n            }\n        }\n        else if (isToday) {\n            styles.push(style.current.today);\n        }\n        //Custom marking type\n        if (isCustom && customStyles && customStyles.container) {\n            if (customStyles.container.borderRadius === undefined) {\n                customStyles.container.borderRadius = 16;\n            }\n            styles.push(customStyles.container);\n        }\n        return styles;\n    };\n    const getTextStyle = () => {\n        const { customStyles, selectedTextColor } = _marking;\n        const styles = [style.current.text];\n        if (isSelected) {\n            styles.push(style.current.selectedText);\n            if (selectedTextColor) {\n                styles.push({ color: selectedTextColor });\n            }\n        }\n        else if (isDisabled) {\n            styles.push(style.current.disabledText);\n        }\n        else if (isToday) {\n            styles.push(style.current.todayText);\n        }\n        else if (isInactive) {\n            styles.push(style.current.inactiveText);\n        }\n        //Custom marking type\n        if (isCustom && customStyles && customStyles.text) {\n            styles.push(customStyles.text);\n        }\n        return styles;\n    };\n    const _onPress = useCallback(() => {\n        onPress?.(dateData);\n    }, [onPress, date]);\n    const _onLongPress = useCallback(() => {\n        onLongPress?.(dateData);\n    }, [onLongPress, date]);\n    const renderMarking = () => {\n        const { marked, dotColor, dots, periods } = _marking;\n        return (<Marking type={markingType} theme={theme} marked={isMultiDot ? true : marked} selected={isSelected} disabled={isDisabled} inactive={isInactive} today={isToday} dotColor={dotColor} dots={dots} periods={periods}/>);\n    };\n    const renderText = () => {\n        return (<Text allowFontScaling={false} style={getTextStyle()}>\n        {String(children)}\n      </Text>);\n    };\n    const renderContent = () => {\n        return (<Fragment>\n        {renderText()}\n        {renderMarking()}\n      </Fragment>);\n    };\n    const renderContainer = () => {\n        const { activeOpacity } = _marking;\n        return (<TouchableOpacity testID={testID} style={getContainerStyle()} disabled={shouldDisableTouchEvent()} activeOpacity={activeOpacity} onPress={!shouldDisableTouchEvent() ? _onPress : undefined} onLongPress={!shouldDisableTouchEvent() ? _onLongPress : undefined} accessible accessibilityRole={isDisabled ? undefined : 'button'} accessibilityLabel={accessibilityLabel}>\n        {isMultiPeriod ? renderText() : renderContent()}\n      </TouchableOpacity>);\n    };\n    const renderPeriodsContainer = () => {\n        return (<View style={style.current.container}>\n        {renderContainer()}\n        {renderMarking()}\n      </View>);\n    };\n    return isMultiPeriod ? renderPeriodsContainer() : renderContainer();\n};\nexport default BasicDay;\nBasicDay.displayName = 'BasicDay';\n"],"mappings":"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"}