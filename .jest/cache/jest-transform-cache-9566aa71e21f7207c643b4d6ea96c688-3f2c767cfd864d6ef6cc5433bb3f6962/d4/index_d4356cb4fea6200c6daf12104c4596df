cc72b35fc6da422f1ef82142397dc959
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _includes = _interopRequireDefault(require("lodash/includes"));
var _xdate = _interopRequireDefault(require("xdate"));
var _react = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _dateutils = require("../../dateutils");
var _style = _interopRequireDefault(require("./style"));
var _jsxRuntime = require("react/jsx-runtime");
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
var accessibilityActions = [{
  name: 'increment',
  label: 'increment'
}, {
  name: 'decrement',
  label: 'decrement'
}];
var CalendarHeader = (0, _react.forwardRef)(function (props, ref) {
  var theme = props.theme,
    propsStyle = props.style,
    propsAddMonth = props.addMonth,
    month = props.month,
    monthFormat = props.monthFormat,
    firstDay = props.firstDay,
    hideDayNames = props.hideDayNames,
    showWeekNumbers = props.showWeekNumbers,
    hideArrows = props.hideArrows,
    renderArrow = props.renderArrow,
    onPressArrowLeft = props.onPressArrowLeft,
    onPressArrowRight = props.onPressArrowRight,
    _props$arrowsHitSlop = props.arrowsHitSlop,
    arrowsHitSlop = _props$arrowsHitSlop === void 0 ? 20 : _props$arrowsHitSlop,
    disableArrowLeft = props.disableArrowLeft,
    disableArrowRight = props.disableArrowRight,
    disabledDaysIndexes = props.disabledDaysIndexes,
    displayLoadingIndicator = props.displayLoadingIndicator,
    customHeaderTitle = props.customHeaderTitle,
    renderHeader = props.renderHeader,
    webAriaLevel = props.webAriaLevel,
    testID = props.testID,
    accessibilityElementsHidden = props.accessibilityElementsHidden,
    importantForAccessibility = props.importantForAccessibility,
    numberOfDays = props.numberOfDays,
    _props$current = props.current,
    current = _props$current === void 0 ? '' : _props$current,
    timelineLeftInset = props.timelineLeftInset;
  var numberOfDaysCondition = (0, _react.useMemo)(function () {
    return numberOfDays && numberOfDays > 1;
  }, [numberOfDays]);
  var style = (0, _react.useRef)((0, _style.default)(theme));
  var headerStyle = (0, _react.useMemo)(function () {
    return [style.current.header, numberOfDaysCondition ? style.current.partialHeader : undefined];
  }, [numberOfDaysCondition]);
  var partialWeekStyle = (0, _react.useMemo)(function () {
    return [style.current.partialWeek, {
      paddingLeft: timelineLeftInset
    }];
  }, [timelineLeftInset]);
  var dayNamesStyle = (0, _react.useMemo)(function () {
    return [style.current.week, numberOfDaysCondition ? partialWeekStyle : undefined];
  }, [numberOfDaysCondition, partialWeekStyle]);
  var hitSlop = (0, _react.useMemo)(function () {
    return typeof arrowsHitSlop === 'number' ? {
      top: arrowsHitSlop,
      left: arrowsHitSlop,
      bottom: arrowsHitSlop,
      right: arrowsHitSlop
    } : arrowsHitSlop;
  }, [arrowsHitSlop]);
  (0, _react.useImperativeHandle)(ref, function () {
    return {
      onPressLeft: onPressLeft,
      onPressRight: onPressRight
    };
  });
  var addMonth = (0, _react.useCallback)(function () {
    propsAddMonth == null ? void 0 : propsAddMonth(1);
  }, [propsAddMonth]);
  var subtractMonth = (0, _react.useCallback)(function () {
    propsAddMonth == null ? void 0 : propsAddMonth(-1);
  }, [propsAddMonth]);
  var onPressLeft = (0, _react.useCallback)(function () {
    if (typeof onPressArrowLeft === 'function') {
      return onPressArrowLeft(subtractMonth, month);
    }
    return subtractMonth();
  }, [onPressArrowLeft, subtractMonth, month]);
  var onPressRight = (0, _react.useCallback)(function () {
    if (typeof onPressArrowRight === 'function') {
      return onPressArrowRight(addMonth, month);
    }
    return addMonth();
  }, [onPressArrowRight, addMonth, month]);
  var onAccessibilityAction = (0, _react.useCallback)(function (event) {
    switch (event.nativeEvent.actionName) {
      case 'decrement':
        onPressLeft();
        break;
      case 'increment':
        onPressRight();
        break;
      default:
        break;
    }
  }, [onPressLeft, onPressRight]);
  var renderWeekDays = (0, _react.useMemo)(function () {
    var dayOfTheWeek = new _xdate.default(current).getDay();
    var weekDaysNames = numberOfDaysCondition ? (0, _dateutils.weekDayNames)(dayOfTheWeek) : (0, _dateutils.weekDayNames)(firstDay);
    var dayNames = numberOfDaysCondition ? weekDaysNames.slice(0, numberOfDays) : weekDaysNames;
    return dayNames.map(function (day, index) {
      var dayStyle = [style.current.dayHeader];
      if ((0, _includes.default)(disabledDaysIndexes, index)) {
        dayStyle.push(style.current.disabledDayHeader);
      }
      var dayTextAtIndex = `dayTextAtIndex${index}`;
      if (style.current[dayTextAtIndex]) {
        dayStyle.push(style.current[dayTextAtIndex]);
      }
      return (0, _jsxRuntime.jsx)(_reactNative.Text, {
        allowFontScaling: false,
        style: dayStyle,
        numberOfLines: 1,
        accessibilityLabel: '',
        children: day
      }, index);
    });
  }, [firstDay, current, numberOfDaysCondition, numberOfDays, disabledDaysIndexes]);
  var _renderHeader = function _renderHeader() {
    var webProps = _reactNative.Platform.OS === 'web' ? {
      'aria-level': webAriaLevel
    } : {};
    if (renderHeader) {
      return renderHeader(month);
    }
    if (customHeaderTitle) {
      return customHeaderTitle;
    }
    return (0, _jsxRuntime.jsx)(_react.Fragment, {
      children: (0, _jsxRuntime.jsx)(_reactNative.Text, _objectSpread(_objectSpread({
        allowFontScaling: false,
        style: style.current.monthText,
        testID: `${testID}.title`
      }, webProps), {}, {
        children: (0, _dateutils.formatNumbers)(month == null ? void 0 : month.toString(monthFormat))
      }))
    });
  };
  var _renderArrow = function _renderArrow(direction) {
    if (hideArrows) {
      return (0, _jsxRuntime.jsx)(_reactNative.View, {});
    }
    var isLeft = direction === 'left';
    var arrowId = isLeft ? 'leftArrow' : 'rightArrow';
    var shouldDisable = isLeft ? disableArrowLeft : disableArrowRight;
    var onPress = !shouldDisable ? isLeft ? onPressLeft : onPressRight : undefined;
    var imageSource = isLeft ? require("../img/previous.png") : require("../img/next.png");
    var renderArrowDirection = isLeft ? 'left' : 'right';
    return (0, _jsxRuntime.jsx)(_reactNative.TouchableOpacity, {
      onPress: onPress,
      disabled: shouldDisable,
      style: style.current.arrow,
      hitSlop: hitSlop,
      testID: `${testID}.${arrowId}`,
      children: renderArrow ? renderArrow(renderArrowDirection) : (0, _jsxRuntime.jsx)(_reactNative.Image, {
        source: imageSource,
        style: shouldDisable ? style.current.disabledArrowImage : style.current.arrowImage
      })
    });
  };
  var renderIndicator = function renderIndicator() {
    if (displayLoadingIndicator) {
      return (0, _jsxRuntime.jsx)(_reactNative.ActivityIndicator, {
        color: theme == null ? void 0 : theme.indicatorColor,
        testID: `${testID}.loader`
      });
    }
  };
  var renderWeekNumbersSpace = function renderWeekNumbersSpace() {
    return showWeekNumbers && (0, _jsxRuntime.jsx)(_reactNative.View, {
      style: style.current.dayHeader
    });
  };
  var renderDayNames = function renderDayNames() {
    if (!hideDayNames) {
      return (0, _jsxRuntime.jsxs)(_reactNative.View, {
        style: dayNamesStyle,
        testID: `${testID}.dayNames`,
        children: [renderWeekNumbersSpace(), renderWeekDays]
      });
    }
  };
  return (0, _jsxRuntime.jsxs)(_reactNative.View, {
    testID: testID,
    style: propsStyle,
    accessible: true,
    accessibilityRole: 'adjustable',
    accessibilityActions: accessibilityActions,
    onAccessibilityAction: onAccessibilityAction,
    accessibilityElementsHidden: accessibilityElementsHidden,
    importantForAccessibility: importantForAccessibility,
    children: [(0, _jsxRuntime.jsxs)(_reactNative.View, {
      style: headerStyle,
      children: [_renderArrow('left'), (0, _jsxRuntime.jsxs)(_reactNative.View, {
        style: style.current.headerContainer,
        children: [_renderHeader(), renderIndicator()]
      }), _renderArrow('right')]
    }), renderDayNames()]
  });
});
var _default = CalendarHeader;
exports.default = _default;
CalendarHeader.displayName = 'CalendarHeader';
CalendarHeader.defaultProps = {
  monthFormat: 'MMMM yyyy',
  webAriaLevel: 1,
  arrowsHitSlop: 20
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW5jbHVkZXMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl94ZGF0ZSIsIl9yZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX3JlYWN0TmF0aXZlIiwiX2RhdGV1dGlscyIsIl9zdHlsZSIsIl9qc3hSdW50aW1lIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwibm9kZUludGVyb3AiLCJXZWFrTWFwIiwiY2FjaGVCYWJlbEludGVyb3AiLCJjYWNoZU5vZGVJbnRlcm9wIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsIm93bktleXMiLCJlIiwiciIsInQiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibyIsImZpbHRlciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImFjY2Vzc2liaWxpdHlBY3Rpb25zIiwibmFtZSIsImxhYmVsIiwiQ2FsZW5kYXJIZWFkZXIiLCJmb3J3YXJkUmVmIiwicHJvcHMiLCJyZWYiLCJ0aGVtZSIsInByb3BzU3R5bGUiLCJzdHlsZSIsInByb3BzQWRkTW9udGgiLCJhZGRNb250aCIsIm1vbnRoIiwibW9udGhGb3JtYXQiLCJmaXJzdERheSIsImhpZGVEYXlOYW1lcyIsInNob3dXZWVrTnVtYmVycyIsImhpZGVBcnJvd3MiLCJyZW5kZXJBcnJvdyIsIm9uUHJlc3NBcnJvd0xlZnQiLCJvblByZXNzQXJyb3dSaWdodCIsIl9wcm9wcyRhcnJvd3NIaXRTbG9wIiwiYXJyb3dzSGl0U2xvcCIsImRpc2FibGVBcnJvd0xlZnQiLCJkaXNhYmxlQXJyb3dSaWdodCIsImRpc2FibGVkRGF5c0luZGV4ZXMiLCJkaXNwbGF5TG9hZGluZ0luZGljYXRvciIsImN1c3RvbUhlYWRlclRpdGxlIiwicmVuZGVySGVhZGVyIiwid2ViQXJpYUxldmVsIiwidGVzdElEIiwiYWNjZXNzaWJpbGl0eUVsZW1lbnRzSGlkZGVuIiwiaW1wb3J0YW50Rm9yQWNjZXNzaWJpbGl0eSIsIm51bWJlck9mRGF5cyIsIl9wcm9wcyRjdXJyZW50IiwiY3VycmVudCIsInRpbWVsaW5lTGVmdEluc2V0IiwibnVtYmVyT2ZEYXlzQ29uZGl0aW9uIiwidXNlTWVtbyIsInVzZVJlZiIsInN0eWxlQ29uc3RydWN0b3IiLCJoZWFkZXJTdHlsZSIsImhlYWRlciIsInBhcnRpYWxIZWFkZXIiLCJ1bmRlZmluZWQiLCJwYXJ0aWFsV2Vla1N0eWxlIiwicGFydGlhbFdlZWsiLCJwYWRkaW5nTGVmdCIsImRheU5hbWVzU3R5bGUiLCJ3ZWVrIiwiaGl0U2xvcCIsInRvcCIsImxlZnQiLCJib3R0b20iLCJyaWdodCIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJvblByZXNzTGVmdCIsIm9uUHJlc3NSaWdodCIsInVzZUNhbGxiYWNrIiwic3VidHJhY3RNb250aCIsIm9uQWNjZXNzaWJpbGl0eUFjdGlvbiIsImV2ZW50IiwibmF0aXZlRXZlbnQiLCJhY3Rpb25OYW1lIiwicmVuZGVyV2Vla0RheXMiLCJkYXlPZlRoZVdlZWsiLCJYRGF0ZSIsImdldERheSIsIndlZWtEYXlzTmFtZXMiLCJ3ZWVrRGF5TmFtZXMiLCJkYXlOYW1lcyIsInNsaWNlIiwibWFwIiwiZGF5IiwiaW5kZXgiLCJkYXlTdHlsZSIsImRheUhlYWRlciIsImluY2x1ZGVzIiwiZGlzYWJsZWREYXlIZWFkZXIiLCJkYXlUZXh0QXRJbmRleCIsImpzeCIsIlRleHQiLCJhbGxvd0ZvbnRTY2FsaW5nIiwibnVtYmVyT2ZMaW5lcyIsImFjY2Vzc2liaWxpdHlMYWJlbCIsImNoaWxkcmVuIiwiX3JlbmRlckhlYWRlciIsIndlYlByb3BzIiwiUGxhdGZvcm0iLCJPUyIsIkZyYWdtZW50IiwibW9udGhUZXh0IiwiZm9ybWF0TnVtYmVycyIsInRvU3RyaW5nIiwiX3JlbmRlckFycm93IiwiZGlyZWN0aW9uIiwiVmlldyIsImlzTGVmdCIsImFycm93SWQiLCJzaG91bGREaXNhYmxlIiwib25QcmVzcyIsImltYWdlU291cmNlIiwicmVuZGVyQXJyb3dEaXJlY3Rpb24iLCJUb3VjaGFibGVPcGFjaXR5IiwiZGlzYWJsZWQiLCJhcnJvdyIsIkltYWdlIiwic291cmNlIiwiZGlzYWJsZWRBcnJvd0ltYWdlIiwiYXJyb3dJbWFnZSIsInJlbmRlckluZGljYXRvciIsIkFjdGl2aXR5SW5kaWNhdG9yIiwiY29sb3IiLCJpbmRpY2F0b3JDb2xvciIsInJlbmRlcldlZWtOdW1iZXJzU3BhY2UiLCJyZW5kZXJEYXlOYW1lcyIsImpzeHMiLCJhY2Nlc3NpYmxlIiwiYWNjZXNzaWJpbGl0eVJvbGUiLCJoZWFkZXJDb250YWluZXIiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJkaXNwbGF5TmFtZSIsImRlZmF1bHRQcm9wcyJdLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpbmNsdWRlcyBmcm9tICdsb2Rhc2gvaW5jbHVkZXMnO1xuaW1wb3J0IFhEYXRlIGZyb20gJ3hkYXRlJztcbmltcG9ydCBSZWFjdCwgeyBGcmFnbWVudCwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIGZvcndhcmRSZWYsIHVzZUltcGVyYXRpdmVIYW5kbGUsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEFjdGl2aXR5SW5kaWNhdG9yLCBQbGF0Zm9ybSwgVmlldywgVGV4dCwgVG91Y2hhYmxlT3BhY2l0eSwgSW1hZ2UgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IHsgZm9ybWF0TnVtYmVycywgd2Vla0RheU5hbWVzIH0gZnJvbSAnLi4vLi4vZGF0ZXV0aWxzJztcbmltcG9ydCBzdHlsZUNvbnN0cnVjdG9yIGZyb20gJy4vc3R5bGUnO1xuY29uc3QgYWNjZXNzaWJpbGl0eUFjdGlvbnMgPSBbXG4gICAgeyBuYW1lOiAnaW5jcmVtZW50JywgbGFiZWw6ICdpbmNyZW1lbnQnIH0sXG4gICAgeyBuYW1lOiAnZGVjcmVtZW50JywgbGFiZWw6ICdkZWNyZW1lbnQnIH1cbl07XG5jb25zdCBDYWxlbmRhckhlYWRlciA9IGZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IHtcbiAgICBjb25zdCB7IHRoZW1lLCBzdHlsZTogcHJvcHNTdHlsZSwgYWRkTW9udGg6IHByb3BzQWRkTW9udGgsIG1vbnRoLCBtb250aEZvcm1hdCwgZmlyc3REYXksIGhpZGVEYXlOYW1lcywgc2hvd1dlZWtOdW1iZXJzLCBoaWRlQXJyb3dzLCByZW5kZXJBcnJvdywgb25QcmVzc0Fycm93TGVmdCwgb25QcmVzc0Fycm93UmlnaHQsIGFycm93c0hpdFNsb3AgPSAyMCwgZGlzYWJsZUFycm93TGVmdCwgZGlzYWJsZUFycm93UmlnaHQsIGRpc2FibGVkRGF5c0luZGV4ZXMsIGRpc3BsYXlMb2FkaW5nSW5kaWNhdG9yLCBjdXN0b21IZWFkZXJUaXRsZSwgcmVuZGVySGVhZGVyLCB3ZWJBcmlhTGV2ZWwsIHRlc3RJRCwgYWNjZXNzaWJpbGl0eUVsZW1lbnRzSGlkZGVuLCBpbXBvcnRhbnRGb3JBY2Nlc3NpYmlsaXR5LCBudW1iZXJPZkRheXMsIGN1cnJlbnQgPSAnJywgdGltZWxpbmVMZWZ0SW5zZXQgfSA9IHByb3BzO1xuICAgIGNvbnN0IG51bWJlck9mRGF5c0NvbmRpdGlvbiA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICByZXR1cm4gbnVtYmVyT2ZEYXlzICYmIG51bWJlck9mRGF5cyA+IDE7XG4gICAgfSwgW251bWJlck9mRGF5c10pO1xuICAgIGNvbnN0IHN0eWxlID0gdXNlUmVmKHN0eWxlQ29uc3RydWN0b3IodGhlbWUpKTtcbiAgICBjb25zdCBoZWFkZXJTdHlsZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICByZXR1cm4gW3N0eWxlLmN1cnJlbnQuaGVhZGVyLCBudW1iZXJPZkRheXNDb25kaXRpb24gPyBzdHlsZS5jdXJyZW50LnBhcnRpYWxIZWFkZXIgOiB1bmRlZmluZWRdO1xuICAgIH0sIFtudW1iZXJPZkRheXNDb25kaXRpb25dKTtcbiAgICBjb25zdCBwYXJ0aWFsV2Vla1N0eWxlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIHJldHVybiBbc3R5bGUuY3VycmVudC5wYXJ0aWFsV2VlaywgeyBwYWRkaW5nTGVmdDogdGltZWxpbmVMZWZ0SW5zZXQgfV07XG4gICAgfSwgW3RpbWVsaW5lTGVmdEluc2V0XSk7XG4gICAgY29uc3QgZGF5TmFtZXNTdHlsZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICByZXR1cm4gW3N0eWxlLmN1cnJlbnQud2VlaywgbnVtYmVyT2ZEYXlzQ29uZGl0aW9uID8gcGFydGlhbFdlZWtTdHlsZSA6IHVuZGVmaW5lZF07XG4gICAgfSwgW251bWJlck9mRGF5c0NvbmRpdGlvbiwgcGFydGlhbFdlZWtTdHlsZV0pO1xuICAgIGNvbnN0IGhpdFNsb3AgPSB1c2VNZW1vKCgpID0+IHR5cGVvZiBhcnJvd3NIaXRTbG9wID09PSAnbnVtYmVyJ1xuICAgICAgICA/IHsgdG9wOiBhcnJvd3NIaXRTbG9wLCBsZWZ0OiBhcnJvd3NIaXRTbG9wLCBib3R0b206IGFycm93c0hpdFNsb3AsIHJpZ2h0OiBhcnJvd3NIaXRTbG9wIH1cbiAgICAgICAgOiBhcnJvd3NIaXRTbG9wLCBbYXJyb3dzSGl0U2xvcF0pO1xuICAgIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiAoe1xuICAgICAgICBvblByZXNzTGVmdCxcbiAgICAgICAgb25QcmVzc1JpZ2h0XG4gICAgfSkpO1xuICAgIGNvbnN0IGFkZE1vbnRoID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBwcm9wc0FkZE1vbnRoPy4oMSk7XG4gICAgfSwgW3Byb3BzQWRkTW9udGhdKTtcbiAgICBjb25zdCBzdWJ0cmFjdE1vbnRoID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBwcm9wc0FkZE1vbnRoPy4oLTEpO1xuICAgIH0sIFtwcm9wc0FkZE1vbnRoXSk7XG4gICAgY29uc3Qgb25QcmVzc0xlZnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2Ygb25QcmVzc0Fycm93TGVmdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIG9uUHJlc3NBcnJvd0xlZnQoc3VidHJhY3RNb250aCwgbW9udGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJ0cmFjdE1vbnRoKCk7XG4gICAgfSwgW29uUHJlc3NBcnJvd0xlZnQsIHN1YnRyYWN0TW9udGgsIG1vbnRoXSk7XG4gICAgY29uc3Qgb25QcmVzc1JpZ2h0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIG9uUHJlc3NBcnJvd1JpZ2h0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gb25QcmVzc0Fycm93UmlnaHQoYWRkTW9udGgsIG1vbnRoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWRkTW9udGgoKTtcbiAgICB9LCBbb25QcmVzc0Fycm93UmlnaHQsIGFkZE1vbnRoLCBtb250aF0pO1xuICAgIGNvbnN0IG9uQWNjZXNzaWJpbGl0eUFjdGlvbiA9IHVzZUNhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGV2ZW50Lm5hdGl2ZUV2ZW50LmFjdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2RlY3JlbWVudCc6XG4gICAgICAgICAgICAgICAgb25QcmVzc0xlZnQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2luY3JlbWVudCc6XG4gICAgICAgICAgICAgICAgb25QcmVzc1JpZ2h0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSwgW29uUHJlc3NMZWZ0LCBvblByZXNzUmlnaHRdKTtcbiAgICBjb25zdCByZW5kZXJXZWVrRGF5cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCBkYXlPZlRoZVdlZWsgPSBuZXcgWERhdGUoY3VycmVudCkuZ2V0RGF5KCk7XG4gICAgICAgIGNvbnN0IHdlZWtEYXlzTmFtZXMgPSBudW1iZXJPZkRheXNDb25kaXRpb24gPyB3ZWVrRGF5TmFtZXMoZGF5T2ZUaGVXZWVrKSA6IHdlZWtEYXlOYW1lcyhmaXJzdERheSk7XG4gICAgICAgIGNvbnN0IGRheU5hbWVzID0gbnVtYmVyT2ZEYXlzQ29uZGl0aW9uID8gd2Vla0RheXNOYW1lcy5zbGljZSgwLCBudW1iZXJPZkRheXMpIDogd2Vla0RheXNOYW1lcztcbiAgICAgICAgcmV0dXJuIGRheU5hbWVzLm1hcCgoZGF5LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF5U3R5bGUgPSBbc3R5bGUuY3VycmVudC5kYXlIZWFkZXJdO1xuICAgICAgICAgICAgaWYgKGluY2x1ZGVzKGRpc2FibGVkRGF5c0luZGV4ZXMsIGluZGV4KSkge1xuICAgICAgICAgICAgICAgIGRheVN0eWxlLnB1c2goc3R5bGUuY3VycmVudC5kaXNhYmxlZERheUhlYWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkYXlUZXh0QXRJbmRleCA9IGBkYXlUZXh0QXRJbmRleCR7aW5kZXh9YDtcbiAgICAgICAgICAgIGlmIChzdHlsZS5jdXJyZW50W2RheVRleHRBdEluZGV4XSkge1xuICAgICAgICAgICAgICAgIGRheVN0eWxlLnB1c2goc3R5bGUuY3VycmVudFtkYXlUZXh0QXRJbmRleF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICg8VGV4dCBhbGxvd0ZvbnRTY2FsaW5nPXtmYWxzZX0ga2V5PXtpbmRleH0gc3R5bGU9e2RheVN0eWxlfSBudW1iZXJPZkxpbmVzPXsxfSBhY2Nlc3NpYmlsaXR5TGFiZWw9eycnfT5cbiAgICAgICAgICB7ZGF5fVxuICAgICAgICA8L1RleHQ+KTtcbiAgICAgICAgfSk7XG4gICAgfSwgW2ZpcnN0RGF5LCBjdXJyZW50LCBudW1iZXJPZkRheXNDb25kaXRpb24sIG51bWJlck9mRGF5cywgZGlzYWJsZWREYXlzSW5kZXhlc10pO1xuICAgIGNvbnN0IF9yZW5kZXJIZWFkZXIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHdlYlByb3BzID0gUGxhdGZvcm0uT1MgPT09ICd3ZWInID8geyAnYXJpYS1sZXZlbCc6IHdlYkFyaWFMZXZlbCB9IDoge307XG4gICAgICAgIGlmIChyZW5kZXJIZWFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiByZW5kZXJIZWFkZXIobW9udGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXN0b21IZWFkZXJUaXRsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGN1c3RvbUhlYWRlclRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoPEZyYWdtZW50PlxuICAgICAgICA8VGV4dCBhbGxvd0ZvbnRTY2FsaW5nPXtmYWxzZX0gc3R5bGU9e3N0eWxlLmN1cnJlbnQubW9udGhUZXh0fSB0ZXN0SUQ9e2Ake3Rlc3RJRH0udGl0bGVgfSB7Li4ud2ViUHJvcHN9PlxuICAgICAgICAgIHtmb3JtYXROdW1iZXJzKG1vbnRoPy50b1N0cmluZyhtb250aEZvcm1hdCkpfVxuICAgICAgICA8L1RleHQ+XG4gICAgICA8L0ZyYWdtZW50Pik7XG4gICAgfTtcbiAgICBjb25zdCBfcmVuZGVyQXJyb3cgPSAoZGlyZWN0aW9uKSA9PiB7XG4gICAgICAgIGlmIChoaWRlQXJyb3dzKSB7XG4gICAgICAgICAgICByZXR1cm4gPFZpZXcgLz47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNMZWZ0ID0gZGlyZWN0aW9uID09PSAnbGVmdCc7XG4gICAgICAgIGNvbnN0IGFycm93SWQgPSBpc0xlZnQgPyAnbGVmdEFycm93JyA6ICdyaWdodEFycm93JztcbiAgICAgICAgY29uc3Qgc2hvdWxkRGlzYWJsZSA9IGlzTGVmdCA/IGRpc2FibGVBcnJvd0xlZnQgOiBkaXNhYmxlQXJyb3dSaWdodDtcbiAgICAgICAgY29uc3Qgb25QcmVzcyA9ICFzaG91bGREaXNhYmxlID8gaXNMZWZ0ID8gb25QcmVzc0xlZnQgOiBvblByZXNzUmlnaHQgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGltYWdlU291cmNlID0gaXNMZWZ0ID8gcmVxdWlyZSgnLi4vaW1nL3ByZXZpb3VzLnBuZycpIDogcmVxdWlyZSgnLi4vaW1nL25leHQucG5nJyk7XG4gICAgICAgIGNvbnN0IHJlbmRlckFycm93RGlyZWN0aW9uID0gaXNMZWZ0ID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgICAgcmV0dXJuICg8VG91Y2hhYmxlT3BhY2l0eSBvblByZXNzPXtvblByZXNzfSBkaXNhYmxlZD17c2hvdWxkRGlzYWJsZX0gc3R5bGU9e3N0eWxlLmN1cnJlbnQuYXJyb3d9IGhpdFNsb3A9e2hpdFNsb3B9IHRlc3RJRD17YCR7dGVzdElEfS4ke2Fycm93SWR9YH0+XG4gICAgICAgIHtyZW5kZXJBcnJvdyA/IChyZW5kZXJBcnJvdyhyZW5kZXJBcnJvd0RpcmVjdGlvbikpIDogKDxJbWFnZSBzb3VyY2U9e2ltYWdlU291cmNlfSBzdHlsZT17c2hvdWxkRGlzYWJsZSA/IHN0eWxlLmN1cnJlbnQuZGlzYWJsZWRBcnJvd0ltYWdlIDogc3R5bGUuY3VycmVudC5hcnJvd0ltYWdlfS8+KX1cbiAgICAgIDwvVG91Y2hhYmxlT3BhY2l0eT4pO1xuICAgIH07XG4gICAgY29uc3QgcmVuZGVySW5kaWNhdG9yID0gKCkgPT4ge1xuICAgICAgICBpZiAoZGlzcGxheUxvYWRpbmdJbmRpY2F0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiAoPEFjdGl2aXR5SW5kaWNhdG9yIGNvbG9yPXt0aGVtZT8uaW5kaWNhdG9yQ29sb3J9IHRlc3RJRD17YCR7dGVzdElEfS5sb2FkZXJgfS8+KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVuZGVyV2Vla051bWJlcnNTcGFjZSA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHNob3dXZWVrTnVtYmVycyAmJiA8VmlldyBzdHlsZT17c3R5bGUuY3VycmVudC5kYXlIZWFkZXJ9Lz47XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJEYXlOYW1lcyA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFoaWRlRGF5TmFtZXMpIHtcbiAgICAgICAgICAgIHJldHVybiAoPFZpZXcgc3R5bGU9e2RheU5hbWVzU3R5bGV9IHRlc3RJRD17YCR7dGVzdElEfS5kYXlOYW1lc2B9PlxuICAgICAgICAgIHtyZW5kZXJXZWVrTnVtYmVyc1NwYWNlKCl9XG4gICAgICAgICAge3JlbmRlcldlZWtEYXlzfVxuICAgICAgICA8L1ZpZXc+KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuICg8VmlldyB0ZXN0SUQ9e3Rlc3RJRH0gc3R5bGU9e3Byb3BzU3R5bGV9IGFjY2Vzc2libGUgYWNjZXNzaWJpbGl0eVJvbGU9eydhZGp1c3RhYmxlJ30gYWNjZXNzaWJpbGl0eUFjdGlvbnM9e2FjY2Vzc2liaWxpdHlBY3Rpb25zfSBvbkFjY2Vzc2liaWxpdHlBY3Rpb249e29uQWNjZXNzaWJpbGl0eUFjdGlvbn0gYWNjZXNzaWJpbGl0eUVsZW1lbnRzSGlkZGVuPXthY2Nlc3NpYmlsaXR5RWxlbWVudHNIaWRkZW59IC8vIGlPU1xuICAgICBpbXBvcnRhbnRGb3JBY2Nlc3NpYmlsaXR5PXtpbXBvcnRhbnRGb3JBY2Nlc3NpYmlsaXR5fSAvLyBBbmRyb2lkXG4gICAgPlxuICAgICAgPFZpZXcgc3R5bGU9e2hlYWRlclN0eWxlfT5cbiAgICAgICAge19yZW5kZXJBcnJvdygnbGVmdCcpfVxuICAgICAgICA8VmlldyBzdHlsZT17c3R5bGUuY3VycmVudC5oZWFkZXJDb250YWluZXJ9PlxuICAgICAgICAgIHtfcmVuZGVySGVhZGVyKCl9XG4gICAgICAgICAge3JlbmRlckluZGljYXRvcigpfVxuICAgICAgICA8L1ZpZXc+XG4gICAgICAgIHtfcmVuZGVyQXJyb3coJ3JpZ2h0Jyl9XG4gICAgICA8L1ZpZXc+XG4gICAgICB7cmVuZGVyRGF5TmFtZXMoKX1cbiAgICA8L1ZpZXc+KTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgQ2FsZW5kYXJIZWFkZXI7XG5DYWxlbmRhckhlYWRlci5kaXNwbGF5TmFtZSA9ICdDYWxlbmRhckhlYWRlcic7XG5DYWxlbmRhckhlYWRlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgbW9udGhGb3JtYXQ6ICdNTU1NIHl5eXknLFxuICAgIHdlYkFyaWFMZXZlbDogMSxcbiAgICBhcnJvd3NIaXRTbG9wOiAyMFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsTUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsTUFBQSxHQUFBQyx1QkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQUksWUFBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUssVUFBQSxHQUFBTCxPQUFBO0FBQ0EsSUFBQU0sTUFBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQXVDLElBQUFPLFdBQUEsR0FBQVAsT0FBQTtBQUFBLFNBQUFRLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSx5QkFBQUMsV0FBQSxXQUFBQSxXQUFBLEdBQUFHLGdCQUFBLEdBQUFELGlCQUFBLEtBQUFGLFdBQUE7QUFBQSxTQUFBTix3QkFBQVUsR0FBQSxFQUFBSixXQUFBLFNBQUFBLFdBQUEsSUFBQUksR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsV0FBQUQsR0FBQSxRQUFBQSxHQUFBLG9CQUFBQSxHQUFB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