{"version":3,"names":["_package","_interopRequireDefault","require","_package$default$vers","default","version","split","_package$default$vers2","_slicedToArray2","majorStr","minorStr","REACT_NATIVE_VERSION","major","parseInt","minor","toArray","object","Array","isArray","withPrevAndCurrent","array","mapFn","previousArr","currentArr","_toConsumableArray2","transformedArr","forEach","current","i","previous","transformed","push","hasProperty","key","Object","prototype","hasOwnProperty","call","isJestEnv","global","process","env","JEST_WORKER_ID","tagMessage","msg","isFabric","_global","nativeFabricUIManager","isRemoteDebuggingEnabled","nativeCallSyncHook","__REMOTEDEV__"],"sources":["utils.ts"],"sourcesContent":["import pack from 'react-native/package.json';\n\nconst [majorStr, minorStr] = pack.version.split('.');\nexport const REACT_NATIVE_VERSION = {\n  major: parseInt(majorStr, 10),\n  minor: parseInt(minorStr, 10),\n};\n\nexport function toArray<T>(object: T | T[]): T[] {\n  if (!Array.isArray(object)) {\n    return [object];\n  }\n\n  return object;\n}\n\nexport type withPrevAndCurrentMapFn<T, Transformed> = (\n  previous: Transformed | null,\n  current: T\n) => Transformed;\nexport function withPrevAndCurrent<T, Transformed>(\n  array: T[],\n  mapFn: withPrevAndCurrentMapFn<T, Transformed>\n): Transformed[] {\n  const previousArr: (null | Transformed)[] = [null];\n  const currentArr = [...array];\n  const transformedArr: Transformed[] = [];\n  currentArr.forEach((current, i) => {\n    const previous = previousArr[i];\n    const transformed = mapFn(previous, current);\n    previousArr.push(transformed);\n    transformedArr.push(transformed);\n  });\n  return transformedArr;\n}\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function hasProperty(object: object, key: string) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n}\n\nexport function isJestEnv(): boolean {\n  // @ts-ignore Do not use `@types/node` because it will prioritise Node types over RN types which breaks the types (ex. setTimeout) in React Native projects.\n  return hasProperty(global, 'process') && !!process.env.JEST_WORKER_ID;\n}\n\nexport function tagMessage(msg: string) {\n  return `[react-native-gesture-handler] ${msg}`;\n}\n\n// helper method to check whether Fabric is enabled, however global.nativeFabricUIManager\n// may not be initialized before the first render\nexport function isFabric(): boolean {\n  // @ts-expect-error nativeFabricUIManager is not yet included in the RN types\n  return !!global?.nativeFabricUIManager;\n}\n\nexport function isRemoteDebuggingEnabled(): boolean {\n  // react-native-reanimated checks if in remote debugging in the same way\n  // @ts-ignore global is available but node types are not included\n  return !(global as any).nativeCallSyncHook || (global as any).__REMOTEDEV__;\n}\n"],"mappings":";;;;;;;;;;;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;;;;;;AAEA,IAAAC,qBAAA,GAA6BH,QAAA,CAAAI,OAAA,CAAKC,OAAL,CAAaC,KAAb,CAAmB,GAAnB,CAA7B;EAAAC,sBAAA,OAAAC,eAAA,CAAAJ,OAAA,EAAAD,qBAAA;EAAOM,QAAD,GAAAF,sBAAA;EAAWG,QAAX,GAAAH,sBAAA;AACC,IAAMI,oBAAoB,GAAG;EAClCC,KAAK,EAAEC,QAAQ,CAACJ,QAAD,EAAW,EAAX,CADmB;EAElCK,KAAK,EAAED,QAAQ,CAACH,QAAD,EAAW,EAAX;AAFmB,CAA7B;;AAKA,SAASK,OAATA,CAAoBC,MAApB,EAA0C;EAC/C,IAAI,CAACC,KAAK,CAACC,OAAN,CAAcF,MAAd,CAAL,EAA4B;IAC1B,OAAO,CAACA,MAAD,CAAP;EACD;EAED,OAAOA,MAAP;AACD;AAMM,SAASG,kBAATA,CACLC,KADK,EAELC,KAFK,EAGU;EACf,IAAMC,WAAmC,GAAG,CAAC,IAAD,CAA5C;EACA,IAAMC,UAAU,OAAAC,mBAAA,CAAApB,OAAA,EAAOgB,KAAJ,CAAnB;EACA,IAAMK,cAA6B,GAAG,EAAtC;EACAF,UAAU,CAACG,OAAX,CAAmB,UAACC,OAAD,EAAUC,CAAV,EAAgB;IACjC,IAAMC,QAAQ,GAAGP,WAAW,CAACM,CAAD,CAA5B;IACA,IAAME,WAAW,GAAGT,KAAK,CAACQ,QAAD,EAAWF,OAAX,CAAzB;IACAL,WAAW,CAACS,IAAZ,CAAiBD,WAAjB;IACAL,cAAc,CAACM,IAAf,CAAoBD,WAApB;EACD,CALD;EAMA,OAAOL,cAAP;AACD;AAGM,SAASO,WAATA,CAAqBhB,MAArB,EAAqCiB,GAArC,EAAkD;EACvD,OAAOC,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCrB,MAArC,EAA6CiB,GAA7C,CAAP;AACD;AAEM,SAASK,SAATA,CAAA,EAA8B;EAEnC,OAAON,WAAW,CAACO,MAAD,EAAS,SAAT,CAAX,IAAkC,CAAC,CAACC,OAAO,CAACC,GAAR,CAAYC,cAAvD;AACD;AAEM,SAASC,UAATA,CAAoBC,GAApB,EAAiC;EACtC,OAAQ,kCAAiCA,GAAI,EAA7C;AACD;AAIM,SAASC,QAATA,CAAA,EAA6B;EAAA,IAAAC,OAAA;EAElC,OAAO,CAAC,GAAAA,OAAA,GAACP,MAAD,cAAAO,OAAA,eAACA,OAAA,CAAQC,qBAAT,CAAR;AACD;AAEM,SAASC,wBAATA,CAAA,EAA6C;EAGlD,OAAO,CAAET,MAAD,CAAgBU,kBAAjB,IAAwCV,MAAD,CAAgBW,aAA9D;AACD"}