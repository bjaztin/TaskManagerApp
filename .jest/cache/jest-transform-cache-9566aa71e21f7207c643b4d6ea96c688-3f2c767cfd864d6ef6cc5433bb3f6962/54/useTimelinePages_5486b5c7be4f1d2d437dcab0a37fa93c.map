{"version":3,"names":["_react","require","_inRange","_interopRequireDefault","_times","_debounce","_constants","_dateutils","PAGES_COUNT","exports","NEAR_EDGE_THRESHOLD","INITIAL_PAGE","Math","floor","UseTimelinePages","_ref","date","listRef","numberOfDays","pagesRef","useRef","times","i","generateDay","_useState","useState","current","_useState2","_slicedToArray2","default","pages","setPages","shouldResetPages","useEffect","updatedDays","isOutOfRange","useCallback","index","inRange","isNearEdges","isOnEdgePages","scrollToPage","pageIndex","_listRef$current","scrollToOffset","constants","screenWidth","resetPages","setTimeout","resetPagesDebounce","debounce","leading","trailing","scrollToPageDebounce","_default"],"sources":["useTimelinePages.js"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from 'react';\nimport inRange from 'lodash/inRange';\nimport times from 'lodash/times';\nimport debounce from 'lodash/debounce';\nimport constants from '../commons/constants';\nimport { generateDay } from '../dateutils';\nexport const PAGES_COUNT = 100;\nexport const NEAR_EDGE_THRESHOLD = 10;\nexport const INITIAL_PAGE = Math.floor(PAGES_COUNT / 2);\nconst UseTimelinePages = ({ date, listRef, numberOfDays }) => {\n    const pagesRef = useRef(times(PAGES_COUNT, i => {\n        return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n    }));\n    const [pages, setPages] = useState(pagesRef.current);\n    const shouldResetPages = useRef(false);\n    useEffect(() => {\n        const updatedDays = times(PAGES_COUNT, i => {\n            return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n        });\n        pagesRef.current = updatedDays;\n        setPages(updatedDays);\n    }, [numberOfDays]);\n    const isOutOfRange = useCallback((index) => {\n        return !inRange(index, 0, PAGES_COUNT);\n    }, []);\n    const isNearEdges = useCallback(index => {\n        return !inRange(index, NEAR_EDGE_THRESHOLD, PAGES_COUNT - NEAR_EDGE_THRESHOLD);\n    }, []);\n    const isOnEdgePages = useCallback(index => {\n        return !inRange(index, 1, PAGES_COUNT - 1);\n    }, []);\n    const scrollToPage = (pageIndex) => {\n        listRef.current?.scrollToOffset(pageIndex * constants.screenWidth, 0, false);\n    };\n    const resetPages = (date) => {\n        pagesRef.current = times(PAGES_COUNT, i => {\n            return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n        });\n        setPages(pagesRef.current);\n        setTimeout(() => {\n            scrollToPage(INITIAL_PAGE);\n            shouldResetPages.current = false;\n        }, 0);\n    };\n    return {\n        resetPages: useCallback(resetPages, []),\n        resetPagesDebounce: useCallback(debounce(resetPages, 500, { leading: false, trailing: true }), []),\n        scrollToPage: useCallback(scrollToPage, []),\n        scrollToPageDebounce: useCallback(debounce(scrollToPage, 250, { leading: false, trailing: true }), []),\n        pagesRef,\n        pages,\n        shouldResetPages,\n        isOutOfRange,\n        isNearEdges,\n        isOnEdgePages\n    };\n};\nexport default UseTimelinePages;\n"],"mappings":"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"}