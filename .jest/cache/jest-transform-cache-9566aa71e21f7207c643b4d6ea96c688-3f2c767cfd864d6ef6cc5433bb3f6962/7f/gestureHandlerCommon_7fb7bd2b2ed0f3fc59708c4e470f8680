75ce17b66892a4740a9f6a90f4fe2cde
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault2(require("@babel/runtime/helpers/defineProperty"));
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.filterConfig = filterConfig;
exports.findNodeHandle = findNodeHandle;
exports.scheduleFlushOperations = scheduleFlushOperations;
exports.baseGestureHandlerWithMonitorProps = exports.baseGestureHandlerProps = void 0;
var _reactNative = require("react-native");
var _handlersRegistry = require("./handlersRegistry");
var _utils = require("../utils");
var _RNGestureHandlerModule = _interopRequireDefault(require("../RNGestureHandlerModule"));
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
var commonProps = ['id', 'enabled', 'shouldCancelWhenOutside', 'hitSlop', 'cancelsTouchesInView', 'userSelect'];
var componentInteractionProps = ['waitFor', 'simultaneousHandlers'];
var baseGestureHandlerProps = [].concat(commonProps, componentInteractionProps, ['onBegan', 'onFailed', 'onCancelled', 'onActivated', 'onEnded', 'onGestureEvent', 'onHandlerStateChange']);
exports.baseGestureHandlerProps = baseGestureHandlerProps;
var baseGestureHandlerWithMonitorProps = [].concat(commonProps, ['needsPointerData', 'manualActivation']);
exports.baseGestureHandlerWithMonitorProps = baseGestureHandlerWithMonitorProps;
function isConfigParam(param, name) {
  return param !== undefined && (param !== Object(param) || !('__isNative' in param)) && name !== 'onHandlerStateChange' && name !== 'onGestureEvent';
}
function filterConfig(props, validProps) {
  var defaults = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var filteredConfig = _objectSpread({}, defaults);
  for (var key of validProps) {
    var value = props[key];
    if (isConfigParam(value, key)) {
      if (key === 'simultaneousHandlers' || key === 'waitFor') {
        value = transformIntoHandlerTags(props[key]);
      } else if (key === 'hitSlop' && typeof value !== 'object') {
        value = {
          top: value,
          left: value,
          bottom: value,
          right: value
        };
      }
      filteredConfig[key] = value;
    }
  }
  return filteredConfig;
}
function transformIntoHandlerTags(handlerIDs) {
  handlerIDs = (0, _utils.toArray)(handlerIDs);
  if (_reactNative.Platform.OS === 'web') {
    return handlerIDs.map(function (_ref) {
      var current = _ref.current;
      return current;
    }).filter(function (handle) {
      return handle;
    });
  }
  return handlerIDs.map(function (handlerID) {
    var _handlerID$current;
    return _handlersRegistry.handlerIDToTag[handlerID] || ((_handlerID$current = handlerID.current) === null || _handlerID$current === void 0 ? void 0 : _handlerID$current.handlerTag) || -1;
  }).filter(function (handlerTag) {
    return handlerTag > 0;
  });
}
function findNodeHandle(node) {
  if (_reactNative.Platform.OS === 'web') {
    return node;
  }
  return (0, _reactNative.findNodeHandle)(node);
}
var flushOperationsScheduled = false;
function scheduleFlushOperations() {
  if (!flushOperationsScheduled) {
    flushOperationsScheduled = true;
    queueMicrotask(function () {
      _RNGestureHandlerModule.default.flushOperations();
      flushOperationsScheduled = false;
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3ROYXRpdmUiLCJyZXF1aXJlIiwiX2hhbmRsZXJzUmVnaXN0cnkiLCJfdXRpbHMiLCJfUk5HZXN0dXJlSGFuZGxlck1vZHVsZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJjb21tb25Qcm9wcyIsImNvbXBvbmVudEludGVyYWN0aW9uUHJvcHMiLCJiYXNlR2VzdHVyZUhhbmRsZXJQcm9wcyIsImNvbmNhdCIsImJhc2VHZXN0dXJlSGFuZGxlcldpdGhNb25pdG9yUHJvcHMiLCJpc0NvbmZpZ1BhcmFtIiwicGFyYW0iLCJuYW1lIiwidW5kZWZpbmVkIiwiT2JqZWN0IiwiZmlsdGVyQ29uZmlnIiwicHJvcHMiLCJ2YWxpZFByb3BzIiwiZGVmYXVsdHMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJmaWx0ZXJlZENvbmZpZyIsIl9vYmplY3RTcHJlYWQiLCJrZXkiLCJ2YWx1ZSIsInRyYW5zZm9ybUludG9IYW5kbGVyVGFncyIsInRvcCIsImxlZnQiLCJib3R0b20iLCJyaWdodCIsImhhbmRsZXJJRHMiLCJ0b0FycmF5IiwiUGxhdGZvcm0iLCJPUyIsIm1hcCIsIl9yZWYiLCJjdXJyZW50IiwiZmlsdGVyIiwiaGFuZGxlIiwiaGFuZGxlcklEIiwiX2hhbmRsZXJJRCRjdXJyZW50IiwiaGFuZGxlcklEVG9UYWciLCJoYW5kbGVyVGFnIiwiZmluZE5vZGVIYW5kbGUiLCJub2RlIiwiZmx1c2hPcGVyYXRpb25zU2NoZWR1bGVkIiwic2NoZWR1bGVGbHVzaE9wZXJhdGlvbnMiLCJxdWV1ZU1pY3JvdGFzayIsImRlZmF1bHQiLCJmbHVzaE9wZXJhdGlvbnMiXSwic291cmNlcyI6WyJnZXN0dXJlSGFuZGxlckNvbW1vbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBQcmV2aW91cyB0eXBlcyBleHBvcnRlZCBnZXN0dXJlIGhhbmRsZXJzIGFzIGNsYXNzZXMgd2hpY2ggY3JlYXRlcyBhbiBpbnRlcmZhY2UgYW5kIHZhcmlhYmxlLCBib3RoIG5hbWVkIHRoZSBzYW1lIGFzIGNsYXNzLlxuLy8gV2l0aG91dCB0aG9zZSB0eXBlcywgd2UnZCBpbnRyb2R1Y2UgYnJlYWtpbmcgY2hhbmdlLCBmb3JjaW5nIHVzZXJzIHRvIHByZWZpeCBldmVyeSBoYW5kbGVyIHR5cGUgc3BlY2lmaWNhdGlvbiB3aXRoIHR5cGVvZlxuLy8gZS5nLiBSZWFjdC5jcmVhdGVSZWY8VGFwR2VzdHVyZUhhbmRsZXI+IC0+IFJlYWN0LmNyZWF0ZVJlZjx0eXBlb2YgVGFwR2VzdHVyZUhhbmRsZXI+LlxuLy8gU2VlIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rL2NsYXNzZXMuaHRtbCNjb25zdHJ1Y3Rvci1mdW5jdGlvbnMgZm9yIHJlZmVyZW5jZS5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFBsYXRmb3JtLCBmaW5kTm9kZUhhbmRsZSBhcyBmaW5kTm9kZUhhbmRsZVJOIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcblxuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi9TdGF0ZSc7XG5pbXBvcnQgeyBUb3VjaEV2ZW50VHlwZSB9IGZyb20gJy4uL1RvdWNoRXZlbnRUeXBlJztcbmltcG9ydCB7IFZhbHVlT2YgfSBmcm9tICcuLi90eXBlVXRpbHMnO1xuaW1wb3J0IHsgaGFuZGxlcklEVG9UYWcgfSBmcm9tICcuL2hhbmRsZXJzUmVnaXN0cnknO1xuaW1wb3J0IHsgdG9BcnJheSB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBSTkdlc3R1cmVIYW5kbGVyTW9kdWxlIGZyb20gJy4uL1JOR2VzdHVyZUhhbmRsZXJNb2R1bGUnO1xuXG5jb25zdCBjb21tb25Qcm9wcyA9IFtcbiAgJ2lkJyxcbiAgJ2VuYWJsZWQnLFxuICAnc2hvdWxkQ2FuY2VsV2hlbk91dHNpZGUnLFxuICAnaGl0U2xvcCcsXG4gICdjYW5jZWxzVG91Y2hlc0luVmlldycsXG4gICd1c2VyU2VsZWN0Jyxcbl0gYXMgY29uc3Q7XG5cbmNvbnN0IGNvbXBvbmVudEludGVyYWN0aW9uUHJvcHMgPSBbJ3dhaXRGb3InLCAnc2ltdWx0YW5lb3VzSGFuZGxlcnMnXSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IGJhc2VHZXN0dXJlSGFuZGxlclByb3BzID0gW1xuICAuLi5jb21tb25Qcm9wcyxcbiAgLi4uY29tcG9uZW50SW50ZXJhY3Rpb25Qcm9wcyxcbiAgJ29uQmVnYW4nLFxuICAnb25GYWlsZWQnLFxuICAnb25DYW5jZWxsZWQnLFxuICAnb25BY3RpdmF0ZWQnLFxuICAnb25FbmRlZCcsXG4gICdvbkdlc3R1cmVFdmVudCcsXG4gICdvbkhhbmRsZXJTdGF0ZUNoYW5nZScsXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgYmFzZUdlc3R1cmVIYW5kbGVyV2l0aE1vbml0b3JQcm9wcyA9IFtcbiAgLi4uY29tbW9uUHJvcHMsXG4gICduZWVkc1BvaW50ZXJEYXRhJyxcbiAgJ21hbnVhbEFjdGl2YXRpb24nLFxuXTtcblxuZXhwb3J0IGludGVyZmFjZSBHZXN0dXJlRXZlbnRQYXlsb2FkIHtcbiAgaGFuZGxlclRhZzogbnVtYmVyO1xuICBudW1iZXJPZlBvaW50ZXJzOiBudW1iZXI7XG4gIHN0YXRlOiBWYWx1ZU9mPHR5cGVvZiBTdGF0ZT47XG59XG5leHBvcnQgaW50ZXJmYWNlIEhhbmRsZXJTdGF0ZUNoYW5nZUV2ZW50UGF5bG9hZCBleHRlbmRzIEdlc3R1cmVFdmVudFBheWxvYWQge1xuICBvbGRTdGF0ZTogVmFsdWVPZjx0eXBlb2YgU3RhdGU+O1xufVxuXG5leHBvcnQgdHlwZSBIaXRTbG9wID1cbiAgfCBudW1iZXJcbiAgfCBQYXJ0aWFsPFxuICAgICAgUmVjb3JkPFxuICAgICAgICAnbGVmdCcgfCAncmlnaHQnIHwgJ3RvcCcgfCAnYm90dG9tJyB8ICd2ZXJ0aWNhbCcgfCAnaG9yaXpvbnRhbCcsXG4gICAgICAgIG51bWJlclxuICAgICAgPlxuICAgID5cbiAgfCBSZWNvcmQ8J3dpZHRoJyB8ICdsZWZ0JywgbnVtYmVyPlxuICB8IFJlY29yZDwnd2lkdGgnIHwgJ3JpZ2h0JywgbnVtYmVyPlxuICB8IFJlY29yZDwnaGVpZ2h0JyB8ICd0b3AnLCBudW1iZXI+XG4gIHwgUmVjb3JkPCdoZWlnaHQnIHwgJ2JvdHRvbScsIG51bWJlcj47XG5cbmV4cG9ydCB0eXBlIFVzZXJTZWxlY3QgPSAnbm9uZScgfCAnYXV0bycgfCAndGV4dCc7XG5cbi8vVE9ETyhUUykgZXZlbnRzIGluIGhhbmRsZXJzXG5cbmV4cG9ydCBpbnRlcmZhY2UgR2VzdHVyZUV2ZW50PEV4dHJhRXZlbnRQYXlsb2FkVCA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+PiB7XG4gIG5hdGl2ZUV2ZW50OiBSZWFkb25seTxHZXN0dXJlRXZlbnRQYXlsb2FkICYgRXh0cmFFdmVudFBheWxvYWRUPjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSGFuZGxlclN0YXRlQ2hhbmdlRXZlbnQ8XG4gIEV4dHJhRXZlbnRQYXlsb2FkVCA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+XG4+IHtcbiAgbmF0aXZlRXZlbnQ6IFJlYWRvbmx5PEhhbmRsZXJTdGF0ZUNoYW5nZUV2ZW50UGF5bG9hZCAmIEV4dHJhRXZlbnRQYXlsb2FkVD47XG59XG5cbmV4cG9ydCB0eXBlIFRvdWNoRGF0YSA9IHtcbiAgaWQ6IG51bWJlcjtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIGFic29sdXRlWDogbnVtYmVyO1xuICBhYnNvbHV0ZVk6IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIEdlc3R1cmVUb3VjaEV2ZW50ID0ge1xuICBoYW5kbGVyVGFnOiBudW1iZXI7XG4gIG51bWJlck9mVG91Y2hlczogbnVtYmVyO1xuICBzdGF0ZTogVmFsdWVPZjx0eXBlb2YgU3RhdGU+O1xuICBldmVudFR5cGU6IFRvdWNoRXZlbnRUeXBlO1xuICBhbGxUb3VjaGVzOiBUb3VjaERhdGFbXTtcbiAgY2hhbmdlZFRvdWNoZXM6IFRvdWNoRGF0YVtdO1xufTtcblxuZXhwb3J0IHR5cGUgR2VzdHVyZVVwZGF0ZUV2ZW50PEdlc3R1cmVFdmVudFBheWxvYWRUID0gUmVjb3JkPHN0cmluZywgdW5rbm93bj4+ID1cbiAgR2VzdHVyZUV2ZW50UGF5bG9hZCAmIEdlc3R1cmVFdmVudFBheWxvYWRUO1xuXG5leHBvcnQgdHlwZSBHZXN0dXJlU3RhdGVDaGFuZ2VFdmVudDxcbiAgR2VzdHVyZVN0YXRlQ2hhbmdlRXZlbnRQYXlsb2FkVCA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+XG4+ID0gSGFuZGxlclN0YXRlQ2hhbmdlRXZlbnRQYXlsb2FkICYgR2VzdHVyZVN0YXRlQ2hhbmdlRXZlbnRQYXlsb2FkVDtcblxuZXhwb3J0IHR5cGUgQ29tbW9uR2VzdHVyZUNvbmZpZyA9IHtcbiAgZW5hYmxlZD86IGJvb2xlYW47XG4gIHNob3VsZENhbmNlbFdoZW5PdXRzaWRlPzogYm9vbGVhbjtcbiAgaGl0U2xvcD86IEhpdFNsb3A7XG4gIHVzZXJTZWxlY3Q/OiBVc2VyU2VsZWN0O1xufTtcblxuLy8gRXZlbnRzIHBheWxvYWRzIGFyZSB0eXBlcyBpbnN0ZWFkIG9mIGludGVyZmFjZXMgZHVlIHRvIFRTIGxpbWl0YXRpb24uXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8xNTMwMCBmb3IgbW9yZSBpbmZvLlxuZXhwb3J0IHR5cGUgQmFzZUdlc3R1cmVIYW5kbGVyUHJvcHM8XG4gIEV4dHJhRXZlbnRQYXlsb2FkVCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0gUmVjb3JkPHN0cmluZywgdW5rbm93bj5cbj4gPSBDb21tb25HZXN0dXJlQ29uZmlnICYge1xuICBpZD86IHN0cmluZztcbiAgd2FpdEZvcj86IFJlYWN0LlJlZjx1bmtub3duPiB8IFJlYWN0LlJlZjx1bmtub3duPltdO1xuICBzaW11bHRhbmVvdXNIYW5kbGVycz86IFJlYWN0LlJlZjx1bmtub3duPiB8IFJlYWN0LlJlZjx1bmtub3duPltdO1xuICB0ZXN0SUQ/OiBzdHJpbmc7XG4gIGNhbmNlbHNUb3VjaGVzSW5WaWV3PzogYm9vbGVhbjtcbiAgLy8gVE9ETyhUUykgLSBmaXggZXZlbnQgdHlwZXNcbiAgb25CZWdhbj86IChldmVudDogSGFuZGxlclN0YXRlQ2hhbmdlRXZlbnQpID0+IHZvaWQ7XG4gIG9uRmFpbGVkPzogKGV2ZW50OiBIYW5kbGVyU3RhdGVDaGFuZ2VFdmVudCkgPT4gdm9pZDtcbiAgb25DYW5jZWxsZWQ/OiAoZXZlbnQ6IEhhbmRsZXJTdGF0ZUNoYW5nZUV2ZW50KSA9PiB2b2lkO1xuICBvbkFjdGl2YXRlZD86IChldmVudDogSGFuZGxlclN0YXRlQ2hhbmdlRXZlbnQpID0+IHZvaWQ7XG4gIG9uRW5kZWQ/OiAoZXZlbnQ6IEhhbmRsZXJTdGF0ZUNoYW5nZUV2ZW50KSA9PiB2b2lkO1xuXG4gIC8vVE9ETyhUUykgY29uc2lkZXIgdXNpbmcgTmF0aXZlU3ludGhldGljRXZlbnRcbiAgb25HZXN0dXJlRXZlbnQ/OiAoZXZlbnQ6IEdlc3R1cmVFdmVudDxFeHRyYUV2ZW50UGF5bG9hZFQ+KSA9PiB2b2lkO1xuICBvbkhhbmRsZXJTdGF0ZUNoYW5nZT86IChcbiAgICBldmVudDogSGFuZGxlclN0YXRlQ2hhbmdlRXZlbnQ8RXh0cmFFdmVudFBheWxvYWRUPlxuICApID0+IHZvaWQ7XG4gIC8vIGltcGxpY2l0IGBjaGlsZHJlbmAgcHJvcCBoYXMgYmVlbiByZW1vdmVkIGluIEB0eXBlcy9yZWFjdF4xOC4wLjBcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG59O1xuXG5mdW5jdGlvbiBpc0NvbmZpZ1BhcmFtKHBhcmFtOiB1bmtub3duLCBuYW1lOiBzdHJpbmcpIHtcbiAgLy8gcGFyYW0gIT09IE9iamVjdChwYXJhbSkgcmV0dXJucyBmYWxzZSBpZiBgcGFyYW1gIGlzIGEgZnVuY3Rpb25cbiAgLy8gb3IgYW4gb2JqZWN0IGFuZCByZXR1cm5zIHRydWUgaWYgYHBhcmFtYCBpcyBudWxsXG4gIHJldHVybiAoXG4gICAgcGFyYW0gIT09IHVuZGVmaW5lZCAmJlxuICAgIChwYXJhbSAhPT0gT2JqZWN0KHBhcmFtKSB8fFxuICAgICAgISgnX19pc05hdGl2ZScgaW4gKHBhcmFtIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KSkpICYmXG4gICAgbmFtZSAhPT0gJ29uSGFuZGxlclN0YXRlQ2hhbmdlJyAmJlxuICAgIG5hbWUgIT09ICdvbkdlc3R1cmVFdmVudCdcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckNvbmZpZyhcbiAgcHJvcHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICB2YWxpZFByb3BzOiBzdHJpbmdbXSxcbiAgZGVmYXVsdHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge31cbikge1xuICBjb25zdCBmaWx0ZXJlZENvbmZpZyA9IHsgLi4uZGVmYXVsdHMgfTtcbiAgZm9yIChjb25zdCBrZXkgb2YgdmFsaWRQcm9wcykge1xuICAgIGxldCB2YWx1ZSA9IHByb3BzW2tleV07XG4gICAgaWYgKGlzQ29uZmlnUGFyYW0odmFsdWUsIGtleSkpIHtcbiAgICAgIGlmIChrZXkgPT09ICdzaW11bHRhbmVvdXNIYW5kbGVycycgfHwga2V5ID09PSAnd2FpdEZvcicpIHtcbiAgICAgICAgdmFsdWUgPSB0cmFuc2Zvcm1JbnRvSGFuZGxlclRhZ3MocHJvcHNba2V5XSk7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2hpdFNsb3AnICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFsdWUgPSB7IHRvcDogdmFsdWUsIGxlZnQ6IHZhbHVlLCBib3R0b206IHZhbHVlLCByaWdodDogdmFsdWUgfTtcbiAgICAgIH1cbiAgICAgIGZpbHRlcmVkQ29uZmlnW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZpbHRlcmVkQ29uZmlnO1xufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1JbnRvSGFuZGxlclRhZ3MoaGFuZGxlcklEczogYW55KSB7XG4gIGhhbmRsZXJJRHMgPSB0b0FycmF5KGhhbmRsZXJJRHMpO1xuXG4gIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ3dlYicpIHtcbiAgICByZXR1cm4gaGFuZGxlcklEc1xuICAgICAgLm1hcCgoeyBjdXJyZW50IH06IHsgY3VycmVudDogYW55IH0pID0+IGN1cnJlbnQpXG4gICAgICAuZmlsdGVyKChoYW5kbGU6IGFueSkgPT4gaGFuZGxlKTtcbiAgfVxuICAvLyBjb252ZXJ0cyBoYW5kbGVyIHN0cmluZyBJRHMgaW50byB0aGVpciBudW1lcmljIHRhZ3NcbiAgcmV0dXJuIGhhbmRsZXJJRHNcbiAgICAubWFwKFxuICAgICAgKGhhbmRsZXJJRDogYW55KSA9PlxuICAgICAgICBoYW5kbGVySURUb1RhZ1toYW5kbGVySURdIHx8IGhhbmRsZXJJRC5jdXJyZW50Py5oYW5kbGVyVGFnIHx8IC0xXG4gICAgKVxuICAgIC5maWx0ZXIoKGhhbmRsZXJUYWc6IG51bWJlcikgPT4gaGFuZGxlclRhZyA+IDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZE5vZGVIYW5kbGUoXG4gIG5vZGU6IG51bGwgfCBudW1iZXIgfCBSZWFjdC5Db21wb25lbnQ8YW55LCBhbnk+IHwgUmVhY3QuQ29tcG9uZW50Q2xhc3M8YW55PlxuKTogbnVsbCB8IG51bWJlciB8IFJlYWN0LkNvbXBvbmVudDxhbnksIGFueT4gfCBSZWFjdC5Db21wb25lbnRDbGFzczxhbnk+IHtcbiAgaWYgKFBsYXRmb3JtLk9TID09PSAnd2ViJykge1xuICAgIHJldHVybiBub2RlO1xuICB9XG4gIHJldHVybiBmaW5kTm9kZUhhbmRsZVJOKG5vZGUpO1xufVxuXG5sZXQgZmx1c2hPcGVyYXRpb25zU2NoZWR1bGVkID0gZmFsc2U7XG5cbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZUZsdXNoT3BlcmF0aW9ucygpIHtcbiAgaWYgKCFmbHVzaE9wZXJhdGlvbnNTY2hlZHVsZWQpIHtcbiAgICBmbHVzaE9wZXJhdGlvbnNTY2hlZHVsZWQgPSB0cnVlO1xuICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgIFJOR2VzdHVyZUhhbmRsZXJNb2R1bGUuZmx1c2hPcGVyYXRpb25zKCk7XG5cbiAgICAgIGZsdXNoT3BlcmF0aW9uc1NjaGVkdWxlZCA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFLQSxJQUFBQSxZQUFBLEdBQUFDLE9BQUE7QUFLQSxJQUFBQyxpQkFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsTUFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsdUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUosT0FBQTs7Ozs7O0FBRUEsSUFBTUssV0FBVyxHQUFHLENBQ2xCLElBRGtCLEVBRWxCLFNBRmtCLEVBR2xCLHlCQUhrQixFQUlsQixTQUprQixFQUtsQixzQkFMa0IsRUFNbEIsWUFOa0IsQ0FBcEI7QUFTQSxJQUFNQyx5QkFBeUIsR0FBRyxDQUFDLFNBQUQsRUFBWSxzQkFBWixDQUFsQztBQUVPLElBQU1DLHVCQUF1QixNQUFBQyxNQUFBLENBQy9CSCxXQURrQyxFQUVsQ0MseUJBRmtDLEdBR3JDLFNBSHFDLEVBSXJDLFVBSnFDLEVBS3JDLGFBTHFDLEVBTXJDLGFBTnFDLEVBT3JDLFNBUHFDLEVBUXJDLGdCQVJxQyxFQVNyQyxzQkFUcUMsRUFBaEM7O0FBWUEsSUFBTUcsa0NBQWtDLE1BQUFELE1BQUEsQ0FDMUNILFdBRDZDLEdBRWhELGtCQUZnRCxFQUdoRCxrQkFIZ0QsRUFBM0M7O0FBa0dQLFNBQVNLLGFBQVRBLENBQXVCQyxLQUF2QixFQUF1Q0MsSUFBdkMsRUFBcUQ7RUFHbkQsT0FDRUQsS0FBSyxLQUFLRSxTQUFWLEtBQ0NGLEtBQUssS0FBS0csTUFBTSxDQUFDSCxLQUFELENBQWhCLElBQ0MsRUFBRSxnQkFBaUJBLEtBQW5CLENBRkYsS0FHQUMsSUFBSSxLQUFLLHNCQUhULElBSUFBLElBQUksS0FBSyxnQkFMWDtBQU9EO0FBRU0sU0FBU0csWUFBVEEsQ0FDTEMsS0FESyxFQUVMQyxVQUZLLEVBSUw7RUFBQSxJQURBQyxRQUFpQyxHQUFBQyxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBTixTQUFB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