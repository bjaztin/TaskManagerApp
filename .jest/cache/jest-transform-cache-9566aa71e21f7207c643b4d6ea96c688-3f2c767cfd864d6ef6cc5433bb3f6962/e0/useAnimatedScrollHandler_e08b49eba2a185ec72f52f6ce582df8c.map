{"version":3,"names":["_Hooks","require","_worklet_6007317293761_init_data","code","location","sourceMap","useAnimatedScrollHandler","handlers","dependencies","scrollHandlers","onScroll","_useHandler","useHandler","context","doDependenciesDiffer","subscribeForEvents","onBeginDrag","undefined","push","onEndDrag","onMomentumBegin","onMomentumEnd","useEvent","_e","global","Error","_f","event","eventName","endsWith","_closure","__initData","__workletHash","__stackDetails","__version"],"sources":["useAnimatedScrollHandler.ts"],"sourcesContent":["import { RefObject } from 'react';\nimport { NativeScrollEvent } from 'react-native';\nimport { Context, NativeEvent, WorkletFunction } from '../commonTypes';\nimport WorkletEventHandler from '../WorkletEventHandler';\nimport { DependencyList } from './commonTypes';\nimport { useEvent, useHandler } from './Hooks';\n\nexport interface ScrollHandler<TContext extends Context>\n  extends WorkletFunction {\n  (event: NativeScrollEvent, context?: TContext): void;\n}\n\nexport interface ScrollEvent\n  extends NativeScrollEvent,\n    NativeEvent<ScrollEvent> {\n  eventName: string;\n}\nexport interface ScrollHandlers<TContext extends Context> {\n  [key: string]: ScrollHandler<TContext> | undefined;\n  onScroll?: ScrollHandler<TContext>;\n  onBeginDrag?: ScrollHandler<TContext>;\n  onEndDrag?: ScrollHandler<TContext>;\n  onMomentumBegin?: ScrollHandler<TContext>;\n  onMomentumEnd?: ScrollHandler<TContext>;\n}\n\nexport function useAnimatedScrollHandler<TContext extends Context>(\n  handlers: ScrollHandlers<TContext> | ScrollHandler<TContext>,\n  dependencies?: DependencyList\n): RefObject<WorkletEventHandler<ScrollEvent>> {\n  // case when handlers is a function\n  const scrollHandlers: ScrollHandlers<TContext> =\n    typeof handlers === 'function' ? { onScroll: handlers } : handlers;\n  const { context, doDependenciesDiffer } = useHandler<ScrollEvent, TContext>(\n    scrollHandlers,\n    dependencies\n  );\n\n  // build event subscription array\n  const subscribeForEvents = ['onScroll'];\n  if (scrollHandlers.onBeginDrag !== undefined) {\n    subscribeForEvents.push('onScrollBeginDrag');\n  }\n  if (scrollHandlers.onEndDrag !== undefined) {\n    subscribeForEvents.push('onScrollEndDrag');\n  }\n  if (scrollHandlers.onMomentumBegin !== undefined) {\n    subscribeForEvents.push('onMomentumScrollBegin');\n  }\n  if (scrollHandlers.onMomentumEnd !== undefined) {\n    subscribeForEvents.push('onMomentumScrollEnd');\n  }\n\n  return useEvent<ScrollEvent>(\n    (event: ScrollEvent) => {\n      'worklet';\n      const {\n        onScroll,\n        onBeginDrag,\n        onEndDrag,\n        onMomentumBegin,\n        onMomentumEnd,\n      } = scrollHandlers;\n      if (onScroll && event.eventName.endsWith('onScroll')) {\n        onScroll(event, context);\n      } else if (onBeginDrag && event.eventName.endsWith('onScrollBeginDrag')) {\n        onBeginDrag(event, context);\n      } else if (onEndDrag && event.eventName.endsWith('onScrollEndDrag')) {\n        onEndDrag(event, context);\n      } else if (\n        onMomentumBegin &&\n        event.eventName.endsWith('onMomentumScrollBegin')\n      ) {\n        onMomentumBegin(event, context);\n      } else if (\n        onMomentumEnd &&\n        event.eventName.endsWith('onMomentumScrollEnd')\n      ) {\n        onMomentumEnd(event, context);\n      }\n    },\n    subscribeForEvents,\n    doDependenciesDiffer\n  );\n}\n"],"mappings":";;;;AAKA,IAAAA,MAAA,GAAAC,OAAA;AAA8C,IAAAC,gCAAA;EAAAC,IAAA;EAAAC,QAAA;EAAAC,SAAA;AAAA;AAqBvC,SAASC,wBAAwBA,CACtCC,QAA4D,EAC5DC,YAA6B,EACgB;EAE7C,IAAMC,cAAwC,GAC5C,OAAOF,QAAQ,KAAK,UAAU,GAAG;IAAEG,QAAQ,EAAEH;EAAS,CAAC,GAAGA,QAAQ;EACpE,IAAAI,WAAA,GAA0C,IAAAC,iBAAU,EAClDH,cAAc,EACdD,YAAY,CACb;IAHOK,OAAO,GAAAF,WAAA,CAAPE,OAAO;IAAEC,oBAAA,GAAAH,WAAA,CAAAG,oBAAA;EAMjB,IAAMC,kBAAkB,GAAG,CAAC,UAAU,CAAC;EACvC,IAAIN,cAAc,CAACO,WAAW,KAAKC,SAAS,EAAE;IAC5CF,kBAAkB,CAACG,IAAI,CAAC,mBAAmB,CAAC;EAC9C;EACA,IAAIT,cAAc,CAACU,SAAS,KAAKF,SAAS,EAAE;IAC1CF,kBAAkB,CAACG,IAAI,CAAC,iBAAiB,CAAC;EAC5C;EACA,IAAIT,cAAc,CAACW,eAAe,KAAKH,SAAS,EAAE;IAChDF,kBAAkB,CAACG,IAAI,CAAC,uBAAuB,CAAC;EAClD;EACA,IAAIT,cAAc,CAACY,aAAa,KAAKJ,SAAS,EAAE;IAC9CF,kBAAkB,CAACG,IAAI,CAAC,qBAAqB,CAAC;EAChD;EAEA,OAAO,IAAAI,eAAQ;IAAA,IAAAC,EAAA,QAAAC,MAAA,CAAAC,KAAA;IAAA,IAAAC,EAAA,YAAAA,GACZC,KAAkB,EAAK;MAEtB,IACEjB,QAAQ,GAKND,cAAc,CALhBC,QAAQ;QACRM,WAAW,GAITP,cAAc,CAJhBO,WAAW;QACXG,SAAS,GAGPV,cAAc,CAHhBU,SAAS;QACTC,eAAe,GAEbX,cAAc,CAFhBW,eAAe;QACfC,aAAA,GACEZ,cAAc,CADhBY,aAAA;MAEF,IAAIX,QAAQ,IAAIiB,KAAK,CAACC,SAAS,CAACC,QAAQ,CAAC,UAAU,CAAC,EAAE;QACpDnB,QAAQ,CAACiB,KAAK,EAAEd,OAAO,CAAC;MAC1B,CAAC,MAAM,IAAIG,WAAW,IAAIW,KAAK,CAACC,SAAS,CAACC,QAAQ,CAAC,mBAAmB,CAAC,EAAE;QACvEb,WAAW,CAACW,KAAK,EAAEd,OAAO,CAAC;MAC7B,CAAC,MAAM,IAAIM,SAAS,IAAIQ,KAAK,CAACC,SAAS,CAACC,QAAQ,CAAC,iBAAiB,CAAC,EAAE;QACnEV,SAAS,CAACQ,KAAK,EAAEd,OAAO,CAAC;MAC3B,CAAC,MAAM,IACLO,eAAe,IACfO,KAAK,CAACC,SAAS,CAACC,QAAQ,CAAC,uBAAuB,CAAC,EACjD;QACAT,eAAe,CAACO,KAAK,EAAEd,OAAO,CAAC;MACjC,CAAC,MAAM,IACLQ,aAAa,IACbM,KAAK,CAACC,SAAS,CAACC,QAAQ,CAAC,qBAAqB,CAAC,EAC/C;QACAR,aAAa,CAACM,KAAK,EAAEd,OAAO,CAAC;MAC/B;IACF,CAAC;IAAAa,EAAA,CAAAI,QAAA;MAAArB,cAAA,EA/CKA,cAAO;MAAAI,OAAA,EAWMA;IAAK;IAAAa,EAAA,CAAAK,UAAA,GAAA7B,gCAAA;IAAAwB,EAAA,CAAAM,aAAA;IAAAN,EAAA,CAAAO,cAAA,GAAAV,EAAA;IAAAG,EAAA,CAAAQ,SAAA;IAAA,OAAAR,EAAA;EAAA,KAqCxBX,kBAAkB,EAClBD,oBAAoB,CACrB;AACH"}