cac73c06ab033a2d6d0a5d1468eab599
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _reactNative = require("react-native");
var _Batchinator = _interopRequireDefault(require("../Interaction/Batchinator"));
var _clamp = _interopRequireDefault(require("../Utilities/clamp"));
var _infoLog = _interopRequireDefault(require("../Utilities/infoLog"));
var _CellRenderMask = require("./CellRenderMask");
var _ChildListCollection = _interopRequireDefault(require("./ChildListCollection"));
var _FillRateHelper = _interopRequireDefault(require("./FillRateHelper"));
var _StateSafePureComponent = _interopRequireDefault(require("./StateSafePureComponent"));
var _ViewabilityHelper = _interopRequireDefault(require("./ViewabilityHelper"));
var _VirtualizedListCellRenderer = _interopRequireDefault(require("./VirtualizedListCellRenderer"));
var _VirtualizedListContext = require("./VirtualizedListContext.js");
var _VirtualizeUtils = require("./VirtualizeUtils");
var _invariant = _interopRequireDefault(require("invariant"));
var _nullthrows = _interopRequireDefault(require("nullthrows"));
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var ON_EDGE_REACHED_EPSILON = 0.001;
var _usedIndexForKey = false;
var _keylessItemComponentName = '';
function horizontalOrDefault(horizontal) {
  return horizontal != null ? horizontal : false;
}
function initialNumToRenderOrDefault(initialNumToRender) {
  return initialNumToRender != null ? initialNumToRender : 10;
}
function maxToRenderPerBatchOrDefault(maxToRenderPerBatch) {
  return maxToRenderPerBatch != null ? maxToRenderPerBatch : 10;
}
function onStartReachedThresholdOrDefault(onStartReachedThreshold) {
  return onStartReachedThreshold != null ? onStartReachedThreshold : 2;
}
function onEndReachedThresholdOrDefault(onEndReachedThreshold) {
  return onEndReachedThreshold != null ? onEndReachedThreshold : 2;
}
function getScrollingThreshold(threshold, visibleLength) {
  return threshold * visibleLength / 2;
}
function scrollEventThrottleOrDefault(scrollEventThrottle) {
  return scrollEventThrottle != null ? scrollEventThrottle : 50;
}
function windowSizeOrDefault(windowSize) {
  return windowSize != null ? windowSize : 21;
}
function findLastWhere(arr, predicate) {
  for (var i = arr.length - 1; i >= 0; i--) {
    if (predicate(arr[i])) {
      return arr[i];
    }
  }
  return null;
}
var VirtualizedList = function (_StateSafePureCompone) {
  (0, _inherits2.default)(VirtualizedList, _StateSafePureCompone);
  var _super = _createSuper(VirtualizedList);
  function VirtualizedList(_props) {
    var _this$props$updateCel, _this$props$maintainV, _this$props$maintainV2;
    var _this;
    (0, _classCallCheck2.default)(this, VirtualizedList);
    _this = _super.call(this, _props);
    _this._getScrollMetrics = function () {
      return _this._scrollMetrics;
    };
    _this._getOutermostParentListRef = function () {
      if (_this._isNestedWithSameOrientation()) {
        return _this.context.getOutermostParentListRef();
      } else {
        return (0, _assertThisInitialized2.default)(_this);
      }
    };
    _this._registerAsNestedChild = function (childList) {
      _this._nestedChildLists.add(childList.ref, childList.cellKey);
      if (_this._hasInteracted) {
        childList.ref.recordInteraction();
      }
    };
    _this._unregisterAsNestedChild = function (childList) {
      _this._nestedChildLists.remove(childList.ref);
    };
    _this._onUpdateSeparators = function (keys, newProps) {
      keys.forEach(function (key) {
        var ref = key != null && _this._cellRefs[key];
        ref && ref.updateSeparatorProps(newProps);
      });
    };
    _this._getSpacerKey = function (isVertical) {
      return isVertical ? 'height' : 'width';
    };
    _this._averageCellLength = 0;
    _this._cellRefs = {};
    _this._frames = {};
    _this._footerLength = 0;
    _this._hasTriggeredInitialScrollToIndex = false;
    _this._hasInteracted = false;
    _this._hasMore = false;
    _this._hasWarned = {};
    _this._headerLength = 0;
    _this._hiPriInProgress = false;
    _this._highestMeasuredFrameIndex = 0;
    _this._indicesToKeys = new Map();
    _this._lastFocusedCellKey = null;
    _this._nestedChildLists = new _ChildListCollection.default();
    _this._offsetFromParentVirtualizedList = 0;
    _this._prevParentOffset = 0;
    _this._scrollMetrics = {
      contentLength: 0,
      dOffset: 0,
      dt: 10,
      offset: 0,
      timestamp: 0,
      velocity: 0,
      visibleLength: 0,
      zoomScale: 1
    };
    _this._scrollRef = null;
    _this._sentStartForContentLength = 0;
    _this._sentEndForContentLength = 0;
    _this._totalCellLength = 0;
    _this._totalCellsMeasured = 0;
    _this._viewabilityTuples = [];
    _this._captureScrollRef = function (ref) {
      _this._scrollRef = ref;
    };
    _this._defaultRenderScrollComponent = function (props) {
      var onRefresh = props.onRefresh;
      if (_this._isNestedWithSameOrientation()) {
        return (0, _jsxRuntime.jsx)(_reactNative.View, _objectSpread({}, props));
      } else if (onRefresh) {
        var _props$refreshing;
        (0, _invariant.default)(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify((_props$refreshing = props.refreshing) != null ? _props$refreshing : 'undefined') + '`');
        return (0, _jsxRuntime.jsx)(_reactNative.ScrollView, _objectSpread(_objectSpread({}, props), {}, {
          refreshControl: props.refreshControl == null ? (0, _jsxRuntime.jsx)(_reactNative.RefreshControl, {
            refreshing: props.refreshing,
            onRefresh: onRefresh,
            progressViewOffset: props.progressViewOffset
          }) : props.refreshControl
        }));
      } else {
        return (0, _jsxRuntime.jsx)(_reactNative.ScrollView, _objectSpread({}, props));
      }
    };
    _this._onCellLayout = function (e, cellKey, index) {
      var layout = e.nativeEvent.layout;
      var next = {
        offset: _this._selectOffset(layout),
        length: _this._selectLength(layout),
        index: index,
        inLayout: true
      };
      var curr = _this._frames[cellKey];
      if (!curr || next.offset !== curr.offset || next.length !== curr.length || index !== curr.index) {
        _this._totalCellLength += next.length - (curr ? curr.length : 0);
        _this._totalCellsMeasured += curr ? 0 : 1;
        _this._averageCellLength = _this._totalCellLength / _this._totalCellsMeasured;
        _this._frames[cellKey] = next;
        _this._highestMeasuredFrameIndex = Math.max(_this._highestMeasuredFrameIndex, index);
        _this._scheduleCellsToRenderUpdate();
      } else {
        _this._frames[cellKey].inLayout = true;
      }
      _this._triggerRemeasureForChildListsInCell(cellKey);
      _this._computeBlankness();
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
    };
    _this._onCellUnmount = function (cellKey) {
      delete _this._cellRefs[cellKey];
      var curr = _this._frames[cellKey];
      if (curr) {
        _this._frames[cellKey] = _objectSpread(_objectSpread({}, curr), {}, {
          inLayout: false
        });
      }
    };
    _this._onLayout = function (e) {
      if (_this._isNestedWithSameOrientation()) {
        _this.measureLayoutRelativeToContainingList();
      } else {
        _this._scrollMetrics.visibleLength = _this._selectLength(e.nativeEvent.layout);
      }
      _this.props.onLayout && _this.props.onLayout(e);
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEdgeReached();
    };
    _this._onLayoutEmpty = function (e) {
      _this.props.onLayout && _this.props.onLayout(e);
    };
    _this._onLayoutFooter = function (e) {
      _this._triggerRemeasureForChildListsInCell(_this._getFooterCellKey());
      _this._footerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onLayoutHeader = function (e) {
      _this._headerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onContentSizeChange = function (width, height) {
      if (width > 0 && height > 0 && _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 && !_this._hasTriggeredInitialScrollToIndex) {
        if (_this.props.contentOffset == null) {
          if (_this.props.initialScrollIndex < _this.props.getItemCount(_this.props.data)) {
            _this.scrollToIndex({
              animated: false,
              index: (0, _nullthrows.default)(_this.props.initialScrollIndex)
            });
          } else {
            _this.scrollToEnd({
              animated: false
            });
          }
        }
        _this._hasTriggeredInitialScrollToIndex = true;
      }
      if (_this.props.onContentSizeChange) {
        _this.props.onContentSizeChange(width, height);
      }
      _this._scrollMetrics.contentLength = _this._selectLength({
        height: height,
        width: width
      });
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEdgeReached();
    };
    _this._convertParentScrollMetrics = function (metrics) {
      var offset = metrics.offset - _this._offsetFromParentVirtualizedList;
      var visibleLength = metrics.visibleLength;
      var dOffset = offset - _this._scrollMetrics.offset;
      var contentLength = _this._scrollMetrics.contentLength;
      return {
        visibleLength: visibleLength,
        contentLength: contentLength,
        offset: offset,
        dOffset: dOffset
      };
    };
    _this._onScroll = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScroll(e);
      });
      if (_this.props.onScroll) {
        _this.props.onScroll(e);
      }
      var timestamp = e.timeStamp;
      var visibleLength = _this._selectLength(e.nativeEvent.layoutMeasurement);
      var contentLength = _this._selectLength(e.nativeEvent.contentSize);
      var offset = _this._selectOffset(e.nativeEvent.contentOffset);
      var dOffset = offset - _this._scrollMetrics.offset;
      if (_this._isNestedWithSameOrientation()) {
        if (_this._scrollMetrics.contentLength === 0) {
          return;
        }
        var _this$_convertParentS = _this._convertParentScrollMetrics({
          visibleLength: visibleLength,
          offset: offset
        });
        visibleLength = _this$_convertParentS.visibleLength;
        contentLength = _this$_convertParentS.contentLength;
        offset = _this$_convertParentS.offset;
        dOffset = _this$_convertParentS.dOffset;
      }
      var dt = _this._scrollMetrics.timestamp ? Math.max(1, timestamp - _this._scrollMetrics.timestamp) : 1;
      var velocity = dOffset / dt;
      if (dt > 500 && _this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this._hasWarned.perf) {
        (0, _infoLog.default)('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {
          dt: dt,
          prevDt: _this._scrollMetrics.dt,
          contentLength: contentLength
        });
        _this._hasWarned.perf = true;
      }
      var zoomScale = e.nativeEvent.zoomScale < 0 ? 1 : e.nativeEvent.zoomScale;
      _this._scrollMetrics = {
        contentLength: contentLength,
        dt: dt,
        dOffset: dOffset,
        offset: offset,
        timestamp: timestamp,
        velocity: velocity,
        visibleLength: visibleLength,
        zoomScale: zoomScale
      };
      if (_this.state.pendingScrollUpdateCount > 0) {
        _this.setState(function (state) {
          return {
            pendingScrollUpdateCount: state.pendingScrollUpdateCount - 1
          };
        });
      }
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
      if (!_this.props) {
        return;
      }
      _this._maybeCallOnEdgeReached();
      if (velocity !== 0) {
        _this._fillRateHelper.activate();
      }
      _this._computeBlankness();
      _this._scheduleCellsToRenderUpdate();
    };
    _this._onScrollBeginDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollBeginDrag(e);
      });
      _this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.recordInteraction();
      });
      _this._hasInteracted = true;
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._onScrollEndDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollEndDrag(e);
      });
      var velocity = e.nativeEvent.velocity;
      if (velocity) {
        _this._scrollMetrics.velocity = _this._selectOffset(velocity);
      }
      _this._computeBlankness();
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._onMomentumScrollBegin = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollBegin(e);
      });
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._onMomentumScrollEnd = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollEnd(e);
      });
      _this._scrollMetrics.velocity = 0;
      _this._computeBlankness();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._updateCellsToRender = function () {
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
      _this.setState(function (state, props) {
        var cellsAroundViewport = _this._adjustCellsAroundViewport(props, state.cellsAroundViewport, state.pendingScrollUpdateCount);
        var renderMask = VirtualizedList._createRenderMask(props, cellsAroundViewport, _this._getNonViewportRenderRegions(props));
        if (cellsAroundViewport.first === state.cellsAroundViewport.first && cellsAroundViewport.last === state.cellsAroundViewport.last && renderMask.equals(state.renderMask)) {
          return null;
        }
        return {
          cellsAroundViewport: cellsAroundViewport,
          renderMask: renderMask
        };
      });
    };
    _this._createViewToken = function (index, isViewable, props) {
      var data = props.data,
        getItem = props.getItem;
      var item = getItem(data, index);
      return {
        index: index,
        item: item,
        key: VirtualizedList._keyExtractor(item, index, props),
        isViewable: isViewable
      };
    };
    _this._getOffsetApprox = function (index, props) {
      if (Number.isInteger(index)) {
        return _this.__getFrameMetricsApprox(index, props).offset;
      } else {
        var frameMetrics = _this.__getFrameMetricsApprox(Math.floor(index), props);
        var remainder = index - Math.floor(index);
        return frameMetrics.offset + remainder * frameMetrics.length;
      }
    };
    _this.__getFrameMetricsApprox = function (index, props) {
      var frame = _this._getFrameMetrics(index, props);
      if (frame && frame.index === index) {
        return frame;
      } else {
        var data = props.data,
          getItemCount = props.getItemCount,
          getItemLayout = props.getItemLayout;
        (0, _invariant.default)(index >= 0 && index < getItemCount(data), 'Tried to get frame for out of range index ' + index);
        (0, _invariant.default)(!getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');
        return {
          length: _this._averageCellLength,
          offset: _this._averageCellLength * index
        };
      }
    };
    _this._getFrameMetrics = function (index, props) {
      var data = props.data,
        getItemCount = props.getItemCount,
        getItemLayout = props.getItemLayout;
      (0, _invariant.default)(index >= 0 && index < getItemCount(data), 'Tried to get frame for out of range index ' + index);
      var frame = _this._frames[VirtualizedList._getItemKey(props, index)];
      if (!frame || frame.index !== index) {
        if (getItemLayout) {
          return getItemLayout(data, index);
        }
      }
      return frame;
    };
    _this._getNonViewportRenderRegions = function (props) {
      if (!(_this._lastFocusedCellKey && _this._cellRefs[_this._lastFocusedCellKey])) {
        return [];
      }
      var lastFocusedCellRenderer = _this._cellRefs[_this._lastFocusedCellKey];
      var focusedCellIndex = lastFocusedCellRenderer.props.index;
      var itemCount = props.getItemCount(props.data);
      if (focusedCellIndex >= itemCount || VirtualizedList._getItemKey(props, focusedCellIndex) !== _this._lastFocusedCellKey) {
        return [];
      }
      var first = focusedCellIndex;
      var heightOfCellsBeforeFocused = 0;
      for (var i = first - 1; i >= 0 && heightOfCellsBeforeFocused < _this._scrollMetrics.visibleLength; i--) {
        first--;
        heightOfCellsBeforeFocused += _this.__getFrameMetricsApprox(i, props).length;
      }
      var last = focusedCellIndex;
      var heightOfCellsAfterFocused = 0;
      for (var _i = last + 1; _i < itemCount && heightOfCellsAfterFocused < _this._scrollMetrics.visibleLength; _i++) {
        last++;
        heightOfCellsAfterFocused += _this.__getFrameMetricsApprox(_i, props).length;
      }
      return [{
        first: first,
        last: last
      }];
    };
    _this._checkProps(_props);
    _this._fillRateHelper = new _FillRateHelper.default(_this._getFrameMetrics);
    _this._updateCellsToRenderBatcher = new _Batchinator.default(_this._updateCellsToRender, (_this$props$updateCel = _this.props.updateCellsBatchingPeriod) != null ? _this$props$updateCel : 50);
    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {
        return {
          viewabilityHelper: new _ViewabilityHelper.default(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged
        };
      });
    } else {
      var _this$props = _this.props,
        onViewableItemsChanged = _this$props.onViewableItemsChanged,
        viewabilityConfig = _this$props.viewabilityConfig;
      if (onViewableItemsChanged) {
        _this._viewabilityTuples.push({
          viewabilityHelper: new _ViewabilityHelper.default(viewabilityConfig),
          onViewableItemsChanged: onViewableItemsChanged
        });
      }
    }
    var initialRenderRegion = VirtualizedList._initialRenderRegion(_props);
    var minIndexForVisible = (_this$props$maintainV = (_this$props$maintainV2 = _this.props.maintainVisibleContentPosition) == null ? void 0 : _this$props$maintainV2.minIndexForVisible) != null ? _this$props$maintainV : 0;
    _this.state = {
      cellsAroundViewport: initialRenderRegion,
      renderMask: VirtualizedList._createRenderMask(_props, initialRenderRegion),
      firstVisibleItemKey: _this.props.getItemCount(_this.props.data) > minIndexForVisible ? VirtualizedList._getItemKey(_this.props, minIndexForVisible) : null,
      pendingScrollUpdateCount: _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 ? 1 : 0
    };
    return _this;
  }
  (0, _createClass2.default)(VirtualizedList, [{
    key: "scrollToEnd",
    value: function scrollToEnd(params) {
      var animated = params ? params.animated : true;
      var veryLast = this.props.getItemCount(this.props.data) - 1;
      if (veryLast < 0) {
        return;
      }
      var frame = this.__getFrameMetricsApprox(veryLast, this.props);
      var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);
      if (this._scrollRef == null) {
        return;
      }
      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }
      this._scrollRef.scrollTo(horizontalOrDefault(this.props.horizontal) ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToIndex",
    value: function scrollToIndex(params) {
      var _this$props2 = this.props,
        data = _this$props2.data,
        horizontal = _this$props2.horizontal,
        getItemCount = _this$props2.getItemCount,
        getItemLayout = _this$props2.getItemLayout,
        onScrollToIndexFailed = _this$props2.onScrollToIndexFailed;
      var animated = params.animated,
        index = params.index,
        viewOffset = params.viewOffset,
        viewPosition = params.viewPosition;
      (0, _invariant.default)(index >= 0, `scrollToIndex out of range: requested index ${index} but minimum is 0`);
      (0, _invariant.default)(getItemCount(data) >= 1, `scrollToIndex out of range: item length ${getItemCount(data)} but minimum is 1`);
      (0, _invariant.default)(index < getItemCount(data), `scrollToIndex out of range: requested index ${index} is out of 0 to ${getItemCount(data) - 1}`);
      if (!getItemLayout && index > this._highestMeasuredFrameIndex) {
        (0, _invariant.default)(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');
        onScrollToIndexFailed({
          averageItemLength: this._averageCellLength,
          highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,
          index: index
        });
        return;
      }
      var frame = this.__getFrameMetricsApprox(Math.floor(index), this.props);
      var offset = Math.max(0, this._getOffsetApprox(index, this.props) - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);
      if (this._scrollRef == null) {
        return;
      }
      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }
      this._scrollRef.scrollTo(horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToItem",
    value: function scrollToItem(params) {
      var item = params.item;
      var _this$props3 = this.props,
        data = _this$props3.data,
        getItem = _this$props3.getItem,
        getItemCount = _this$props3.getItemCount;
      var itemCount = getItemCount(data);
      for (var _index = 0; _index < itemCount; _index++) {
        if (getItem(data, _index) === item) {
          this.scrollToIndex(_objectSpread(_objectSpread({}, params), {}, {
            index: _index
          }));
          break;
        }
      }
    }
  }, {
    key: "scrollToOffset",
    value: function scrollToOffset(params) {
      var animated = params.animated,
        offset = params.offset;
      if (this._scrollRef == null) {
        return;
      }
      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }
      this._scrollRef.scrollTo(horizontalOrDefault(this.props.horizontal) ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "recordInteraction",
    value: function recordInteraction() {
      this._nestedChildLists.forEach(function (childList) {
        childList.recordInteraction();
      });
      this._viewabilityTuples.forEach(function (t) {
        t.viewabilityHelper.recordInteraction();
      });
      this._updateViewableItems(this.props, this.state.cellsAroundViewport);
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      if (this._scrollRef == null) {
        return;
      }
      this._scrollRef.flashScrollIndicators();
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      if (this._scrollRef && this._scrollRef.getScrollResponder) {
        return this._scrollRef.getScrollResponder();
      }
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      if (this._scrollRef && this._scrollRef.getScrollableNode) {
        return this._scrollRef.getScrollableNode();
      } else {
        return (0, _reactNative.findNodeHandle)(this._scrollRef);
      }
    }
  }, {
    key: "getScrollRef",
    value: function getScrollRef() {
      if (this._scrollRef && this._scrollRef.getScrollRef) {
        return this._scrollRef.getScrollRef();
      } else {
        return this._scrollRef;
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      if (this._scrollRef) {
        this._scrollRef.setNativeProps(props);
      }
    }
  }, {
    key: "_getCellKey",
    value: function _getCellKey() {
      var _this$context;
      return ((_this$context = this.context) == null ? void 0 : _this$context.cellKey) || 'rootList';
    }
  }, {
    key: "hasMore",
    value: function hasMore() {
      return this._hasMore;
    }
  }, {
    key: "_checkProps",
    value: function _checkProps(props) {
      var onScroll = props.onScroll,
        windowSize = props.windowSize,
        getItemCount = props.getItemCount,
        data = props.data,
        initialScrollIndex = props.initialScrollIndex;
      (0, _invariant.default)(!onScroll || !onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');
      (0, _invariant.default)(windowSizeOrDefault(windowSize) > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');
      (0, _invariant.default)(getItemCount, 'VirtualizedList: The "getItemCount" prop must be provided');
      var itemCount = getItemCount(data);
      if (initialScrollIndex != null && !this._hasTriggeredInitialScrollToIndex && (initialScrollIndex < 0 || itemCount > 0 && initialScrollIndex >= itemCount) && !this._hasWarned.initialScrollIndex) {
        console.warn(`initialScrollIndex "${initialScrollIndex}" is not valid (list has ${itemCount} items)`);
        this._hasWarned.initialScrollIndex = true;
      }
      if (__DEV__ && !this._hasWarned.flexWrap) {
        var flatStyles = _reactNative.StyleSheet.flatten(this.props.contentContainerStyle);
        if (flatStyles != null && flatStyles.flexWrap === 'wrap') {
          console.warn('`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');
          this._hasWarned.flexWrap = true;
        }
      }
    }
  }, {
    key: "_adjustCellsAroundViewport",
    value: function _adjustCellsAroundViewport(props, cellsAroundViewport, pendingScrollUpdateCount) {
      var data = props.data,
        getItemCount = props.getItemCount;
      var onEndReachedThreshold = onEndReachedThresholdOrDefault(props.onEndReachedThreshold);
      var _this$_scrollMetrics = this._scrollMetrics,
        contentLength = _this$_scrollMetrics.contentLength,
        offset = _this$_scrollMetrics.offset,
        visibleLength = _this$_scrollMetrics.visibleLength;
      var distanceFromEnd = contentLength - visibleLength - offset;
      if (visibleLength <= 0 || contentLength <= 0) {
        return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
      }
      var newCellsAroundViewport;
      if (props.disableVirtualization) {
        var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? maxToRenderPerBatchOrDefault(props.maxToRenderPerBatch) : 0;
        newCellsAroundViewport = {
          first: 0,
          last: Math.min(cellsAroundViewport.last + renderAhead, getItemCount(data) - 1)
        };
      } else {
        if (pendingScrollUpdateCount > 0) {
          return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
        }
        newCellsAroundViewport = (0, _VirtualizeUtils.computeWindowedRenderLimits)(props, maxToRenderPerBatchOrDefault(props.maxToRenderPerBatch), windowSizeOrDefault(props.windowSize), cellsAroundViewport, this.__getFrameMetricsApprox, this._scrollMetrics);
        (0, _invariant.default)(newCellsAroundViewport.last < getItemCount(data), 'computeWindowedRenderLimits() should return range in-bounds');
      }
      if (this._nestedChildLists.size() > 0) {
        var childIdx = this._findFirstChildWithMore(newCellsAroundViewport.first, newCellsAroundViewport.last);
        newCellsAroundViewport.last = childIdx != null ? childIdx : newCellsAroundViewport.last;
      }
      return newCellsAroundViewport;
    }
  }, {
    key: "_findFirstChildWithMore",
    value: function _findFirstChildWithMore(first, last) {
      for (var ii = first; ii <= last; ii++) {
        var cellKeyForIndex = this._indicesToKeys.get(ii);
        if (cellKeyForIndex != null && this._nestedChildLists.anyInCell(cellKeyForIndex, function (childList) {
          return childList.hasMore();
        })) {
          return ii;
        }
      }
      return null;
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.registerAsNestedChild({
          ref: this,
          cellKey: this.context.cellKey
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.unregisterAsNestedChild({
          ref: this
        });
      }
      this._updateCellsToRenderBatcher.dispose({
        abort: true
      });
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.dispose();
      });
      this._fillRateHelper.deactivateAndFlush();
    }
  }, {
    key: "_pushCells",
    value: function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {
      var _this2 = this;
      var _this$props4 = this.props,
        CellRendererComponent = _this$props4.CellRendererComponent,
        ItemSeparatorComponent = _this$props4.ItemSeparatorComponent,
        ListHeaderComponent = _this$props4.ListHeaderComponent,
        ListItemComponent = _this$props4.ListItemComponent,
        data = _this$props4.data,
        debug = _this$props4.debug,
        getItem = _this$props4.getItem,
        getItemCount = _this$props4.getItemCount,
        getItemLayout = _this$props4.getItemLayout,
        horizontal = _this$props4.horizontal,
        renderItem = _this$props4.renderItem;
      var stickyOffset = ListHeaderComponent ? 1 : 0;
      var end = getItemCount(data) - 1;
      var prevCellKey;
      last = Math.min(end, last);
      var _loop = function _loop() {
        var item = getItem(data, ii);
        var key = VirtualizedList._keyExtractor(item, ii, _this2.props);
        _this2._indicesToKeys.set(ii, key);
        if (stickyIndicesFromProps.has(ii + stickyOffset)) {
          stickyHeaderIndices.push(cells.length);
        }
        var shouldListenForLayout = getItemLayout == null || debug || _this2._fillRateHelper.enabled();
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListCellRenderer.default, _objectSpread({
          CellRendererComponent: CellRendererComponent,
          ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
          ListItemComponent: ListItemComponent,
          cellKey: key,
          horizontal: horizontal,
          index: ii,
          inversionStyle: inversionStyle,
          item: item,
          prevCellKey: prevCellKey,
          onUpdateSeparators: _this2._onUpdateSeparators,
          onCellFocusCapture: function onCellFocusCapture(e) {
            return _this2._onCellFocusCapture(key);
          },
          onUnmount: _this2._onCellUnmount,
          ref: function ref(_ref) {
            _this2._cellRefs[key] = _ref;
          },
          renderItem: renderItem
        }, shouldListenForLayout && {
          onCellLayout: _this2._onCellLayout
        }), key));
        prevCellKey = key;
      };
      for (var ii = first; ii <= last; ii++) {
        _loop();
      }
    }
  }, {
    key: "_isNestedWithSameOrientation",
    value: function _isNestedWithSameOrientation() {
      var nestedContext = this.context;
      return !!(nestedContext && !!nestedContext.horizontal === horizontalOrDefault(this.props.horizontal));
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;
      this._checkProps(this.props);
      var _this$props5 = this.props,
        ListEmptyComponent = _this$props5.ListEmptyComponent,
        ListFooterComponent = _this$props5.ListFooterComponent,
        ListHeaderComponent = _this$props5.ListHeaderComponent;
      var _this$props6 = this.props,
        data = _this$props6.data,
        horizontal = _this$props6.horizontal;
      var inversionStyle = this.props.inverted ? horizontalOrDefault(this.props.horizontal) ? styles.horizontallyInverted : styles.verticallyInverted : null;
      var cells = [];
      var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
      var stickyHeaderIndices = [];
      if (ListHeaderComponent) {
        if (stickyIndicesFromProps.has(0)) {
          stickyHeaderIndices.push(0);
        }
        var _element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent : (0, _jsxRuntime.jsx)(ListHeaderComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-header',
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            collapsable: false,
            onLayout: this._onLayoutHeader,
            style: _reactNative.StyleSheet.compose(inversionStyle, this.props.ListHeaderComponentStyle),
            children: _element
          })
        }, "$header"));
      }
      var itemCount = this.props.getItemCount(data);
      if (itemCount === 0 && ListEmptyComponent) {
        var _element2 = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent : (0, _jsxRuntime.jsx)(ListEmptyComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-empty',
          children: React.cloneElement(_element2, {
            onLayout: function onLayout(event) {
              _this3._onLayoutEmpty(event);
              if (_element2.props.onLayout) {
                _element2.props.onLayout(event);
              }
            },
            style: _reactNative.StyleSheet.compose(inversionStyle, _element2.props.style)
          })
        }, "$empty"));
      }
      if (itemCount > 0) {
        _usedIndexForKey = false;
        _keylessItemComponentName = '';
        var spacerKey = this._getSpacerKey(!horizontal);
        var renderRegions = this.state.renderMask.enumerateRegions();
        var lastSpacer = findLastWhere(renderRegions, function (r) {
          return r.isSpacer;
        });
        for (var section of renderRegions) {
          if (section.isSpacer) {
            if (this.props.disableVirtualization) {
              continue;
            }
            var isLastSpacer = section === lastSpacer;
            var constrainToMeasured = isLastSpacer && !this.props.getItemLayout;
            var last = constrainToMeasured ? (0, _clamp.default)(section.first - 1, section.last, this._highestMeasuredFrameIndex) : section.last;
            var firstMetrics = this.__getFrameMetricsApprox(section.first, this.props);
            var lastMetrics = this.__getFrameMetricsApprox(last, this.props);
            var spacerSize = lastMetrics.offset + lastMetrics.length - firstMetrics.offset;
            cells.push((0, _jsxRuntime.jsx)(_reactNative.View, {
              style: (0, _defineProperty2.default)({}, spacerKey, spacerSize)
            }, `$spacer-${section.first}`));
          } else {
            this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, section.first, section.last, inversionStyle);
          }
        }
        if (!this._hasWarned.keys && _usedIndexForKey) {
          console.warn('VirtualizedList: missing keys for items, make sure to specify a key or id property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);
          this._hasWarned.keys = true;
        }
      }
      if (ListFooterComponent) {
        var _element3 = React.isValidElement(ListFooterComponent) ? ListFooterComponent : (0, _jsxRuntime.jsx)(ListFooterComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getFooterCellKey(),
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            onLayout: this._onLayoutFooter,
            style: _reactNative.StyleSheet.compose(inversionStyle, this.props.ListFooterComponentStyle),
            children: _element3
          })
        }, "$footer"));
      }
      var scrollProps = _objectSpread(_objectSpread({}, this.props), {}, {
        onContentSizeChange: this._onContentSizeChange,
        onLayout: this._onLayout,
        onScroll: this._onScroll,
        onScrollBeginDrag: this._onScrollBeginDrag,
        onScrollEndDrag: this._onScrollEndDrag,
        onMomentumScrollBegin: this._onMomentumScrollBegin,
        onMomentumScrollEnd: this._onMomentumScrollEnd,
        scrollEventThrottle: scrollEventThrottleOrDefault(this.props.scrollEventThrottle),
        invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,
        stickyHeaderIndices: stickyHeaderIndices,
        style: inversionStyle ? [inversionStyle, this.props.style] : this.props.style,
        isInvertedVirtualizedList: this.props.inverted,
        maintainVisibleContentPosition: this.props.maintainVisibleContentPosition != null ? _objectSpread(_objectSpread({}, this.props.maintainVisibleContentPosition), {}, {
          minIndexForVisible: this.props.maintainVisibleContentPosition.minIndexForVisible + (this.props.ListHeaderComponent ? 1 : 0)
        }) : undefined
      });
      this._hasMore = this.state.cellsAroundViewport.last < itemCount - 1;
      var innerRet = (0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListContextProvider, {
        value: {
          cellKey: null,
          getScrollMetrics: this._getScrollMetrics,
          horizontal: horizontalOrDefault(this.props.horizontal),
          getOutermostParentListRef: this._getOutermostParentListRef,
          registerAsNestedChild: this._registerAsNestedChild,
          unregisterAsNestedChild: this._unregisterAsNestedChild
        },
        children: React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {
          ref: this._captureScrollRef
        }, cells)
      });
      var ret = innerRet;
      if (__DEV__) {
        ret = (0, _jsxRuntime.jsx)(_reactNative.ScrollView.Context.Consumer, {
          children: function children(scrollContext) {
            if (scrollContext != null && !scrollContext.horizontal === !horizontalOrDefault(_this3.props.horizontal) && !_this3._hasWarned.nesting && _this3.context == null && _this3.props.scrollEnabled !== false) {
              console.error('VirtualizedLists should never be nested inside plain ScrollViews with the same ' + 'orientation because it can break windowing and other functionality - use another ' + 'VirtualizedList-backed container instead.');
              _this3._hasWarned.nesting = true;
            }
            return innerRet;
          }
        });
      }
      if (this.props.debug) {
        return (0, _jsxRuntime.jsxs)(_reactNative.View, {
          style: styles.debug,
          children: [ret, this._renderDebugOverlay()]
        });
      } else {
        return ret;
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props7 = this.props,
        data = _this$props7.data,
        extraData = _this$props7.extraData;
      if (data !== prevProps.data || extraData !== prevProps.extraData) {
        this._viewabilityTuples.forEach(function (tuple) {
          tuple.viewabilityHelper.resetViewableIndices();
        });
      }
      var hiPriInProgress = this._hiPriInProgress;
      this._scheduleCellsToRenderUpdate();
      if (hiPriInProgress) {
        this._hiPriInProgress = false;
      }
    }
  }, {
    key: "_computeBlankness",
    value: function _computeBlankness() {
      this._fillRateHelper.computeBlankness(this.props, this.state.cellsAroundViewport, this._scrollMetrics);
    }
  }, {
    key: "_onCellFocusCapture",
    value: function _onCellFocusCapture(cellKey) {
      this._lastFocusedCellKey = cellKey;
      this._updateCellsToRender();
    }
  }, {
    key: "_triggerRemeasureForChildListsInCell",
    value: function _triggerRemeasureForChildListsInCell(cellKey) {
      this._nestedChildLists.forEachInCell(cellKey, function (childList) {
        childList.measureLayoutRelativeToContainingList();
      });
    }
  }, {
    key: "measureLayoutRelativeToContainingList",
    value: function measureLayoutRelativeToContainingList() {
      var _this4 = this;
      try {
        if (!this._scrollRef) {
          return;
        }
        this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(), function (x, y, width, height) {
          _this4._offsetFromParentVirtualizedList = _this4._selectOffset({
            x: x,
            y: y
          });
          _this4._scrollMetrics.contentLength = _this4._selectLength({
            width: width,
            height: height
          });
          var scrollMetrics = _this4._convertParentScrollMetrics(_this4.context.getScrollMetrics());
          var metricsChanged = _this4._scrollMetrics.visibleLength !== scrollMetrics.visibleLength || _this4._scrollMetrics.offset !== scrollMetrics.offset;
          if (metricsChanged) {
            _this4._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
            _this4._scrollMetrics.offset = scrollMetrics.offset;
            _this4._nestedChildLists.forEach(function (childList) {
              childList.measureLayoutRelativeToContainingList();
            });
          }
        }, function (error) {
          console.warn("VirtualizedList: Encountered an error while measuring a list's" + ' offset from its containing VirtualizedList.');
        });
      } catch (error) {
        console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);
      }
    }
  }, {
    key: "_getFooterCellKey",
    value: function _getFooterCellKey() {
      return this._getCellKey() + '-footer';
    }
  }, {
    key: "_renderDebugOverlay",
    value: function _renderDebugOverlay() {
      var normalize = this._scrollMetrics.visibleLength / (this._scrollMetrics.contentLength || 1);
      var framesInLayout = [];
      var itemCount = this.props.getItemCount(this.props.data);
      for (var ii = 0; ii < itemCount; ii++) {
        var frame = this.__getFrameMetricsApprox(ii, this.props);
        if (frame.inLayout) {
          framesInLayout.push(frame);
        }
      }
      var windowTop = this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first, this.props).offset;
      var frameLast = this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last, this.props);
      var windowLen = frameLast.offset + frameLast.length - windowTop;
      var visTop = this._scrollMetrics.offset;
      var visLen = this._scrollMetrics.visibleLength;
      return (0, _jsxRuntime.jsxs)(_reactNative.View, {
        style: [styles.debugOverlayBase, styles.debugOverlay],
        children: [framesInLayout.map(function (f, ii) {
          return (0, _jsxRuntime.jsx)(_reactNative.View, {
            style: [styles.debugOverlayBase, styles.debugOverlayFrame, {
              top: f.offset * normalize,
              height: f.length * normalize
            }]
          }, 'f' + ii);
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameLast, {
            top: windowTop * normalize,
            height: windowLen * normalize
          }]
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameVis, {
            top: visTop * normalize,
            height: visLen * normalize
          }]
        })]
      });
    }
  }, {
    key: "_selectLength",
    value: function _selectLength(metrics) {
      return !horizontalOrDefault(this.props.horizontal) ? metrics.height : metrics.width;
    }
  }, {
    key: "_selectOffset",
    value: function _selectOffset(metrics) {
      return !horizontalOrDefault(this.props.horizontal) ? metrics.y : metrics.x;
    }
  }, {
    key: "_maybeCallOnEdgeReached",
    value: function _maybeCallOnEdgeReached() {
      var _this$props8 = this.props,
        data = _this$props8.data,
        getItemCount = _this$props8.getItemCount,
        onStartReached = _this$props8.onStartReached,
        onStartReachedThreshold = _this$props8.onStartReachedThreshold,
        onEndReached = _this$props8.onEndReached,
        onEndReachedThreshold = _this$props8.onEndReachedThreshold;
      if (this.state.pendingScrollUpdateCount > 0) {
        return;
      }
      var _this$_scrollMetrics2 = this._scrollMetrics,
        contentLength = _this$_scrollMetrics2.contentLength,
        visibleLength = _this$_scrollMetrics2.visibleLength,
        offset = _this$_scrollMetrics2.offset;
      var distanceFromStart = offset;
      var distanceFromEnd = contentLength - visibleLength - offset;
      if (distanceFromStart < ON_EDGE_REACHED_EPSILON) {
        distanceFromStart = 0;
      }
      if (distanceFromEnd < ON_EDGE_REACHED_EPSILON) {
        distanceFromEnd = 0;
      }
      var DEFAULT_THRESHOLD_PX = 2;
      var startThreshold = onStartReachedThreshold != null ? onStartReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;
      var endThreshold = onEndReachedThreshold != null ? onEndReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;
      var isWithinStartThreshold = distanceFromStart <= startThreshold;
      var isWithinEndThreshold = distanceFromEnd <= endThreshold;
      if (onEndReached && this.state.cellsAroundViewport.last === getItemCount(data) - 1 && isWithinEndThreshold && this._scrollMetrics.contentLength !== this._sentEndForContentLength) {
        this._sentEndForContentLength = this._scrollMetrics.contentLength;
        onEndReached({
          distanceFromEnd: distanceFromEnd
        });
      } else if (onStartReached != null && this.state.cellsAroundViewport.first === 0 && isWithinStartThreshold && this._scrollMetrics.contentLength !== this._sentStartForContentLength) {
        this._sentStartForContentLength = this._scrollMetrics.contentLength;
        onStartReached({
          distanceFromStart: distanceFromStart
        });
      } else {
        this._sentStartForContentLength = isWithinStartThreshold ? this._sentStartForContentLength : 0;
        this._sentEndForContentLength = isWithinEndThreshold ? this._sentEndForContentLength : 0;
      }
    }
  }, {
    key: "_scheduleCellsToRenderUpdate",
    value: function _scheduleCellsToRenderUpdate() {
      var _this$state$cellsArou = this.state.cellsAroundViewport,
        first = _this$state$cellsArou.first,
        last = _this$state$cellsArou.last;
      var _this$_scrollMetrics3 = this._scrollMetrics,
        offset = _this$_scrollMetrics3.offset,
        visibleLength = _this$_scrollMetrics3.visibleLength,
        velocity = _this$_scrollMetrics3.velocity;
      var itemCount = this.props.getItemCount(this.props.data);
      var hiPri = false;
      var onStartReachedThreshold = onStartReachedThresholdOrDefault(this.props.onStartReachedThreshold);
      var onEndReachedThreshold = onEndReachedThresholdOrDefault(this.props.onEndReachedThreshold);
      if (first > 0) {
        var distTop = offset - this.__getFrameMetricsApprox(first, this.props).offset;
        hiPri = distTop < 0 || velocity < -2 && distTop < getScrollingThreshold(onStartReachedThreshold, visibleLength);
      }
      if (!hiPri && last >= 0 && last < itemCount - 1) {
        var distBottom = this.__getFrameMetricsApprox(last, this.props).offset - (offset + visibleLength);
        hiPri = distBottom < 0 || velocity > 2 && distBottom < getScrollingThreshold(onEndReachedThreshold, visibleLength);
      }
      if (hiPri && (this._averageCellLength || this.props.getItemLayout) && !this._hiPriInProgress) {
        this._hiPriInProgress = true;
        this._updateCellsToRenderBatcher.dispose({
          abort: true
        });
        this._updateCellsToRender();
        return;
      } else {
        this._updateCellsToRenderBatcher.schedule();
      }
    }
  }, {
    key: "_updateViewableItems",
    value: function _updateViewableItems(props, cellsAroundViewport) {
      var _this5 = this;
      if (this.state.pendingScrollUpdateCount > 0) {
        return;
      }
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.onUpdate(props, _this5._scrollMetrics.offset, _this5._scrollMetrics.visibleLength, _this5._getFrameMetrics, _this5._createViewToken, tuple.onViewableItemsChanged, cellsAroundViewport);
      });
    }
  }], [{
    key: "_findItemIndexWithKey",
    value: function _findItemIndexWithKey(props, key, hint) {
      var itemCount = props.getItemCount(props.data);
      if (hint != null && hint >= 0 && hint < itemCount) {
        var curKey = VirtualizedList._getItemKey(props, hint);
        if (curKey === key) {
          return hint;
        }
      }
      for (var ii = 0; ii < itemCount; ii++) {
        var _curKey = VirtualizedList._getItemKey(props, ii);
        if (_curKey === key) {
          return ii;
        }
      }
      return null;
    }
  }, {
    key: "_getItemKey",
    value: function _getItemKey(props, index) {
      var item = props.getItem(props.data, index);
      return VirtualizedList._keyExtractor(item, index, props);
    }
  }, {
    key: "_createRenderMask",
    value: function _createRenderMask(props, cellsAroundViewport, additionalRegions) {
      var itemCount = props.getItemCount(props.data);
      (0, _invariant.default)(cellsAroundViewport.first >= 0 && cellsAroundViewport.last >= cellsAroundViewport.first - 1 && cellsAroundViewport.last < itemCount, `Invalid cells around viewport "[${cellsAroundViewport.first}, ${cellsAroundViewport.last}]" was passed to VirtualizedList._createRenderMask`);
      var renderMask = new _CellRenderMask.CellRenderMask(itemCount);
      if (itemCount > 0) {
        var allRegions = [cellsAroundViewport].concat((0, _toConsumableArray2.default)(additionalRegions != null ? additionalRegions : []));
        for (var region of allRegions) {
          renderMask.addCells(region);
        }
        if (props.initialScrollIndex == null || props.initialScrollIndex <= 0) {
          var initialRegion = VirtualizedList._initialRenderRegion(props);
          renderMask.addCells(initialRegion);
        }
        var stickyIndicesSet = new Set(props.stickyHeaderIndices);
        VirtualizedList._ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellsAroundViewport.first);
      }
      return renderMask;
    }
  }, {
    key: "_initialRenderRegion",
    value: function _initialRenderRegion(props) {
      var _props$initialScrollI;
      var itemCount = props.getItemCount(props.data);
      var firstCellIndex = Math.max(0, Math.min(itemCount - 1, Math.floor((_props$initialScrollI = props.initialScrollIndex) != null ? _props$initialScrollI : 0)));
      var lastCellIndex = Math.min(itemCount, firstCellIndex + initialNumToRenderOrDefault(props.initialNumToRender)) - 1;
      return {
        first: firstCellIndex,
        last: lastCellIndex
      };
    }
  }, {
    key: "_ensureClosestStickyHeader",
    value: function _ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellIdx) {
      var stickyOffset = props.ListHeaderComponent ? 1 : 0;
      for (var itemIdx = cellIdx - 1; itemIdx >= 0; itemIdx--) {
        if (stickyIndicesSet.has(itemIdx + stickyOffset)) {
          renderMask.addCells({
            first: itemIdx,
            last: itemIdx
          });
          break;
        }
      }
    }
  }, {
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(newProps, prevState) {
      var _newProps$maintainVis, _newProps$maintainVis2;
      var itemCount = newProps.getItemCount(newProps.data);
      if (itemCount === prevState.renderMask.numCells()) {
        return prevState;
      }
      var maintainVisibleContentPositionAdjustment = null;
      var prevFirstVisibleItemKey = prevState.firstVisibleItemKey;
      var minIndexForVisible = (_newProps$maintainVis = (_newProps$maintainVis2 = newProps.maintainVisibleContentPosition) == null ? void 0 : _newProps$maintainVis2.minIndexForVisible) != null ? _newProps$maintainVis : 0;
      var newFirstVisibleItemKey = newProps.getItemCount(newProps.data) > minIndexForVisible ? VirtualizedList._getItemKey(newProps, minIndexForVisible) : null;
      if (newProps.maintainVisibleContentPosition != null && prevFirstVisibleItemKey != null && newFirstVisibleItemKey != null) {
        if (newFirstVisibleItemKey !== prevFirstVisibleItemKey) {
          var hint = itemCount - prevState.renderMask.numCells() + minIndexForVisible;
          var firstVisibleItemIndex = VirtualizedList._findItemIndexWithKey(newProps, prevFirstVisibleItemKey, hint);
          maintainVisibleContentPositionAdjustment = firstVisibleItemIndex != null ? firstVisibleItemIndex - minIndexForVisible : null;
        } else {
          maintainVisibleContentPositionAdjustment = null;
        }
      }
      var constrainedCells = VirtualizedList._constrainToItemCount(maintainVisibleContentPositionAdjustment != null ? {
        first: prevState.cellsAroundViewport.first + maintainVisibleContentPositionAdjustment,
        last: prevState.cellsAroundViewport.last + maintainVisibleContentPositionAdjustment
      } : prevState.cellsAroundViewport, newProps);
      return {
        cellsAroundViewport: constrainedCells,
        renderMask: VirtualizedList._createRenderMask(newProps, constrainedCells),
        firstVisibleItemKey: newFirstVisibleItemKey,
        pendingScrollUpdateCount: maintainVisibleContentPositionAdjustment != null ? prevState.pendingScrollUpdateCount + 1 : prevState.pendingScrollUpdateCount
      };
    }
  }, {
    key: "_constrainToItemCount",
    value: function _constrainToItemCount(cells, props) {
      var itemCount = props.getItemCount(props.data);
      var last = Math.min(itemCount - 1, cells.last);
      var maxToRenderPerBatch = maxToRenderPerBatchOrDefault(props.maxToRenderPerBatch);
      return {
        first: (0, _clamp.default)(0, itemCount - 1 - maxToRenderPerBatch, cells.first),
        last: last
      };
    }
  }, {
    key: "_keyExtractor",
    value: function _keyExtractor(item, index, props) {
      if (props.keyExtractor != null) {
        return props.keyExtractor(item, index);
      }
      var key = (0, _VirtualizeUtils.keyExtractor)(item, index);
      if (key === String(index)) {
        _usedIndexForKey = true;
        if (item.type && item.type.displayName) {
          _keylessItemComponentName = item.type.displayName;
        }
      }
      return key;
    }
  }]);
  return VirtualizedList;
}(_StateSafePureComponent.default);
VirtualizedList.contextType = _VirtualizedListContext.VirtualizedListContext;
var styles = _reactNative.StyleSheet.create({
  verticallyInverted: _reactNative.Platform.OS === 'android' ? {
    transform: [{
      scale: -1
    }]
  } : {
    transform: [{
      scaleY: -1
    }]
  },
  horizontallyInverted: {
    transform: [{
      scaleX: -1
    }]
  },
  debug: {
    flex: 1
  },
  debugOverlayBase: {
    position: 'absolute',
    top: 0,
    right: 0
  },
  debugOverlay: {
    bottom: 0,
    width: 20,
    borderColor: 'blue',
    borderWidth: 1
  },
  debugOverlayFrame: {
    left: 0,
    backgroundColor: 'orange'
  },
  debugOverlayFrameLast: {
    left: 0,
    borderColor: 'green',
    borderWidth: 2
  },
  debugOverlayFrameVis: {
    left: 0,
    borderColor: 'red',
    borderWidth: 2
  }
});
module.exports = VirtualizedList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3ROYXRpdmUiLCJyZXF1aXJlIiwiX0JhdGNoaW5hdG9yIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9jbGFtcCIsIl9pbmZvTG9nIiwiX0NlbGxSZW5kZXJNYXNrIiwiX0NoaWxkTGlzdENvbGxlY3Rpb24iLCJfRmlsbFJhdGVIZWxwZXIiLCJfU3RhdGVTYWZlUHVyZUNvbXBvbmVudCIsIl9WaWV3YWJpbGl0eUhlbHBlciIsIl9WaXJ0dWFsaXplZExpc3RDZWxsUmVuZGVyZXIiLCJfVmlydHVhbGl6ZWRMaXN0Q29udGV4dCIsIl9WaXJ0dWFsaXplVXRpbHMiLCJfaW52YXJpYW50IiwiX251bGx0aHJvd3MiLCJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX2pzeFJ1bnRpbWUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0Iiwib3duS2V5cyIsImUiLCJyIiwidCIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJvIiwiZmlsdGVyIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5MiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiX2NyZWF0ZVN1cGVyIiwiRGVyaXZlZCIsImhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiX2NyZWF0ZVN1cGVySW50ZXJuYWwiLCJTdXBlciIsIl9nZXRQcm90b3R5cGVPZjIiLCJyZXN1bHQiLCJOZXdUYXJnZXQiLCJjb25zdHJ1Y3RvciIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJzaGFtIiwiUHJveHkiLCJCb29sZWFuIiwidmFsdWVPZiIsIk9OX0VER0VfUkVBQ0hFRF9FUFNJTE9OIiwiX3VzZWRJbmRleEZvcktleSIsIl9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUiLCJob3Jpem9udGFsT3JEZWZhdWx0IiwiaG9yaXpvbnRhbCIsImluaXRpYWxOdW1Ub1JlbmRlck9yRGVmYXVsdCIsImluaXRpYWxOdW1Ub1JlbmRlciIsIm1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQiLCJtYXhUb1JlbmRlclBlckJhdGNoIiwib25TdGFydFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQiLCJvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCIsIm9uRW5kUmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdCIsIm9uRW5kUmVhY2hlZFRocmVzaG9sZCIsImdldFNjcm9sbGluZ1RocmVzaG9sZCIsInRocmVzaG9sZCIsInZpc2libGVMZW5ndGgiLCJzY3JvbGxFdmVudFRocm90dGxlT3JEZWZhdWx0Iiwic2Nyb2xsRXZlbnRUaHJvdHRsZSIsIndpbmRvd1NpemVPckRlZmF1bHQiLCJ3aW5kb3dTaXplIiwiZmluZExhc3RXaGVyZSIsImFyciIsInByZWRpY2F0ZSIsImkiLCJWaXJ0dWFsaXplZExpc3QiLCJfU3RhdGVTYWZlUHVyZUNvbXBvbmUiLCJfaW5oZXJpdHMyIiwiX3N1cGVyIiwicHJvcHMiLCJfdGhpcyRwcm9wcyR1cGRhdGVDZWwiLCJfdGhpcyRwcm9wcyRtYWludGFpblYiLCJfdGhpcyRwcm9wcyRtYWludGFpblYyIiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2dldFNjcm9sbE1ldHJpY3MiLCJfc2Nyb2xsTWV0cmljcyIsIl9nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmIiwiX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbiIsImNvbnRleHQiLCJnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZDIiLCJfcmVnaXN0ZXJBc05lc3RlZENoaWxkIiwiY2hpbGRMaXN0IiwiX25lc3RlZENoaWxkTGlzdHMiLCJhZGQiLCJyZWYiLCJjZWxsS2V5IiwiX2hhc0ludGVyYWN0ZWQiLCJyZWNvcmRJbnRlcmFjdGlvbiIsIl91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsInJlbW92ZSIsIl9vblVwZGF0ZVNlcGFyYXRvcnMiLCJuZXdQcm9wcyIsIl9jZWxsUmVmcyIsInVwZGF0ZVNlcGFyYXRvclByb3BzIiwiX2dldFNwYWNlcktleSIsImlzVmVydGljYWwiLCJfYXZlcmFnZUNlbGxMZW5ndGgiLCJfZnJhbWVzIiwiX2Zvb3Rlckxlbmd0aCIsIl9oYXNUcmlnZ2VyZWRJbml0aWFsU2Nyb2xsVG9JbmRleCIsIl9oYXNNb3JlIiwiX2hhc1dhcm5lZCIsIl9oZWFkZXJMZW5ndGgiLCJfaGlQcmlJblByb2dyZXNzIiwiX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgiLCJfaW5kaWNlc1RvS2V5cyIsIk1hcCIsIl9sYXN0Rm9jdXNlZENlbGxLZXkiLCJDaGlsZExpc3RDb2xsZWN0aW9uIiwiX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3QiLCJfcHJldlBhcmVudE9mZnNldCIsImNvbnRlbnRMZW5ndGgiLCJkT2Zmc2V0IiwiZHQiLCJvZmZzZXQiLCJ0aW1lc3RhbXAiLCJ2ZWxvY2l0eSIsInpvb21TY2FsZSIsIl9zY3JvbGxSZWYiLCJfc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aCIsIl9zZW50RW5kRm9yQ29udGVudExlbmd0aCIsIl90b3RhbENlbGxMZW5ndGgiLCJfdG90YWxDZWxsc01lYXN1cmVkIiwiX3ZpZXdhYmlsaXR5VHVwbGVzIiwiX2NhcHR1cmVTY3JvbGxSZWYiLCJfZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudCIsIm9uUmVmcmVzaCIsImpzeCIsIlZpZXciLCJfcHJvcHMkcmVmcmVzaGluZyIsImludmFyaWFudCIsInJlZnJlc2hpbmciLCJKU09OIiwic3RyaW5naWZ5IiwiU2Nyb2xsVmlldyIsInJlZnJlc2hDb250cm9sIiwiUmVmcmVzaENvbnRyb2wiLCJwcm9ncmVzc1ZpZXdPZmZzZXQiLCJfb25DZWxsTGF5b3V0IiwiaW5kZXgiLCJsYXlvdXQiLCJuYXRpdmVFdmVudCIsIm5leHQiLCJfc2VsZWN0T2Zmc2V0IiwiX3NlbGVjdExlbmd0aCIsImluTGF5b3V0IiwiY3VyciIsIk1hdGgiLCJtYXgiLCJfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlIiwiX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsIiwiX2NvbXB1dGVCbGFua25lc3MiLCJfdXBkYXRlVmlld2FibGVJdGVtcyIsInN0YXRlIiwiY2VsbHNBcm91bmRWaWV3cG9ydCIsIl9vbkNlbGxVbm1vdW50IiwiX29uTGF5b3V0IiwibWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCIsIm9uTGF5b3V0IiwiX21heWJlQ2FsbE9uRWRnZVJlYWNoZWQiLCJfb25MYXlvdXRFbXB0eSIsIl9vbkxheW91dEZvb3RlciIsIl9nZXRGb290ZXJDZWxsS2V5IiwiX29uTGF5b3V0SGVhZGVyIiwiX29uQ29udGVudFNpemVDaGFuZ2UiLCJ3aWR0aCIsImhlaWdodCIsImluaXRpYWxTY3JvbGxJbmRleCIsImNvbnRlbnRPZmZzZXQiLCJnZXRJdGVtQ291bnQiLCJkYXRhIiwic2Nyb2xsVG9JbmRleCIsImFuaW1hdGVkIiwibnVsbHRocm93cyIsInNjcm9sbFRvRW5kIiwib25Db250ZW50U2l6ZUNoYW5nZSIsIl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyIsIm1ldHJpY3MiLCJfb25TY3JvbGwiLCJvblNjcm9sbCIsInRpbWVTdGFtcCIsImxheW91dE1lYXN1cmVtZW50IiwiY29udGVudFNpemUiLCJfdGhpcyRfY29udmVydFBhcmVudFMiLCJwZXJmIiwiaW5mb0xvZyIsInByZXZEdCIsInBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCIsInNldFN0YXRlIiwiX2ZpbGxSYXRlSGVscGVyIiwiYWN0aXZhdGUiLCJfb25TY3JvbGxCZWdpbkRyYWciLCJ0dXBsZSIsInZpZXdhYmlsaXR5SGVscGVyIiwib25TY3JvbGxCZWdpbkRyYWciLCJfb25TY3JvbGxFbmREcmFnIiwib25TY3JvbGxFbmREcmFnIiwiX29uTW9tZW50dW1TY3JvbGxCZWdpbiIsIm9uTW9tZW50dW1TY3JvbGxCZWdpbiIsIl9vbk1vbWVudHVtU2Nyb2xsRW5kIiwib25Nb21lbnR1bVNjcm9sbEVuZCIsIl91cGRhdGVDZWxsc1RvUmVuZGVyIiwiX2FkanVzdENlbGxzQXJvdW5kVmlld3BvcnQiLCJyZW5kZXJNYXNrIiwiX2NyZWF0ZVJlbmRlck1hc2siLCJfZ2V0Tm9uVmlld3BvcnRSZW5kZXJSZWdpb25zIiwiZmlyc3QiLCJsYXN0IiwiZXF1YWxzIiwiX2NyZWF0ZVZpZXdUb2tlbiIsImlzVmlld2FibGUiLCJnZXRJdGVtIiwiaXRlbSIsIl9rZXlFeHRyYWN0b3IiLCJfZ2V0T2Zmc2V0QXBwcm94IiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiX19nZXRGcmFtZU1ldHJpY3NBcHByb3giLCJmcmFtZU1ldHJpY3MiLCJmbG9vciIsInJlbWFpbmRlciIsImZyYW1lIiwiX2dldEZyYW1lTWV0cmljcyIsImdldEl0ZW1MYXlvdXQiLCJfZ2V0SXRlbUtleSIsImxhc3RGb2N1c2VkQ2VsbFJlbmRlcmVyIiwiZm9jdXNlZENlbGxJbmRleCIsIml0ZW1Db3VudCIsImhlaWdodE9mQ2VsbHNCZWZvcmVGb2N1c2VkIiwiaGVpZ2h0T2ZDZWxsc0FmdGVyRm9jdXNlZCIsIl9jaGVja1Byb3BzIiwiRmlsbFJhdGVIZWxwZXIiLCJfdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIiLCJCYXRjaGluYXRvciIsInVwZGF0ZUNlbGxzQmF0Y2hpbmdQZXJpb2QiLCJ2aWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcnMiLCJtYXAiLCJwYWlyIiwiVmlld2FiaWxpdHlIZWxwZXIiLCJ2aWV3YWJpbGl0eUNvbmZpZyIsIm9uVmlld2FibGVJdGVtc0NoYW5nZWQiLCJfdGhpcyRwcm9wcyIsImluaXRpYWxSZW5kZXJSZWdpb24iLCJfaW5pdGlhbFJlbmRlclJlZ2lvbiIsIm1pbkluZGV4Rm9yVmlzaWJsZSIsIm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbiIsImZpcnN0VmlzaWJsZUl0ZW1LZXkiLCJfY3JlYXRlQ2xhc3MyIiwidmFsdWUiLCJwYXJhbXMiLCJ2ZXJ5TGFzdCIsInNjcm9sbFRvIiwiY29uc29sZSIsIndhcm4iLCJ4IiwieSIsIl90aGlzJHByb3BzMiIsIm9uU2Nyb2xsVG9JbmRleEZhaWxlZCIsInZpZXdPZmZzZXQiLCJ2aWV3UG9zaXRpb24iLCJhdmVyYWdlSXRlbUxlbmd0aCIsImhpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgiLCJzY3JvbGxUb0l0ZW0iLCJfdGhpcyRwcm9wczMiLCJzY3JvbGxUb09mZnNldCIsImZsYXNoU2Nyb2xsSW5kaWNhdG9ycyIsImdldFNjcm9sbFJlc3BvbmRlciIsImdldFNjcm9sbGFibGVOb2RlIiwiZmluZE5vZGVIYW5kbGUiLCJnZXRTY3JvbGxSZWYiLCJzZXROYXRpdmVQcm9wcyIsIl9nZXRDZWxsS2V5IiwiX3RoaXMkY29udGV4dCIsImhhc01vcmUiLCJfX2lzTmF0aXZlIiwiX19ERVZfXyIsImZsZXhXcmFwIiwiZmxhdFN0eWxlcyIsIlN0eWxlU2hlZXQiLCJmbGF0dGVuIiwiY29udGVudENvbnRhaW5lclN0eWxlIiwiX3RoaXMkX3Njcm9sbE1ldHJpY3MiLCJkaXN0YW5jZUZyb21FbmQiLCJfY29uc3RyYWluVG9JdGVtQ291bnQiLCJuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0IiwiZGlzYWJsZVZpcnR1YWxpemF0aW9uIiwicmVuZGVyQWhlYWQiLCJtaW4iLCJjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMiLCJzaXplIiwiY2hpbGRJZHgiLCJfZmluZEZpcnN0Q2hpbGRXaXRoTW9yZSIsImlpIiwiY2VsbEtleUZvckluZGV4IiwiYW55SW5DZWxsIiwiY29tcG9uZW50RGlkTW91bnQiLCJyZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInVucmVnaXN0ZXJBc05lc3RlZENoaWxkIiwiZGlzcG9zZSIsImFib3J0IiwiZGVhY3RpdmF0ZUFuZEZsdXNoIiwiX3B1c2hDZWxscyIsImNlbGxzIiwic3RpY2t5SGVhZGVySW5kaWNlcyIsInN0aWNreUluZGljZXNGcm9tUHJvcHMiLCJpbnZlcnNpb25TdHlsZSIsIl90aGlzMiIsIl90aGlzJHByb3BzNCIsIkNlbGxSZW5kZXJlckNvbXBvbmVudCIsIkl0ZW1TZXBhcmF0b3JDb21wb25lbnQiLCJMaXN0SGVhZGVyQ29tcG9uZW50IiwiTGlzdEl0ZW1Db21wb25lbnQiLCJkZWJ1ZyIsInJlbmRlckl0ZW0iLCJzdGlja3lPZmZzZXQiLCJlbmQiLCJwcmV2Q2VsbEtleSIsIl9sb29wIiwic2hvdWxkTGlzdGVuRm9yTGF5b3V0IiwiZW5hYmxlZCIsInVuZGVmaW5lZCIsIm9uVXBkYXRlU2VwYXJhdG9ycyIsIm9uQ2VsbEZvY3VzQ2FwdHVyZSIsIl9vbkNlbGxGb2N1c0NhcHR1cmUiLCJvblVubW91bnQiLCJvbkNlbGxMYXlvdXQiLCJuZXN0ZWRDb250ZXh0IiwicmVuZGVyIiwiX3RoaXMzIiwiX3RoaXMkcHJvcHM1IiwiTGlzdEVtcHR5Q29tcG9uZW50IiwiTGlzdEZvb3RlckNvbXBvbmVudCIsIl90aGlzJHByb3BzNiIsImludmVydGVkIiwic3R5bGVzIiwiaG9yaXpvbnRhbGx5SW52ZXJ0ZWQiLCJ2ZXJ0aWNhbGx5SW52ZXJ0ZWQiLCJTZXQiLCJlbGVtZW50IiwiaXNWYWxpZEVsZW1lbnQiLCJWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJjb2xsYXBzYWJsZSIsInN0eWxlIiwiY29tcG9zZSIsIkxpc3RIZWFkZXJDb21wb25lbnRTdHlsZSIsImNsb25lRWxlbWVudCIsImV2ZW50Iiwic3BhY2VyS2V5IiwicmVuZGVyUmVnaW9ucyIsImVudW1lcmF0ZVJlZ2lvbnMiLCJsYXN0U3BhY2VyIiwiaXNTcGFjZXIiLCJzZWN0aW9uIiwiaXNMYXN0U3BhY2VyIiwiY29uc3RyYWluVG9NZWFzdXJlZCIsImNsYW1wIiwiZmlyc3RNZXRyaWNzIiwibGFzdE1ldHJpY3MiLCJzcGFjZXJTaXplIiwiTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlIiwic2Nyb2xsUHJvcHMiLCJpbnZlcnRTdGlja3lIZWFkZXJzIiwiaXNJbnZlcnRlZFZpcnR1YWxpemVkTGlzdCIsImlubmVyUmV0IiwiVmlydHVhbGl6ZWRMaXN0Q29udGV4dFByb3ZpZGVyIiwiZ2V0U2Nyb2xsTWV0cmljcyIsInJlbmRlclNjcm9sbENvbXBvbmVudCIsInJldCIsIkNvbnRleHQiLCJDb25zdW1lciIsInNjcm9sbENvbnRleHQiLCJuZXN0aW5nIiwic2Nyb2xsRW5hYmxlZCIsImVycm9yIiwianN4cyIsIl9yZW5kZXJEZWJ1Z092ZXJsYXkiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJfdGhpcyRwcm9wczciLCJleHRyYURhdGEiLCJyZXNldFZpZXdhYmxlSW5kaWNlcyIsImhpUHJpSW5Qcm9ncmVzcyIsImNvbXB1dGVCbGFua25lc3MiLCJmb3JFYWNoSW5DZWxsIiwiX3RoaXM0IiwibWVhc3VyZUxheW91dCIsInNjcm9sbE1ldHJpY3MiLCJtZXRyaWNzQ2hhbmdlZCIsInN0YWNrIiwibm9ybWFsaXplIiwiZnJhbWVzSW5MYXlvdXQiLCJ3aW5kb3dUb3AiLCJmcmFtZUxhc3QiLCJ3aW5kb3dMZW4iLCJ2aXNUb3AiLCJ2aXNMZW4iLCJkZWJ1Z092ZXJsYXlCYXNlIiwiZGVidWdPdmVybGF5IiwiZiIsImRlYnVnT3ZlcmxheUZyYW1lIiwidG9wIiwiZGVidWdPdmVybGF5RnJhbWVMYXN0IiwiZGVidWdPdmVybGF5RnJhbWVWaXMiLCJfdGhpcyRwcm9wczgiLCJvblN0YXJ0UmVhY2hlZCIsIm9uRW5kUmVhY2hlZCIsIl90aGlzJF9zY3JvbGxNZXRyaWNzMiIsImRpc3RhbmNlRnJvbVN0YXJ0IiwiREVGQVVMVF9USFJFU0hPTERfUFgiLCJzdGFydFRocmVzaG9sZCIsImVuZFRocmVzaG9sZCIsImlzV2l0aGluU3RhcnRUaHJlc2hvbGQiLCJpc1dpdGhpbkVuZFRocmVzaG9sZCIsIl90aGlzJHN0YXRlJGNlbGxzQXJvdSIsIl90aGlzJF9zY3JvbGxNZXRyaWNzMyIsImhpUHJpIiwiZGlzdFRvcCIsImRpc3RCb3R0b20iLCJzY2hlZHVsZSIsIl90aGlzNSIsIm9uVXBkYXRlIiwiX2ZpbmRJdGVtSW5kZXhXaXRoS2V5IiwiaGludCIsImN1cktleSIsImFkZGl0aW9uYWxSZWdpb25zIiwiQ2VsbFJlbmRlck1hc2siLCJhbGxSZWdpb25zIiwiY29uY2F0IiwiX3RvQ29uc3VtYWJsZUFycmF5MiIsInJlZ2lvbiIsImFkZENlbGxzIiwiaW5pdGlhbFJlZ2lvbiIsInN0aWNreUluZGljZXNTZXQiLCJfZW5zdXJlQ2xvc2VzdFN0aWNreUhlYWRlciIsIl9wcm9wcyRpbml0aWFsU2Nyb2xsSSIsImZpcnN0Q2VsbEluZGV4IiwibGFzdENlbGxJbmRleCIsImNlbGxJZHgiLCJpdGVtSWR4IiwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwicHJldlN0YXRlIiwiX25ld1Byb3BzJG1haW50YWluVmlzIiwiX25ld1Byb3BzJG1haW50YWluVmlzMiIsIm51bUNlbGxzIiwibWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCIsInByZXZGaXJzdFZpc2libGVJdGVtS2V5IiwibmV3Rmlyc3RWaXNpYmxlSXRlbUtleSIsImZpcnN0VmlzaWJsZUl0ZW1JbmRleCIsImNvbnN0cmFpbmVkQ2VsbHMiLCJrZXlFeHRyYWN0b3IiLCJkZWZhdWx0S2V5RXh0cmFjdG9yIiwiU3RyaW5nIiwidHlwZSIsImRpc3BsYXlOYW1lIiwiU3RhdGVTYWZlUHVyZUNvbXBvbmVudCIsImNvbnRleHRUeXBlIiwiVmlydHVhbGl6ZWRMaXN0Q29udGV4dCIsImNyZWF0ZSIsIlBsYXRmb3JtIiwiT1MiLCJ0cmFuc2Zvcm0iLCJzY2FsZSIsInNjYWxlWSIsInNjYWxlWCIsImZsZXgiLCJwb3NpdGlvbiIsInJpZ2h0IiwiYm90dG9tIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsImxlZnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiVmlydHVhbGl6ZWRMaXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbmltcG9ydCB0eXBlIHtTY3JvbGxSZXNwb25kZXJUeXBlfSBmcm9tICdyZWFjdC1uYXRpdmUvTGlicmFyaWVzL0NvbXBvbmVudHMvU2Nyb2xsVmlldy9TY3JvbGxWaWV3JztcbmltcG9ydCB0eXBlIHtWaWV3U3R5bGVQcm9wfSBmcm9tICdyZWFjdC1uYXRpdmUvTGlicmFyaWVzL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7XG4gIExheW91dEV2ZW50LFxuICBTY3JvbGxFdmVudCxcbn0gZnJvbSAncmVhY3QtbmF0aXZlL0xpYnJhcmllcy9UeXBlcy9Db3JlRXZlbnRUeXBlcyc7XG5pbXBvcnQgdHlwZSB7Vmlld1Rva2VufSBmcm9tICcuL1ZpZXdhYmlsaXR5SGVscGVyJztcbmltcG9ydCB0eXBlIHtcbiAgRnJhbWVNZXRyaWNQcm9wcyxcbiAgSXRlbSxcbiAgUHJvcHMsXG4gIFJlbmRlckl0ZW1Qcm9wcyxcbiAgUmVuZGVySXRlbVR5cGUsXG4gIFNlcGFyYXRvcnMsXG59IGZyb20gJy4vVmlydHVhbGl6ZWRMaXN0UHJvcHMnO1xuXG5pbXBvcnQge1xuICBQbGF0Zm9ybSxcbiAgUmVmcmVzaENvbnRyb2wsXG4gIFNjcm9sbFZpZXcsXG4gIFZpZXcsXG4gIFN0eWxlU2hlZXQsXG4gIGZpbmROb2RlSGFuZGxlLFxufSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IEJhdGNoaW5hdG9yIGZyb20gJy4uL0ludGVyYWN0aW9uL0JhdGNoaW5hdG9yJztcbmltcG9ydCBjbGFtcCBmcm9tICcuLi9VdGlsaXRpZXMvY2xhbXAnO1xuaW1wb3J0IGluZm9Mb2cgZnJvbSAnLi4vVXRpbGl0aWVzL2luZm9Mb2cnO1xuaW1wb3J0IHtDZWxsUmVuZGVyTWFza30gZnJvbSAnLi9DZWxsUmVuZGVyTWFzayc7XG5pbXBvcnQgQ2hpbGRMaXN0Q29sbGVjdGlvbiBmcm9tICcuL0NoaWxkTGlzdENvbGxlY3Rpb24nO1xuaW1wb3J0IEZpbGxSYXRlSGVscGVyIGZyb20gJy4vRmlsbFJhdGVIZWxwZXInO1xuaW1wb3J0IFN0YXRlU2FmZVB1cmVDb21wb25lbnQgZnJvbSAnLi9TdGF0ZVNhZmVQdXJlQ29tcG9uZW50JztcbmltcG9ydCBWaWV3YWJpbGl0eUhlbHBlciBmcm9tICcuL1ZpZXdhYmlsaXR5SGVscGVyJztcbmltcG9ydCBDZWxsUmVuZGVyZXIgZnJvbSAnLi9WaXJ0dWFsaXplZExpc3RDZWxsUmVuZGVyZXInO1xuaW1wb3J0IHtcbiAgVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlcixcbiAgVmlydHVhbGl6ZWRMaXN0Q29udGV4dCxcbiAgVmlydHVhbGl6ZWRMaXN0Q29udGV4dFByb3ZpZGVyLFxufSBmcm9tICcuL1ZpcnR1YWxpemVkTGlzdENvbnRleHQuanMnO1xuaW1wb3J0IHtcbiAgY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzLFxuICBrZXlFeHRyYWN0b3IgYXMgZGVmYXVsdEtleUV4dHJhY3Rvcixcbn0gZnJvbSAnLi9WaXJ0dWFsaXplVXRpbHMnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuaW1wb3J0IG51bGx0aHJvd3MgZnJvbSAnbnVsbHRocm93cyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCB0eXBlIHtSZW5kZXJJdGVtUHJvcHMsIFJlbmRlckl0ZW1UeXBlLCBTZXBhcmF0b3JzfTtcblxuY29uc3QgT05fRURHRV9SRUFDSEVEX0VQU0lMT04gPSAwLjAwMTtcblxubGV0IF91c2VkSW5kZXhGb3JLZXkgPSBmYWxzZTtcbmxldCBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lOiBzdHJpbmcgPSAnJztcblxudHlwZSBWaWV3YWJpbGl0eUhlbHBlckNhbGxiYWNrVHVwbGUgPSB7XG4gIHZpZXdhYmlsaXR5SGVscGVyOiBWaWV3YWJpbGl0eUhlbHBlcixcbiAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogKGluZm86IHtcbiAgICB2aWV3YWJsZUl0ZW1zOiBBcnJheTxWaWV3VG9rZW4+LFxuICAgIGNoYW5nZWQ6IEFycmF5PFZpZXdUb2tlbj4sXG4gICAgLi4uXG4gIH0pID0+IHZvaWQsXG4gIC4uLlxufTtcblxudHlwZSBTdGF0ZSA9IHtcbiAgcmVuZGVyTWFzazogQ2VsbFJlbmRlck1hc2ssXG4gIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICAvLyBVc2VkIHRvIHRyYWNrIGl0ZW1zIGFkZGVkIGF0IHRoZSBzdGFydCBvZiB0aGUgbGlzdCBmb3IgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uLlxuICBmaXJzdFZpc2libGVJdGVtS2V5OiA/c3RyaW5nLFxuICAvLyBXaGVuID4gMCB0aGUgc2Nyb2xsIHBvc2l0aW9uIGF2YWlsYWJsZSBpbiBKUyBpcyBjb25zaWRlcmVkIHN0YWxlIGFuZCBzaG91bGQgbm90IGJlIHVzZWQuXG4gIHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudDogbnVtYmVyLFxufTtcblxuLyoqXG4gKiBEZWZhdWx0IFByb3BzIEhlbHBlciBGdW5jdGlvbnNcbiAqIFVzZSB0aGUgZm9sbG93aW5nIGhlbHBlciBmdW5jdGlvbnMgZm9yIGRlZmF1bHQgdmFsdWVzXG4gKi9cblxuLy8gaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG5mdW5jdGlvbiBob3Jpem9udGFsT3JEZWZhdWx0KGhvcml6b250YWw6ID9ib29sZWFuKSB7XG4gIHJldHVybiBob3Jpem9udGFsID8/IGZhbHNlO1xufVxuXG4vLyBpbml0aWFsTnVtVG9SZW5kZXJPckRlZmF1bHQodGhpcy5wcm9wcy5pbml0aWFsTnVtVG9SZW5kZXIpXG5mdW5jdGlvbiBpbml0aWFsTnVtVG9SZW5kZXJPckRlZmF1bHQoaW5pdGlhbE51bVRvUmVuZGVyOiA/bnVtYmVyKSB7XG4gIHJldHVybiBpbml0aWFsTnVtVG9SZW5kZXIgPz8gMTA7XG59XG5cbi8vIG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQodGhpcy5wcm9wcy5tYXhUb1JlbmRlclBlckJhdGNoKVxuZnVuY3Rpb24gbWF4VG9SZW5kZXJQZXJCYXRjaE9yRGVmYXVsdChtYXhUb1JlbmRlclBlckJhdGNoOiA/bnVtYmVyKSB7XG4gIHJldHVybiBtYXhUb1JlbmRlclBlckJhdGNoID8/IDEwO1xufVxuXG4vLyBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdCh0aGlzLnByb3BzLm9uU3RhcnRSZWFjaGVkVGhyZXNob2xkKVxuZnVuY3Rpb24gb25TdGFydFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQob25TdGFydFJlYWNoZWRUaHJlc2hvbGQ6ID9udW1iZXIpIHtcbiAgcmV0dXJuIG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkID8/IDI7XG59XG5cbi8vIG9uRW5kUmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdCh0aGlzLnByb3BzLm9uRW5kUmVhY2hlZFRocmVzaG9sZClcbmZ1bmN0aW9uIG9uRW5kUmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdChvbkVuZFJlYWNoZWRUaHJlc2hvbGQ6ID9udW1iZXIpIHtcbiAgcmV0dXJuIG9uRW5kUmVhY2hlZFRocmVzaG9sZCA/PyAyO1xufVxuXG4vLyBnZXRTY3JvbGxpbmdUaHJlc2hvbGQodmlzaWJsZUxlbmd0aCwgb25FbmRSZWFjaGVkVGhyZXNob2xkKVxuZnVuY3Rpb24gZ2V0U2Nyb2xsaW5nVGhyZXNob2xkKHRocmVzaG9sZDogbnVtYmVyLCB2aXNpYmxlTGVuZ3RoOiBudW1iZXIpIHtcbiAgcmV0dXJuICh0aHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoKSAvIDI7XG59XG5cbi8vIHNjcm9sbEV2ZW50VGhyb3R0bGVPckRlZmF1bHQodGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlKVxuZnVuY3Rpb24gc2Nyb2xsRXZlbnRUaHJvdHRsZU9yRGVmYXVsdChzY3JvbGxFdmVudFRocm90dGxlOiA/bnVtYmVyKSB7XG4gIHJldHVybiBzY3JvbGxFdmVudFRocm90dGxlID8/IDUwO1xufVxuXG4vLyB3aW5kb3dTaXplT3JEZWZhdWx0KHRoaXMucHJvcHMud2luZG93U2l6ZSlcbmZ1bmN0aW9uIHdpbmRvd1NpemVPckRlZmF1bHQod2luZG93U2l6ZTogP251bWJlcikge1xuICByZXR1cm4gd2luZG93U2l6ZSA/PyAyMTtcbn1cblxuZnVuY3Rpb24gZmluZExhc3RXaGVyZTxUPihcbiAgYXJyOiAkUmVhZE9ubHlBcnJheTxUPixcbiAgcHJlZGljYXRlOiAoZWxlbWVudDogVCkgPT4gYm9vbGVhbixcbik6IFQgfCBudWxsIHtcbiAgZm9yIChsZXQgaSA9IGFyci5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyW2ldKSkge1xuICAgICAgcmV0dXJuIGFycltpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBCYXNlIGltcGxlbWVudGF0aW9uIGZvciB0aGUgbW9yZSBjb252ZW5pZW50IFtgPEZsYXRMaXN0PmBdKGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvZmxhdGxpc3QpXG4gKiBhbmQgW2A8U2VjdGlvbkxpc3Q+YF0oaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9zZWN0aW9ubGlzdCkgY29tcG9uZW50cywgd2hpY2ggYXJlIGFsc28gYmV0dGVyXG4gKiBkb2N1bWVudGVkLiBJbiBnZW5lcmFsLCB0aGlzIHNob3VsZCBvbmx5IHJlYWxseSBiZSB1c2VkIGlmIHlvdSBuZWVkIG1vcmUgZmxleGliaWxpdHkgdGhhblxuICogYEZsYXRMaXN0YCBwcm92aWRlcywgZS5nLiBmb3IgdXNlIHdpdGggaW1tdXRhYmxlIGRhdGEgaW5zdGVhZCBvZiBwbGFpbiBhcnJheXMuXG4gKlxuICogVmlydHVhbGl6YXRpb24gbWFzc2l2ZWx5IGltcHJvdmVzIG1lbW9yeSBjb25zdW1wdGlvbiBhbmQgcGVyZm9ybWFuY2Ugb2YgbGFyZ2UgbGlzdHMgYnlcbiAqIG1haW50YWluaW5nIGEgZmluaXRlIHJlbmRlciB3aW5kb3cgb2YgYWN0aXZlIGl0ZW1zIGFuZCByZXBsYWNpbmcgYWxsIGl0ZW1zIG91dHNpZGUgb2YgdGhlIHJlbmRlclxuICogd2luZG93IHdpdGggYXBwcm9wcmlhdGVseSBzaXplZCBibGFuayBzcGFjZS4gVGhlIHdpbmRvdyBhZGFwdHMgdG8gc2Nyb2xsaW5nIGJlaGF2aW9yLCBhbmQgaXRlbXNcbiAqIGFyZSByZW5kZXJlZCBpbmNyZW1lbnRhbGx5IHdpdGggbG93LXByaSAoYWZ0ZXIgYW55IHJ1bm5pbmcgaW50ZXJhY3Rpb25zKSBpZiB0aGV5IGFyZSBmYXIgZnJvbSB0aGVcbiAqIHZpc2libGUgYXJlYSwgb3Igd2l0aCBoaS1wcmkgb3RoZXJ3aXNlIHRvIG1pbmltaXplIHRoZSBwb3RlbnRpYWwgb2Ygc2VlaW5nIGJsYW5rIHNwYWNlLlxuICpcbiAqIFNvbWUgY2F2ZWF0czpcbiAqXG4gKiAtIEludGVybmFsIHN0YXRlIGlzIG5vdCBwcmVzZXJ2ZWQgd2hlbiBjb250ZW50IHNjcm9sbHMgb3V0IG9mIHRoZSByZW5kZXIgd2luZG93LiBNYWtlIHN1cmUgYWxsXG4gKiAgIHlvdXIgZGF0YSBpcyBjYXB0dXJlZCBpbiB0aGUgaXRlbSBkYXRhIG9yIGV4dGVybmFsIHN0b3JlcyBsaWtlIEZsdXgsIFJlZHV4LCBvciBSZWxheS5cbiAqIC0gVGhpcyBpcyBhIGBQdXJlQ29tcG9uZW50YCB3aGljaCBtZWFucyB0aGF0IGl0IHdpbGwgbm90IHJlLXJlbmRlciBpZiBgcHJvcHNgIHJlbWFpbiBzaGFsbG93LVxuICogICBlcXVhbC4gTWFrZSBzdXJlIHRoYXQgZXZlcnl0aGluZyB5b3VyIGByZW5kZXJJdGVtYCBmdW5jdGlvbiBkZXBlbmRzIG9uIGlzIHBhc3NlZCBhcyBhIHByb3BcbiAqICAgKGUuZy4gYGV4dHJhRGF0YWApIHRoYXQgaXMgbm90IGA9PT1gIGFmdGVyIHVwZGF0ZXMsIG90aGVyd2lzZSB5b3VyIFVJIG1heSBub3QgdXBkYXRlIG9uXG4gKiAgIGNoYW5nZXMuIFRoaXMgaW5jbHVkZXMgdGhlIGBkYXRhYCBwcm9wIGFuZCBwYXJlbnQgY29tcG9uZW50IHN0YXRlLlxuICogLSBJbiBvcmRlciB0byBjb25zdHJhaW4gbWVtb3J5IGFuZCBlbmFibGUgc21vb3RoIHNjcm9sbGluZywgY29udGVudCBpcyByZW5kZXJlZCBhc3luY2hyb25vdXNseVxuICogICBvZmZzY3JlZW4uIFRoaXMgbWVhbnMgaXQncyBwb3NzaWJsZSB0byBzY3JvbGwgZmFzdGVyIHRoYW4gdGhlIGZpbGwgcmF0ZSBhbmRzIG1vbWVudGFyaWx5IHNlZVxuICogICBibGFuayBjb250ZW50LiBUaGlzIGlzIGEgdHJhZGVvZmYgdGhhdCBjYW4gYmUgYWRqdXN0ZWQgdG8gc3VpdCB0aGUgbmVlZHMgb2YgZWFjaCBhcHBsaWNhdGlvbixcbiAqICAgYW5kIHdlIGFyZSB3b3JraW5nIG9uIGltcHJvdmluZyBpdCBiZWhpbmQgdGhlIHNjZW5lcy5cbiAqIC0gQnkgZGVmYXVsdCwgdGhlIGxpc3QgbG9va3MgZm9yIGEgYGtleWAgb3IgYGlkYCBwcm9wIG9uIGVhY2ggaXRlbSBhbmQgdXNlcyB0aGF0IGZvciB0aGUgUmVhY3Qga2V5LlxuICogICBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHByb3ZpZGUgYSBjdXN0b20gYGtleUV4dHJhY3RvcmAgcHJvcC5cbiAqIC0gQXMgYW4gZWZmb3J0IHRvIHJlbW92ZSBkZWZhdWx0UHJvcHMsIHVzZSBoZWxwZXIgZnVuY3Rpb25zIHdoZW4gcmVmZXJlbmNpbmcgY2VydGFpbiBwcm9wc1xuICpcbiAqL1xuY2xhc3MgVmlydHVhbGl6ZWRMaXN0IGV4dGVuZHMgU3RhdGVTYWZlUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgc3RhdGljIGNvbnRleHRUeXBlOiB0eXBlb2YgVmlydHVhbGl6ZWRMaXN0Q29udGV4dCA9IFZpcnR1YWxpemVkTGlzdENvbnRleHQ7XG5cbiAgLy8gc2Nyb2xsVG9FbmQgbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wXG4gIHNjcm9sbFRvRW5kKHBhcmFtcz86ID97YW5pbWF0ZWQ/OiA/Ym9vbGVhbiwgLi4ufSkge1xuICAgIGNvbnN0IGFuaW1hdGVkID0gcGFyYW1zID8gcGFyYW1zLmFuaW1hdGVkIDogdHJ1ZTtcbiAgICBjb25zdCB2ZXJ5TGFzdCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSkgLSAxO1xuICAgIGlmICh2ZXJ5TGFzdCA8IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KHZlcnlMYXN0LCB0aGlzLnByb3BzKTtcbiAgICBjb25zdCBvZmZzZXQgPSBNYXRoLm1heChcbiAgICAgIDAsXG4gICAgICBmcmFtZS5vZmZzZXQgK1xuICAgICAgICBmcmFtZS5sZW5ndGggK1xuICAgICAgICB0aGlzLl9mb290ZXJMZW5ndGggLVxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGgsXG4gICAgKTtcblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8gPT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnTm8gc2Nyb2xsVG8gbWV0aG9kIHByb3ZpZGVkLiBUaGlzIG1heSBiZSBiZWNhdXNlIHlvdSBoYXZlIHR3byBuZXN0ZWQgJyArXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdHMgd2l0aCB0aGUgc2FtZSBvcmllbnRhdGlvbiwgb3IgYmVjYXVzZSB5b3UgYXJlICcgK1xuICAgICAgICAgICd1c2luZyBhIGN1c3RvbSBjb21wb25lbnQgdGhhdCBkb2VzIG5vdCBpbXBsZW1lbnQgc2Nyb2xsVG8uJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvKFxuICAgICAgaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG4gICAgICAgID8ge3g6IG9mZnNldCwgYW5pbWF0ZWR9XG4gICAgICAgIDoge3k6IG9mZnNldCwgYW5pbWF0ZWR9LFxuICAgICk7XG4gIH1cblxuICAvLyBzY3JvbGxUb0luZGV4IG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBzY3JvbGxUb0luZGV4KHBhcmFtczoge1xuICAgIGFuaW1hdGVkPzogP2Jvb2xlYW4sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICB2aWV3T2Zmc2V0PzogbnVtYmVyLFxuICAgIHZpZXdQb3NpdGlvbj86IG51bWJlcixcbiAgICAuLi5cbiAgfSk6ICRGbG93Rml4TWUge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgZ2V0SXRlbUxheW91dCxcbiAgICAgIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7YW5pbWF0ZWQsIGluZGV4LCB2aWV3T2Zmc2V0LCB2aWV3UG9zaXRpb259ID0gcGFyYW1zO1xuICAgIGludmFyaWFudChcbiAgICAgIGluZGV4ID49IDAsXG4gICAgICBgc2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6IHJlcXVlc3RlZCBpbmRleCAke2luZGV4fSBidXQgbWluaW11bSBpcyAwYCxcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgIGdldEl0ZW1Db3VudChkYXRhKSA+PSAxLFxuICAgICAgYHNjcm9sbFRvSW5kZXggb3V0IG9mIHJhbmdlOiBpdGVtIGxlbmd0aCAke2dldEl0ZW1Db3VudChcbiAgICAgICAgZGF0YSxcbiAgICAgICl9IGJ1dCBtaW5pbXVtIGlzIDFgLFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgaW5kZXggPCBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICBgc2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6IHJlcXVlc3RlZCBpbmRleCAke2luZGV4fSBpcyBvdXQgb2YgMCB0byAke1xuICAgICAgICBnZXRJdGVtQ291bnQoZGF0YSkgLSAxXG4gICAgICB9YCxcbiAgICApO1xuICAgIGlmICghZ2V0SXRlbUxheW91dCAmJiBpbmRleCA+IHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgISFvblNjcm9sbFRvSW5kZXhGYWlsZWQsXG4gICAgICAgICdzY3JvbGxUb0luZGV4IHNob3VsZCBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggZ2V0SXRlbUxheW91dCBvciBvblNjcm9sbFRvSW5kZXhGYWlsZWQsICcgK1xuICAgICAgICAgICdvdGhlcndpc2UgdGhlcmUgaXMgbm8gd2F5IHRvIGtub3cgdGhlIGxvY2F0aW9uIG9mIG9mZnNjcmVlbiBpbmRpY2VzIG9yIGhhbmRsZSBmYWlsdXJlcy4nLFxuICAgICAgKTtcbiAgICAgIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCh7XG4gICAgICAgIGF2ZXJhZ2VJdGVtTGVuZ3RoOiB0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCxcbiAgICAgICAgaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleDogdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCxcbiAgICAgICAgaW5kZXgsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KE1hdGguZmxvb3IoaW5kZXgpLCB0aGlzLnByb3BzKTtcbiAgICBjb25zdCBvZmZzZXQgPVxuICAgICAgTWF0aC5tYXgoXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMuX2dldE9mZnNldEFwcHJveChpbmRleCwgdGhpcy5wcm9wcykgLVxuICAgICAgICAgICh2aWV3UG9zaXRpb24gfHwgMCkgKlxuICAgICAgICAgICAgKHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCAtIGZyYW1lLmxlbmd0aCksXG4gICAgICApIC0gKHZpZXdPZmZzZXQgfHwgMCk7XG5cbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvID09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ05vIHNjcm9sbFRvIG1ldGhvZCBwcm92aWRlZC4gVGhpcyBtYXkgYmUgYmVjYXVzZSB5b3UgaGF2ZSB0d28gbmVzdGVkICcgK1xuICAgICAgICAgICdWaXJ0dWFsaXplZExpc3RzIHdpdGggdGhlIHNhbWUgb3JpZW50YXRpb24sIG9yIGJlY2F1c2UgeW91IGFyZSAnICtcbiAgICAgICAgICAndXNpbmcgYSBjdXN0b20gY29tcG9uZW50IHRoYXQgZG9lcyBub3QgaW1wbGVtZW50IHNjcm9sbFRvLicsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyhcbiAgICAgIGhvcml6b250YWwgPyB7eDogb2Zmc2V0LCBhbmltYXRlZH0gOiB7eTogb2Zmc2V0LCBhbmltYXRlZH0sXG4gICAgKTtcbiAgfVxuXG4gIC8vIHNjcm9sbFRvSXRlbSBtYXkgYmUgamFua3kgd2l0aG91dCBnZXRJdGVtTGF5b3V0IHByb3AuIFJlcXVpcmVkIGxpbmVhciBzY2FuIHRocm91Z2ggaXRlbXMgLVxuICAvLyB1c2Ugc2Nyb2xsVG9JbmRleCBpbnN0ZWFkIGlmIHBvc3NpYmxlLlxuICBzY3JvbGxUb0l0ZW0ocGFyYW1zOiB7XG4gICAgYW5pbWF0ZWQ/OiA/Ym9vbGVhbixcbiAgICBpdGVtOiBJdGVtLFxuICAgIHZpZXdPZmZzZXQ/OiBudW1iZXIsXG4gICAgdmlld1Bvc2l0aW9uPzogbnVtYmVyLFxuICAgIC4uLlxuICB9KSB7XG4gICAgY29uc3Qge2l0ZW19ID0gcGFyYW1zO1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtLCBnZXRJdGVtQ291bnR9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBpdGVtQ291bnQgPSBnZXRJdGVtQ291bnQoZGF0YSk7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW1Db3VudDsgaW5kZXgrKykge1xuICAgICAgaWYgKGdldEl0ZW0oZGF0YSwgaW5kZXgpID09PSBpdGVtKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsVG9JbmRleCh7Li4ucGFyYW1zLCBpbmRleH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2Nyb2xsIHRvIGEgc3BlY2lmaWMgY29udGVudCBwaXhlbCBvZmZzZXQgaW4gdGhlIGxpc3QuXG4gICAqXG4gICAqIFBhcmFtIGBvZmZzZXRgIGV4cGVjdHMgdGhlIG9mZnNldCB0byBzY3JvbGwgdG8uXG4gICAqIEluIGNhc2Ugb2YgYGhvcml6b250YWxgIGlzIHRydWUsIHRoZSBvZmZzZXQgaXMgdGhlIHgtdmFsdWUsXG4gICAqIGluIGFueSBvdGhlciBjYXNlIHRoZSBvZmZzZXQgaXMgdGhlIHktdmFsdWUuXG4gICAqXG4gICAqIFBhcmFtIGBhbmltYXRlZGAgKGB0cnVlYCBieSBkZWZhdWx0KSBkZWZpbmVzIHdoZXRoZXIgdGhlIGxpc3RcbiAgICogc2hvdWxkIGRvIGFuIGFuaW1hdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gICAqL1xuICBzY3JvbGxUb09mZnNldChwYXJhbXM6IHthbmltYXRlZD86ID9ib29sZWFuLCBvZmZzZXQ6IG51bWJlciwgLi4ufSkge1xuICAgIGNvbnN0IHthbmltYXRlZCwgb2Zmc2V0fSA9IHBhcmFtcztcblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8gPT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnTm8gc2Nyb2xsVG8gbWV0aG9kIHByb3ZpZGVkLiBUaGlzIG1heSBiZSBiZWNhdXNlIHlvdSBoYXZlIHR3byBuZXN0ZWQgJyArXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdHMgd2l0aCB0aGUgc2FtZSBvcmllbnRhdGlvbiwgb3IgYmVjYXVzZSB5b3UgYXJlICcgK1xuICAgICAgICAgICd1c2luZyBhIGN1c3RvbSBjb21wb25lbnQgdGhhdCBkb2VzIG5vdCBpbXBsZW1lbnQgc2Nyb2xsVG8uJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvKFxuICAgICAgaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG4gICAgICAgID8ge3g6IG9mZnNldCwgYW5pbWF0ZWR9XG4gICAgICAgIDoge3k6IG9mZnNldCwgYW5pbWF0ZWR9LFxuICAgICk7XG4gIH1cblxuICByZWNvcmRJbnRlcmFjdGlvbigpIHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godCA9PiB7XG4gICAgICB0LnZpZXdhYmlsaXR5SGVscGVyLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQpO1xuICB9XG5cbiAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzKCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3Njcm9sbFJlZi5mbGFzaFNjcm9sbEluZGljYXRvcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIGhhbmRsZSB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyLlxuICAgKiBOb3RlIHRoYXQgYHRoaXMuX3Njcm9sbFJlZmAgbWlnaHQgbm90IGJlIGEgYFNjcm9sbFZpZXdgLCBzbyB3ZVxuICAgKiBuZWVkIHRvIGNoZWNrIHRoYXQgaXQgcmVzcG9uZHMgdG8gYGdldFNjcm9sbFJlc3BvbmRlcmAgYmVmb3JlIGNhbGxpbmcgaXQuXG4gICAqL1xuICBnZXRTY3JvbGxSZXNwb25kZXIoKTogP1Njcm9sbFJlc3BvbmRlclR5cGUge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgJiYgdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlc3BvbmRlcikge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZXNwb25kZXIoKTtcbiAgICB9XG4gIH1cblxuICBnZXRTY3JvbGxhYmxlTm9kZSgpOiA/bnVtYmVyIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmICYmIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxhYmxlTm9kZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxhYmxlTm9kZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmluZE5vZGVIYW5kbGUodGhpcy5fc2Nyb2xsUmVmKTtcbiAgICB9XG4gIH1cblxuICBnZXRTY3JvbGxSZWYoKTpcbiAgICB8ID9SZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTY3JvbGxWaWV3PlxuICAgIHwgP1JlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFZpZXc+IHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmICYmIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZWYpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVmKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWY7XG4gICAgfVxuICB9XG5cbiAgc2V0TmF0aXZlUHJvcHMocHJvcHM6IE9iamVjdCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYpIHtcbiAgICAgIHRoaXMuX3Njcm9sbFJlZi5zZXROYXRpdmVQcm9wcyhwcm9wcyk7XG4gICAgfVxuICB9XG5cbiAgX2dldENlbGxLZXkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZXh0Py5jZWxsS2V5IHx8ICdyb290TGlzdCc7XG4gIH1cblxuICAvLyAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdXG4gIF9nZXRTY3JvbGxNZXRyaWNzID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICB9O1xuXG4gIGhhc01vcmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2hhc01vcmU7XG4gIH1cblxuICAvLyAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdXG4gIF9nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcblxuICBfcmVnaXN0ZXJBc05lc3RlZENoaWxkID0gKGNoaWxkTGlzdDoge1xuICAgIGNlbGxLZXk6IHN0cmluZyxcbiAgICByZWY6IFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFZpcnR1YWxpemVkTGlzdD4sXG4gIH0pOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmFkZChjaGlsZExpc3QucmVmLCBjaGlsZExpc3QuY2VsbEtleSk7XG4gICAgaWYgKHRoaXMuX2hhc0ludGVyYWN0ZWQpIHtcbiAgICAgIGNoaWxkTGlzdC5yZWYucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9XG4gIH07XG5cbiAgX3VucmVnaXN0ZXJBc05lc3RlZENoaWxkID0gKGNoaWxkTGlzdDoge1xuICAgIHJlZjogUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgVmlydHVhbGl6ZWRMaXN0PixcbiAgfSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMucmVtb3ZlKGNoaWxkTGlzdC5yZWYpO1xuICB9O1xuXG4gIHN0YXRlOiBTdGF0ZTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5fY2hlY2tQcm9wcyhwcm9wcyk7XG5cbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlciA9IG5ldyBGaWxsUmF0ZUhlbHBlcih0aGlzLl9nZXRGcmFtZU1ldHJpY3MpO1xuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyID0gbmV3IEJhdGNoaW5hdG9yKFxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlcixcbiAgICAgIHRoaXMucHJvcHMudXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCA/PyA1MCxcbiAgICApO1xuXG4gICAgaWYgKHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzKSB7XG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcyA9IHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzLm1hcChcbiAgICAgICAgcGFpciA9PiAoe1xuICAgICAgICAgIHZpZXdhYmlsaXR5SGVscGVyOiBuZXcgVmlld2FiaWxpdHlIZWxwZXIocGFpci52aWV3YWJpbGl0eUNvbmZpZyksXG4gICAgICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogcGFpci5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHtvblZpZXdhYmxlSXRlbXNDaGFuZ2VkLCB2aWV3YWJpbGl0eUNvbmZpZ30gPSB0aGlzLnByb3BzO1xuICAgICAgaWYgKG9uVmlld2FibGVJdGVtc0NoYW5nZWQpIHtcbiAgICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMucHVzaCh7XG4gICAgICAgICAgdmlld2FiaWxpdHlIZWxwZXI6IG5ldyBWaWV3YWJpbGl0eUhlbHBlcih2aWV3YWJpbGl0eUNvbmZpZyksXG4gICAgICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaW5pdGlhbFJlbmRlclJlZ2lvbiA9IFZpcnR1YWxpemVkTGlzdC5faW5pdGlhbFJlbmRlclJlZ2lvbihwcm9wcyk7XG5cbiAgICBjb25zdCBtaW5JbmRleEZvclZpc2libGUgPVxuICAgICAgdGhpcy5wcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24/Lm1pbkluZGV4Rm9yVmlzaWJsZSA/PyAwO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IGluaXRpYWxSZW5kZXJSZWdpb24sXG4gICAgICByZW5kZXJNYXNrOiBWaXJ0dWFsaXplZExpc3QuX2NyZWF0ZVJlbmRlck1hc2socHJvcHMsIGluaXRpYWxSZW5kZXJSZWdpb24pLFxuICAgICAgZmlyc3RWaXNpYmxlSXRlbUtleTpcbiAgICAgICAgdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKSA+IG1pbkluZGV4Rm9yVmlzaWJsZVxuICAgICAgICAgID8gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHRoaXMucHJvcHMsIG1pbkluZGV4Rm9yVmlzaWJsZSlcbiAgICAgICAgICA6IG51bGwsXG4gICAgICAvLyBXaGVuIHdlIGhhdmUgYSBub24temVybyBpbml0aWFsU2Nyb2xsSW5kZXgsIHdlIHdpbGwgcmVjZWl2ZSBhXG4gICAgICAvLyBzY3JvbGwgZXZlbnQgbGF0ZXIgc28gdGhpcyB3aWxsIHByZXZlbnQgdGhlIHdpbmRvdyBmcm9tIHVwZGF0aW5nXG4gICAgICAvLyB1bnRpbCB3ZSBnZXQgYSB2YWxpZCBvZmZzZXQuXG4gICAgICBwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQ6XG4gICAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ICE9IG51bGwgJiZcbiAgICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPiAwXG4gICAgICAgICAgPyAxXG4gICAgICAgICAgOiAwLFxuICAgIH07XG4gIH1cblxuICBfY2hlY2tQcm9wcyhwcm9wczogUHJvcHMpIHtcbiAgICBjb25zdCB7b25TY3JvbGwsIHdpbmRvd1NpemUsIGdldEl0ZW1Db3VudCwgZGF0YSwgaW5pdGlhbFNjcm9sbEluZGV4fSA9XG4gICAgICBwcm9wcztcblxuICAgIGludmFyaWFudChcbiAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgICAgIW9uU2Nyb2xsIHx8ICFvblNjcm9sbC5fX2lzTmF0aXZlLFxuICAgICAgJ0NvbXBvbmVudHMgYmFzZWQgb24gVmlydHVhbGl6ZWRMaXN0IG11c3QgYmUgd3JhcHBlZCB3aXRoIEFuaW1hdGVkLmNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50ICcgK1xuICAgICAgICAndG8gc3VwcG9ydCBuYXRpdmUgb25TY3JvbGwgZXZlbnRzIHdpdGggdXNlTmF0aXZlRHJpdmVyJyxcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgIHdpbmRvd1NpemVPckRlZmF1bHQod2luZG93U2l6ZSkgPiAwLFxuICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogVGhlIHdpbmRvd1NpemUgcHJvcCBtdXN0IGJlIHByZXNlbnQgYW5kIHNldCB0byBhIHZhbHVlIGdyZWF0ZXIgdGhhbiAwLicsXG4gICAgKTtcblxuICAgIGludmFyaWFudChcbiAgICAgIGdldEl0ZW1Db3VudCxcbiAgICAgICdWaXJ0dWFsaXplZExpc3Q6IFRoZSBcImdldEl0ZW1Db3VudFwiIHByb3AgbXVzdCBiZSBwcm92aWRlZCcsXG4gICAgKTtcblxuICAgIGNvbnN0IGl0ZW1Db3VudCA9IGdldEl0ZW1Db3VudChkYXRhKTtcblxuICAgIGlmIChcbiAgICAgIGluaXRpYWxTY3JvbGxJbmRleCAhPSBudWxsICYmXG4gICAgICAhdGhpcy5faGFzVHJpZ2dlcmVkSW5pdGlhbFNjcm9sbFRvSW5kZXggJiZcbiAgICAgIChpbml0aWFsU2Nyb2xsSW5kZXggPCAwIHx8XG4gICAgICAgIChpdGVtQ291bnQgPiAwICYmIGluaXRpYWxTY3JvbGxJbmRleCA+PSBpdGVtQ291bnQpKSAmJlxuICAgICAgIXRoaXMuX2hhc1dhcm5lZC5pbml0aWFsU2Nyb2xsSW5kZXhcbiAgICApIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYGluaXRpYWxTY3JvbGxJbmRleCBcIiR7aW5pdGlhbFNjcm9sbEluZGV4fVwiIGlzIG5vdCB2YWxpZCAobGlzdCBoYXMgJHtpdGVtQ291bnR9IGl0ZW1zKWAsXG4gICAgICApO1xuICAgICAgdGhpcy5faGFzV2FybmVkLmluaXRpYWxTY3JvbGxJbmRleCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKF9fREVWX18gJiYgIXRoaXMuX2hhc1dhcm5lZC5mbGV4V3JhcCkge1xuICAgICAgLy8gJEZsb3dGaXhNZVt1bmRlcmNvbnN0cmFpbmVkLWltcGxpY2l0LWluc3RhbnRpYXRpb25dXG4gICAgICBjb25zdCBmbGF0U3R5bGVzID0gU3R5bGVTaGVldC5mbGF0dGVuKHRoaXMucHJvcHMuY29udGVudENvbnRhaW5lclN0eWxlKTtcbiAgICAgIGlmIChmbGF0U3R5bGVzICE9IG51bGwgJiYgZmxhdFN0eWxlcy5mbGV4V3JhcCA9PT0gJ3dyYXAnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnYGZsZXhXcmFwOiBgd3JhcGBgIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgYFZpcnR1YWxpemVkTGlzdGAgY29tcG9uZW50cy4nICtcbiAgICAgICAgICAgICdDb25zaWRlciB1c2luZyBgbnVtQ29sdW1uc2Agd2l0aCBgRmxhdExpc3RgIGluc3RlYWQuJyxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5faGFzV2FybmVkLmZsZXhXcmFwID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX2ZpbmRJdGVtSW5kZXhXaXRoS2V5KFxuICAgIHByb3BzOiBQcm9wcyxcbiAgICBrZXk6IHN0cmluZyxcbiAgICBoaW50OiA/bnVtYmVyLFxuICApOiA/bnVtYmVyIHtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG4gICAgaWYgKGhpbnQgIT0gbnVsbCAmJiBoaW50ID49IDAgJiYgaGludCA8IGl0ZW1Db3VudCkge1xuICAgICAgY29uc3QgY3VyS2V5ID0gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHByb3BzLCBoaW50KTtcbiAgICAgIGlmIChjdXJLZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4gaGludDtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGl0ZW1Db3VudDsgaWkrKykge1xuICAgICAgY29uc3QgY3VyS2V5ID0gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHByb3BzLCBpaSk7XG4gICAgICBpZiAoY3VyS2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHN0YXRpYyBfZ2V0SXRlbUtleShcbiAgICBwcm9wczoge1xuICAgICAgZGF0YTogUHJvcHNbJ2RhdGEnXSxcbiAgICAgIGdldEl0ZW06IFByb3BzWydnZXRJdGVtJ10sXG4gICAgICBrZXlFeHRyYWN0b3I6IFByb3BzWydrZXlFeHRyYWN0b3InXSxcbiAgICAgIC4uLlxuICAgIH0sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgKTogc3RyaW5nIHtcbiAgICBjb25zdCBpdGVtID0gcHJvcHMuZ2V0SXRlbShwcm9wcy5kYXRhLCBpbmRleCk7XG4gICAgcmV0dXJuIFZpcnR1YWxpemVkTGlzdC5fa2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4LCBwcm9wcyk7XG4gIH1cblxuICBzdGF0aWMgX2NyZWF0ZVJlbmRlck1hc2soXG4gICAgcHJvcHM6IFByb3BzLFxuICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICAgIGFkZGl0aW9uYWxSZWdpb25zPzogPyRSZWFkT25seUFycmF5PHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9PixcbiAgKTogQ2VsbFJlbmRlck1hc2sge1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHByb3BzLmdldEl0ZW1Db3VudChwcm9wcy5kYXRhKTtcblxuICAgIGludmFyaWFudChcbiAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgPj0gMCAmJlxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPj0gY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCAtIDEgJiZcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0IDwgaXRlbUNvdW50LFxuICAgICAgYEludmFsaWQgY2VsbHMgYXJvdW5kIHZpZXdwb3J0IFwiWyR7Y2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdH0sICR7Y2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0fV1cIiB3YXMgcGFzc2VkIHRvIFZpcnR1YWxpemVkTGlzdC5fY3JlYXRlUmVuZGVyTWFza2AsXG4gICAgKTtcblxuICAgIGNvbnN0IHJlbmRlck1hc2sgPSBuZXcgQ2VsbFJlbmRlck1hc2soaXRlbUNvdW50KTtcblxuICAgIGlmIChpdGVtQ291bnQgPiAwKSB7XG4gICAgICBjb25zdCBhbGxSZWdpb25zID0gW2NlbGxzQXJvdW5kVmlld3BvcnQsIC4uLihhZGRpdGlvbmFsUmVnaW9ucyA/PyBbXSldO1xuICAgICAgZm9yIChjb25zdCByZWdpb24gb2YgYWxsUmVnaW9ucykge1xuICAgICAgICByZW5kZXJNYXNrLmFkZENlbGxzKHJlZ2lvbik7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBpbml0aWFsbHkgcmVuZGVyZWQgY2VsbHMgYXJlIHJldGFpbmVkIGFzIHBhcnQgb2YgdGhlXG4gICAgICAvLyBcInNjcm9sbC10by10b3BcIiBvcHRpbWl6YXRpb25cbiAgICAgIGlmIChwcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPT0gbnVsbCB8fCBwcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPD0gMCkge1xuICAgICAgICBjb25zdCBpbml0aWFsUmVnaW9uID0gVmlydHVhbGl6ZWRMaXN0Ll9pbml0aWFsUmVuZGVyUmVnaW9uKHByb3BzKTtcbiAgICAgICAgcmVuZGVyTWFzay5hZGRDZWxscyhpbml0aWFsUmVnaW9uKTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGxheW91dCBjb29yZGluYXRlcyBvZiBzdGlja2VyIGhlYWRlcnMgbWF5IGJlIG9mZi1zY3JlZW4gd2hpbGUgdGhlXG4gICAgICAvLyBhY3R1YWwgaGVhZGVyIGlzIG9uLXNjcmVlbi4gS2VlcCB0aGUgbW9zdCByZWNlbnQgYmVmb3JlIHRoZSB2aWV3cG9ydFxuICAgICAgLy8gcmVuZGVyZWQsIGV2ZW4gaWYgaXRzIGxheW91dCBjb29yZGluYXRlcyBhcmUgbm90IGluIHZpZXdwb3J0LlxuICAgICAgY29uc3Qgc3RpY2t5SW5kaWNlc1NldCA9IG5ldyBTZXQocHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcyk7XG4gICAgICBWaXJ0dWFsaXplZExpc3QuX2Vuc3VyZUNsb3Nlc3RTdGlja3lIZWFkZXIoXG4gICAgICAgIHByb3BzLFxuICAgICAgICBzdGlja3lJbmRpY2VzU2V0LFxuICAgICAgICByZW5kZXJNYXNrLFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyTWFzaztcbiAgfVxuXG4gIHN0YXRpYyBfaW5pdGlhbFJlbmRlclJlZ2lvbihwcm9wczogUHJvcHMpOiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSB7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gcHJvcHMuZ2V0SXRlbUNvdW50KHByb3BzLmRhdGEpO1xuXG4gICAgY29uc3QgZmlyc3RDZWxsSW5kZXggPSBNYXRoLm1heChcbiAgICAgIDAsXG4gICAgICBNYXRoLm1pbihpdGVtQ291bnQgLSAxLCBNYXRoLmZsb29yKHByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA/PyAwKSksXG4gICAgKTtcblxuICAgIGNvbnN0IGxhc3RDZWxsSW5kZXggPVxuICAgICAgTWF0aC5taW4oXG4gICAgICAgIGl0ZW1Db3VudCxcbiAgICAgICAgZmlyc3RDZWxsSW5kZXggKyBpbml0aWFsTnVtVG9SZW5kZXJPckRlZmF1bHQocHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyKSxcbiAgICAgICkgLSAxO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGZpcnN0OiBmaXJzdENlbGxJbmRleCxcbiAgICAgIGxhc3Q6IGxhc3RDZWxsSW5kZXgsXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBfZW5zdXJlQ2xvc2VzdFN0aWNreUhlYWRlcihcbiAgICBwcm9wczogUHJvcHMsXG4gICAgc3RpY2t5SW5kaWNlc1NldDogU2V0PG51bWJlcj4sXG4gICAgcmVuZGVyTWFzazogQ2VsbFJlbmRlck1hc2ssXG4gICAgY2VsbElkeDogbnVtYmVyLFxuICApIHtcbiAgICBjb25zdCBzdGlja3lPZmZzZXQgPSBwcm9wcy5MaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDA7XG5cbiAgICBmb3IgKGxldCBpdGVtSWR4ID0gY2VsbElkeCAtIDE7IGl0ZW1JZHggPj0gMDsgaXRlbUlkeC0tKSB7XG4gICAgICBpZiAoc3RpY2t5SW5kaWNlc1NldC5oYXMoaXRlbUlkeCArIHN0aWNreU9mZnNldCkpIHtcbiAgICAgICAgcmVuZGVyTWFzay5hZGRDZWxscyh7Zmlyc3Q6IGl0ZW1JZHgsIGxhc3Q6IGl0ZW1JZHh9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2FkanVzdENlbGxzQXJvdW5kVmlld3BvcnQoXG4gICAgcHJvcHM6IFByb3BzLFxuICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICAgIHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudDogbnVtYmVyLFxuICApOiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW1Db3VudH0gPSBwcm9wcztcbiAgICBjb25zdCBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgPSBvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQoXG4gICAgICBwcm9wcy5vbkVuZFJlYWNoZWRUaHJlc2hvbGQsXG4gICAgKTtcbiAgICBjb25zdCB7Y29udGVudExlbmd0aCwgb2Zmc2V0LCB2aXNpYmxlTGVuZ3RofSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgY29uc3QgZGlzdGFuY2VGcm9tRW5kID0gY29udGVudExlbmd0aCAtIHZpc2libGVMZW5ndGggLSBvZmZzZXQ7XG5cbiAgICAvLyBXYWl0IHVudGlsIHRoZSBzY3JvbGwgdmlldyBtZXRyaWNzIGhhdmUgYmVlbiBzZXQgdXAuIEFuZCB1bnRpbCB0aGVuLFxuICAgIC8vIHdlIHdpbGwgdHJ1c3QgdGhlIGluaXRpYWxOdW1Ub1JlbmRlciBzdWdnZXN0aW9uXG4gICAgaWYgKHZpc2libGVMZW5ndGggPD0gMCB8fCBjb250ZW50TGVuZ3RoIDw9IDApIHtcbiAgICAgIHJldHVybiBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPj0gZ2V0SXRlbUNvdW50KGRhdGEpXG4gICAgICAgID8gVmlydHVhbGl6ZWRMaXN0Ll9jb25zdHJhaW5Ub0l0ZW1Db3VudChjZWxsc0Fyb3VuZFZpZXdwb3J0LCBwcm9wcylcbiAgICAgICAgOiBjZWxsc0Fyb3VuZFZpZXdwb3J0O1xuICAgIH1cblxuICAgIGxldCBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0OiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfTtcbiAgICBpZiAocHJvcHMuZGlzYWJsZVZpcnR1YWxpemF0aW9uKSB7XG4gICAgICBjb25zdCByZW5kZXJBaGVhZCA9XG4gICAgICAgIGRpc3RhbmNlRnJvbUVuZCA8IG9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGhcbiAgICAgICAgICA/IG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQocHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaClcbiAgICAgICAgICA6IDA7XG5cbiAgICAgIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQgPSB7XG4gICAgICAgIGZpcnN0OiAwLFxuICAgICAgICBsYXN0OiBNYXRoLm1pbihcbiAgICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgKyByZW5kZXJBaGVhZCxcbiAgICAgICAgICBnZXRJdGVtQ291bnQoZGF0YSkgLSAxLFxuICAgICAgICApLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBlbmRpbmcgc2Nyb2xsIHVwZGF0ZSwgd2Ugc2hvdWxkIG5vdCBhZGp1c3QgdGhlIHJlbmRlciB3aW5kb3cgYXMgaXRcbiAgICAgIC8vIG1pZ2h0IG92ZXJyaWRlIHRoZSBjb3JyZWN0IHdpbmRvdy5cbiAgICAgIGlmIChwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQgPiAwKSB7XG4gICAgICAgIHJldHVybiBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPj0gZ2V0SXRlbUNvdW50KGRhdGEpXG4gICAgICAgICAgPyBWaXJ0dWFsaXplZExpc3QuX2NvbnN0cmFpblRvSXRlbUNvdW50KGNlbGxzQXJvdW5kVmlld3BvcnQsIHByb3BzKVxuICAgICAgICAgIDogY2VsbHNBcm91bmRWaWV3cG9ydDtcbiAgICAgIH1cblxuICAgICAgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydCA9IGNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyhcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQocHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaCksXG4gICAgICAgIHdpbmRvd1NpemVPckRlZmF1bHQocHJvcHMud2luZG93U2l6ZSksXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQsXG4gICAgICAgIHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3gsXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MsXG4gICAgICApO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPCBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICAgICdjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMoKSBzaG91bGQgcmV0dXJuIHJhbmdlIGluLWJvdW5kcycsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNpemUoKSA+IDApIHtcbiAgICAgIC8vIElmIHNvbWUgY2VsbCBpbiB0aGUgbmV3IHN0YXRlIGhhcyBhIGNoaWxkIGxpc3QgaW4gaXQsIHdlIHNob3VsZCBvbmx5IHJlbmRlclxuICAgICAgLy8gdXAgdGhyb3VnaCB0aGF0IGl0ZW0sIHNvIHRoYXQgd2UgZ2l2ZSB0aGF0IGxpc3QgYSBjaGFuY2UgdG8gcmVuZGVyLlxuICAgICAgLy8gT3RoZXJ3aXNlIHRoZXJlJ3MgY2h1cm4gZnJvbSBtdWx0aXBsZSBjaGlsZCBsaXN0cyBtb3VudGluZyBhbmQgdW4tbW91bnRpbmdcbiAgICAgIC8vIHRoZWlyIGl0ZW1zLlxuXG4gICAgICAvLyBXaWxsIHRoaXMgcHJldmVudCByZW5kZXJpbmcgaWYgdGhlIG5lc3RlZCBsaXN0IGRvZXNuJ3QgcmVhbGl6ZSB0aGUgZW5kP1xuICAgICAgY29uc3QgY2hpbGRJZHggPSB0aGlzLl9maW5kRmlyc3RDaGlsZFdpdGhNb3JlKFxuICAgICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0LFxuICAgICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QsXG4gICAgICApO1xuXG4gICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPSBjaGlsZElkeCA/PyBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3Q7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQ7XG4gIH1cblxuICBfZmluZEZpcnN0Q2hpbGRXaXRoTW9yZShmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXIpOiBudW1iZXIgfCBudWxsIHtcbiAgICBmb3IgKGxldCBpaSA9IGZpcnN0OyBpaSA8PSBsYXN0OyBpaSsrKSB7XG4gICAgICBjb25zdCBjZWxsS2V5Rm9ySW5kZXggPSB0aGlzLl9pbmRpY2VzVG9LZXlzLmdldChpaSk7XG4gICAgICBpZiAoXG4gICAgICAgIGNlbGxLZXlGb3JJbmRleCAhPSBudWxsICYmXG4gICAgICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuYW55SW5DZWxsKGNlbGxLZXlGb3JJbmRleCwgY2hpbGRMaXN0ID0+XG4gICAgICAgICAgY2hpbGRMaXN0Lmhhc01vcmUoKSxcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBpaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdGhpcy5jb250ZXh0LnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7XG4gICAgICAgIHJlZjogdGhpcyxcbiAgICAgICAgY2VsbEtleTogdGhpcy5jb250ZXh0LmNlbGxLZXksXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHRoaXMuY29udGV4dC51bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7cmVmOiB0aGlzfSk7XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLmRpc3Bvc2Uoe2Fib3J0OiB0cnVlfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5kaXNwb3NlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuZGVhY3RpdmF0ZUFuZEZsdXNoKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5ld1Byb3BzOiBQcm9wcywgcHJldlN0YXRlOiBTdGF0ZSk6IFN0YXRlIHtcbiAgICAvLyBmaXJzdCBhbmQgbGFzdCBjb3VsZCBiZSBzdGFsZSAoZS5nLiBpZiBhIG5ldywgc2hvcnRlciBpdGVtcyBwcm9wcyBpcyBwYXNzZWQgaW4pLCBzbyB3ZSBtYWtlXG4gICAgLy8gc3VyZSB3ZSdyZSByZW5kZXJpbmcgYSByZWFzb25hYmxlIHJhbmdlIGhlcmUuXG4gICAgY29uc3QgaXRlbUNvdW50ID0gbmV3UHJvcHMuZ2V0SXRlbUNvdW50KG5ld1Byb3BzLmRhdGEpO1xuICAgIGlmIChpdGVtQ291bnQgPT09IHByZXZTdGF0ZS5yZW5kZXJNYXNrLm51bUNlbGxzKCkpIHtcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgfVxuXG4gICAgbGV0IG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQ6ID9udW1iZXIgPSBudWxsO1xuICAgIGNvbnN0IHByZXZGaXJzdFZpc2libGVJdGVtS2V5ID0gcHJldlN0YXRlLmZpcnN0VmlzaWJsZUl0ZW1LZXk7XG4gICAgY29uc3QgbWluSW5kZXhGb3JWaXNpYmxlID1cbiAgICAgIG5ld1Byb3BzLm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbj8ubWluSW5kZXhGb3JWaXNpYmxlID8/IDA7XG4gICAgY29uc3QgbmV3Rmlyc3RWaXNpYmxlSXRlbUtleSA9XG4gICAgICBuZXdQcm9wcy5nZXRJdGVtQ291bnQobmV3UHJvcHMuZGF0YSkgPiBtaW5JbmRleEZvclZpc2libGVcbiAgICAgICAgPyBWaXJ0dWFsaXplZExpc3QuX2dldEl0ZW1LZXkobmV3UHJvcHMsIG1pbkluZGV4Rm9yVmlzaWJsZSlcbiAgICAgICAgOiBudWxsO1xuICAgIGlmIChcbiAgICAgIG5ld1Byb3BzLm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbiAhPSBudWxsICYmXG4gICAgICBwcmV2Rmlyc3RWaXNpYmxlSXRlbUtleSAhPSBudWxsICYmXG4gICAgICBuZXdGaXJzdFZpc2libGVJdGVtS2V5ICE9IG51bGxcbiAgICApIHtcbiAgICAgIGlmIChuZXdGaXJzdFZpc2libGVJdGVtS2V5ICE9PSBwcmV2Rmlyc3RWaXNpYmxlSXRlbUtleSkge1xuICAgICAgICAvLyBGYXN0IHBhdGggaWYgaXRlbXMgd2VyZSBhZGRlZCBhdCB0aGUgc3RhcnQgb2YgdGhlIGxpc3QuXG4gICAgICAgIGNvbnN0IGhpbnQgPVxuICAgICAgICAgIGl0ZW1Db3VudCAtIHByZXZTdGF0ZS5yZW5kZXJNYXNrLm51bUNlbGxzKCkgKyBtaW5JbmRleEZvclZpc2libGU7XG4gICAgICAgIGNvbnN0IGZpcnN0VmlzaWJsZUl0ZW1JbmRleCA9IFZpcnR1YWxpemVkTGlzdC5fZmluZEl0ZW1JbmRleFdpdGhLZXkoXG4gICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgcHJldkZpcnN0VmlzaWJsZUl0ZW1LZXksXG4gICAgICAgICAgaGludCxcbiAgICAgICAgKTtcbiAgICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCA9XG4gICAgICAgICAgZmlyc3RWaXNpYmxlSXRlbUluZGV4ICE9IG51bGxcbiAgICAgICAgICAgID8gZmlyc3RWaXNpYmxlSXRlbUluZGV4IC0gbWluSW5kZXhGb3JWaXNpYmxlXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjb25zdHJhaW5lZENlbGxzID0gVmlydHVhbGl6ZWRMaXN0Ll9jb25zdHJhaW5Ub0l0ZW1Db3VudChcbiAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQgIT0gbnVsbFxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGZpcnN0OlxuICAgICAgICAgICAgICBwcmV2U3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCArXG4gICAgICAgICAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQsXG4gICAgICAgICAgICBsYXN0OlxuICAgICAgICAgICAgICBwcmV2U3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ICtcbiAgICAgICAgICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCxcbiAgICAgICAgICB9XG4gICAgICAgIDogcHJldlN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQsXG4gICAgICBuZXdQcm9wcyxcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IGNvbnN0cmFpbmVkQ2VsbHMsXG4gICAgICByZW5kZXJNYXNrOiBWaXJ0dWFsaXplZExpc3QuX2NyZWF0ZVJlbmRlck1hc2sobmV3UHJvcHMsIGNvbnN0cmFpbmVkQ2VsbHMpLFxuICAgICAgZmlyc3RWaXNpYmxlSXRlbUtleTogbmV3Rmlyc3RWaXNpYmxlSXRlbUtleSxcbiAgICAgIHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudDpcbiAgICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCAhPSBudWxsXG4gICAgICAgICAgPyBwcmV2U3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50ICsgMVxuICAgICAgICAgIDogcHJldlN0YXRlLnBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCxcbiAgICB9O1xuICB9XG5cbiAgX3B1c2hDZWxscyhcbiAgICBjZWxsczogQXJyYXk8T2JqZWN0PixcbiAgICBzdGlja3lIZWFkZXJJbmRpY2VzOiBBcnJheTxudW1iZXI+LFxuICAgIHN0aWNreUluZGljZXNGcm9tUHJvcHM6IFNldDxudW1iZXI+LFxuICAgIGZpcnN0OiBudW1iZXIsXG4gICAgbGFzdDogbnVtYmVyLFxuICAgIGludmVyc2lvblN0eWxlOiBWaWV3U3R5bGVQcm9wLFxuICApIHtcbiAgICBjb25zdCB7XG4gICAgICBDZWxsUmVuZGVyZXJDb21wb25lbnQsXG4gICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50LFxuICAgICAgTGlzdEhlYWRlckNvbXBvbmVudCxcbiAgICAgIExpc3RJdGVtQ29tcG9uZW50LFxuICAgICAgZGF0YSxcbiAgICAgIGRlYnVnLFxuICAgICAgZ2V0SXRlbSxcbiAgICAgIGdldEl0ZW1Db3VudCxcbiAgICAgIGdldEl0ZW1MYXlvdXQsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAgcmVuZGVySXRlbSxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBzdGlja3lPZmZzZXQgPSBMaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDA7XG4gICAgY29uc3QgZW5kID0gZ2V0SXRlbUNvdW50KGRhdGEpIC0gMTtcbiAgICBsZXQgcHJldkNlbGxLZXk7XG4gICAgbGFzdCA9IE1hdGgubWluKGVuZCwgbGFzdCk7XG5cbiAgICBmb3IgKGxldCBpaSA9IGZpcnN0OyBpaSA8PSBsYXN0OyBpaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gZ2V0SXRlbShkYXRhLCBpaSk7XG4gICAgICBjb25zdCBrZXkgPSBWaXJ0dWFsaXplZExpc3QuX2tleUV4dHJhY3RvcihpdGVtLCBpaSwgdGhpcy5wcm9wcyk7XG5cbiAgICAgIHRoaXMuX2luZGljZXNUb0tleXMuc2V0KGlpLCBrZXkpO1xuICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKGlpICsgc3RpY2t5T2Zmc2V0KSkge1xuICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLnB1c2goY2VsbHMubGVuZ3RoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2hvdWxkTGlzdGVuRm9yTGF5b3V0ID1cbiAgICAgICAgZ2V0SXRlbUxheW91dCA9PSBudWxsIHx8IGRlYnVnIHx8IHRoaXMuX2ZpbGxSYXRlSGVscGVyLmVuYWJsZWQoKTtcblxuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgPENlbGxSZW5kZXJlclxuICAgICAgICAgIENlbGxSZW5kZXJlckNvbXBvbmVudD17Q2VsbFJlbmRlcmVyQ29tcG9uZW50fVxuICAgICAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQ9e2lpIDwgZW5kID8gSXRlbVNlcGFyYXRvckNvbXBvbmVudCA6IHVuZGVmaW5lZH1cbiAgICAgICAgICBMaXN0SXRlbUNvbXBvbmVudD17TGlzdEl0ZW1Db21wb25lbnR9XG4gICAgICAgICAgY2VsbEtleT17a2V5fVxuICAgICAgICAgIGhvcml6b250YWw9e2hvcml6b250YWx9XG4gICAgICAgICAgaW5kZXg9e2lpfVxuICAgICAgICAgIGludmVyc2lvblN0eWxlPXtpbnZlcnNpb25TdHlsZX1cbiAgICAgICAgICBpdGVtPXtpdGVtfVxuICAgICAgICAgIGtleT17a2V5fVxuICAgICAgICAgIHByZXZDZWxsS2V5PXtwcmV2Q2VsbEtleX1cbiAgICAgICAgICBvblVwZGF0ZVNlcGFyYXRvcnM9e3RoaXMuX29uVXBkYXRlU2VwYXJhdG9yc31cbiAgICAgICAgICBvbkNlbGxGb2N1c0NhcHR1cmU9e2UgPT4gdGhpcy5fb25DZWxsRm9jdXNDYXB0dXJlKGtleSl9XG4gICAgICAgICAgb25Vbm1vdW50PXt0aGlzLl9vbkNlbGxVbm1vdW50fVxuICAgICAgICAgIHJlZj17cmVmID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NlbGxSZWZzW2tleV0gPSByZWY7XG4gICAgICAgICAgfX1cbiAgICAgICAgICByZW5kZXJJdGVtPXtyZW5kZXJJdGVtfVxuICAgICAgICAgIHsuLi4oc2hvdWxkTGlzdGVuRm9yTGF5b3V0ICYmIHtcbiAgICAgICAgICAgIG9uQ2VsbExheW91dDogdGhpcy5fb25DZWxsTGF5b3V0LFxuICAgICAgICAgIH0pfVxuICAgICAgICAvPixcbiAgICAgICk7XG4gICAgICBwcmV2Q2VsbEtleSA9IGtleTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX2NvbnN0cmFpblRvSXRlbUNvdW50KFxuICAgIGNlbGxzOiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSxcbiAgICBwcm9wczogUHJvcHMsXG4gICk6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9IHtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG4gICAgY29uc3QgbGFzdCA9IE1hdGgubWluKGl0ZW1Db3VudCAtIDEsIGNlbGxzLmxhc3QpO1xuXG4gICAgY29uc3QgbWF4VG9SZW5kZXJQZXJCYXRjaCA9IG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQoXG4gICAgICBwcm9wcy5tYXhUb1JlbmRlclBlckJhdGNoLFxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZmlyc3Q6IGNsYW1wKDAsIGl0ZW1Db3VudCAtIDEgLSBtYXhUb1JlbmRlclBlckJhdGNoLCBjZWxscy5maXJzdCksXG4gICAgICBsYXN0LFxuICAgIH07XG4gIH1cblxuICBfb25VcGRhdGVTZXBhcmF0b3JzID0gKGtleXM6IEFycmF5PD9zdHJpbmc+LCBuZXdQcm9wczogT2JqZWN0KSA9PiB7XG4gICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCByZWYgPSBrZXkgIT0gbnVsbCAmJiB0aGlzLl9jZWxsUmVmc1trZXldO1xuICAgICAgcmVmICYmIHJlZi51cGRhdGVTZXBhcmF0b3JQcm9wcyhuZXdQcm9wcyk7XG4gICAgfSk7XG4gIH07XG5cbiAgX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpOiBib29sZWFuIHtcbiAgICBjb25zdCBuZXN0ZWRDb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIHJldHVybiAhIShcbiAgICAgIG5lc3RlZENvbnRleHQgJiZcbiAgICAgICEhbmVzdGVkQ29udGV4dC5ob3Jpem9udGFsID09PSBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbClcbiAgICApO1xuICB9XG5cbiAgX2dldFNwYWNlcktleSA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogc3RyaW5nID0+XG4gICAgaXNWZXJ0aWNhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJztcblxuICBzdGF0aWMgX2tleUV4dHJhY3RvcihcbiAgICBpdGVtOiBJdGVtLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgcHJvcHM6IHtcbiAgICAgIGtleUV4dHJhY3Rvcj86ID8oaXRlbTogSXRlbSwgaW5kZXg6IG51bWJlcikgPT4gc3RyaW5nLFxuICAgICAgLi4uXG4gICAgfSxcbiAgKTogc3RyaW5nIHtcbiAgICBpZiAocHJvcHMua2V5RXh0cmFjdG9yICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBwcm9wcy5rZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgpO1xuICAgIH1cblxuICAgIGNvbnN0IGtleSA9IGRlZmF1bHRLZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgpO1xuICAgIGlmIChrZXkgPT09IFN0cmluZyhpbmRleCkpIHtcbiAgICAgIF91c2VkSW5kZXhGb3JLZXkgPSB0cnVlO1xuICAgICAgaWYgKGl0ZW0udHlwZSAmJiBpdGVtLnR5cGUuZGlzcGxheU5hbWUpIHtcbiAgICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSA9IGl0ZW0udHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtleTtcbiAgfVxuXG4gIHJlbmRlcigpOiBSZWFjdC5Ob2RlIHtcbiAgICB0aGlzLl9jaGVja1Byb3BzKHRoaXMucHJvcHMpO1xuICAgIGNvbnN0IHtMaXN0RW1wdHlDb21wb25lbnQsIExpc3RGb290ZXJDb21wb25lbnQsIExpc3RIZWFkZXJDb21wb25lbnR9ID1cbiAgICAgIHRoaXMucHJvcHM7XG4gICAgY29uc3Qge2RhdGEsIGhvcml6b250YWx9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBpbnZlcnNpb25TdHlsZSA9IHRoaXMucHJvcHMuaW52ZXJ0ZWRcbiAgICAgID8gaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG4gICAgICAgID8gc3R5bGVzLmhvcml6b250YWxseUludmVydGVkXG4gICAgICAgIDogc3R5bGVzLnZlcnRpY2FsbHlJbnZlcnRlZFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGNlbGxzOiBBcnJheTxhbnkgfCBSZWFjdC5Ob2RlPiA9IFtdO1xuICAgIGNvbnN0IHN0aWNreUluZGljZXNGcm9tUHJvcHMgPSBuZXcgU2V0KHRoaXMucHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcyk7XG4gICAgY29uc3Qgc3RpY2t5SGVhZGVySW5kaWNlcyA9IFtdO1xuXG4gICAgLy8gMS4gQWRkIGNlbGwgZm9yIExpc3RIZWFkZXJDb21wb25lbnRcbiAgICBpZiAoTGlzdEhlYWRlckNvbXBvbmVudCkge1xuICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKDApKSB7XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMucHVzaCgwKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChMaXN0SGVhZGVyQ29tcG9uZW50KSA/IChcbiAgICAgICAgTGlzdEhlYWRlckNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtub3QtYS1jb21wb25lbnRdXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGUtYXJnXVxuICAgICAgICA8TGlzdEhlYWRlckNvbXBvbmVudCAvPlxuICAgICAgKTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1oZWFkZXInfVxuICAgICAgICAgIGtleT1cIiRoZWFkZXJcIj5cbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgLy8gV2UgZXhwZWN0IHRoYXQgaGVhZGVyIGNvbXBvbmVudCB3aWxsIGJlIGEgc2luZ2xlIG5hdGl2ZSB2aWV3IHNvIG1ha2UgaXRcbiAgICAgICAgICAgIC8vIG5vdCBjb2xsYXBzYWJsZSB0byBhdm9pZCB0aGlzIHZpZXcgYmVpbmcgZmxhdHRlbmVkIGFuZCBtYWtlIHRoaXMgYXNzdW1wdGlvblxuICAgICAgICAgICAgLy8gbm8gbG9uZ2VyIHRydWUuXG4gICAgICAgICAgICBjb2xsYXBzYWJsZT17ZmFsc2V9XG4gICAgICAgICAgICBvbkxheW91dD17dGhpcy5fb25MYXlvdXRIZWFkZXJ9XG4gICAgICAgICAgICBzdHlsZT17U3R5bGVTaGVldC5jb21wb3NlKFxuICAgICAgICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5MaXN0SGVhZGVyQ29tcG9uZW50U3R5bGUsXG4gICAgICAgICAgICApfT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV0gLSBUeXBpbmcgUmVhY3ROYXRpdmVDb21wb25lbnQgcmV2ZWFsZWQgZXJyb3JzXG4gICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIDwvVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlcj4sXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIDJhLiBBZGQgYSBjZWxsIGZvciBMaXN0RW1wdHlDb21wb25lbnQgaWYgYXBwbGljYWJsZVxuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KGRhdGEpO1xuICAgIGlmIChpdGVtQ291bnQgPT09IDAgJiYgTGlzdEVtcHR5Q29tcG9uZW50KSB7XG4gICAgICBjb25zdCBlbGVtZW50OiBSZWFjdC5FbGVtZW50PGFueT4gPSAoKFJlYWN0LmlzVmFsaWRFbGVtZW50KFxuICAgICAgICBMaXN0RW1wdHlDb21wb25lbnQsXG4gICAgICApID8gKFxuICAgICAgICBMaXN0RW1wdHlDb21wb25lbnRcbiAgICAgICkgOiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVbbm90LWEtY29tcG9uZW50XVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlLWFyZ11cbiAgICAgICAgPExpc3RFbXB0eUNvbXBvbmVudCAvPlxuICAgICAgKSk6IGFueSk7XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8VmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlclxuICAgICAgICAgIGNlbGxLZXk9e3RoaXMuX2dldENlbGxLZXkoKSArICctZW1wdHknfVxuICAgICAgICAgIGtleT1cIiRlbXB0eVwiPlxuICAgICAgICAgIHtSZWFjdC5jbG9uZUVsZW1lbnQoZWxlbWVudCwge1xuICAgICAgICAgICAgb25MYXlvdXQ6IChldmVudDogTGF5b3V0RXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5fb25MYXlvdXRFbXB0eShldmVudCk7XG4gICAgICAgICAgICAgIGlmIChlbGVtZW50LnByb3BzLm9uTGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5wcm9wcy5vbkxheW91dChldmVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHlsZTogU3R5bGVTaGVldC5jb21wb3NlKGludmVyc2lvblN0eWxlLCBlbGVtZW50LnByb3BzLnN0eWxlKSxcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyPixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gMmIuIEFkZCBjZWxscyBhbmQgc3BhY2VycyBmb3IgZWFjaCBpdGVtXG4gICAgaWYgKGl0ZW1Db3VudCA+IDApIHtcbiAgICAgIF91c2VkSW5kZXhGb3JLZXkgPSBmYWxzZTtcbiAgICAgIF9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUgPSAnJztcbiAgICAgIGNvbnN0IHNwYWNlcktleSA9IHRoaXMuX2dldFNwYWNlcktleSghaG9yaXpvbnRhbCk7XG5cbiAgICAgIGNvbnN0IHJlbmRlclJlZ2lvbnMgPSB0aGlzLnN0YXRlLnJlbmRlck1hc2suZW51bWVyYXRlUmVnaW9ucygpO1xuICAgICAgY29uc3QgbGFzdFNwYWNlciA9IGZpbmRMYXN0V2hlcmUocmVuZGVyUmVnaW9ucywgciA9PiByLmlzU3BhY2VyKTtcblxuICAgICAgZm9yIChjb25zdCBzZWN0aW9uIG9mIHJlbmRlclJlZ2lvbnMpIHtcbiAgICAgICAgaWYgKHNlY3Rpb24uaXNTcGFjZXIpIHtcbiAgICAgICAgICAvLyBMZWdhY3kgYmVoYXZpb3IgaXMgdG8gYXZvaWQgc3BhY2VycyB3aGVuIHZpcnR1YWxpemF0aW9uIGlzXG4gICAgICAgICAgLy8gZGlzYWJsZWQgKGluY2x1ZGluZyBoZWFkIHNwYWNlcnMgb24gaW5pdGlhbCByZW5kZXIpLlxuICAgICAgICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVWaXJ0dWFsaXphdGlvbikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gV2l0aG91dCBnZXRJdGVtTGF5b3V0LCB3ZSBsaW1pdCBvdXIgdGFpbCBzcGFjZXIgdG8gdGhlIF9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IHRvXG4gICAgICAgICAgLy8gcHJldmVudCB0aGUgdXNlciBmb3IgaHlwZXJzY3JvbGxpbmcgaW50byB1bi1tZWFzdXJlZCBhcmVhIGJlY2F1c2Ugb3RoZXJ3aXNlIGNvbnRlbnQgd2lsbFxuICAgICAgICAgIC8vIGxpa2VseSBqdW1wIGFyb3VuZCBhcyBpdCByZW5kZXJzIGluIGFib3ZlIHRoZSB2aWV3cG9ydC5cbiAgICAgICAgICBjb25zdCBpc0xhc3RTcGFjZXIgPSBzZWN0aW9uID09PSBsYXN0U3BhY2VyO1xuICAgICAgICAgIGNvbnN0IGNvbnN0cmFpblRvTWVhc3VyZWQgPSBpc0xhc3RTcGFjZXIgJiYgIXRoaXMucHJvcHMuZ2V0SXRlbUxheW91dDtcbiAgICAgICAgICBjb25zdCBsYXN0ID0gY29uc3RyYWluVG9NZWFzdXJlZFxuICAgICAgICAgICAgPyBjbGFtcChcbiAgICAgICAgICAgICAgICBzZWN0aW9uLmZpcnN0IC0gMSxcbiAgICAgICAgICAgICAgICBzZWN0aW9uLmxhc3QsXG4gICAgICAgICAgICAgICAgdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBzZWN0aW9uLmxhc3Q7XG5cbiAgICAgICAgICBjb25zdCBmaXJzdE1ldHJpY3MgPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KFxuICAgICAgICAgICAgc2VjdGlvbi5maXJzdCxcbiAgICAgICAgICAgIHRoaXMucHJvcHMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBsYXN0TWV0cmljcyA9IHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3gobGFzdCwgdGhpcy5wcm9wcyk7XG4gICAgICAgICAgY29uc3Qgc3BhY2VyU2l6ZSA9XG4gICAgICAgICAgICBsYXN0TWV0cmljcy5vZmZzZXQgKyBsYXN0TWV0cmljcy5sZW5ndGggLSBmaXJzdE1ldHJpY3Mub2Zmc2V0O1xuICAgICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgICBrZXk9e2Akc3BhY2VyLSR7c2VjdGlvbi5maXJzdH1gfVxuICAgICAgICAgICAgICBzdHlsZT17e1tzcGFjZXJLZXldOiBzcGFjZXJTaXplfX1cbiAgICAgICAgICAgIC8+LFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fcHVzaENlbGxzKFxuICAgICAgICAgICAgY2VsbHMsXG4gICAgICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgICAgICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyxcbiAgICAgICAgICAgIHNlY3Rpb24uZmlyc3QsXG4gICAgICAgICAgICBzZWN0aW9uLmxhc3QsXG4gICAgICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5faGFzV2FybmVkLmtleXMgJiYgX3VzZWRJbmRleEZvcktleSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogbWlzc2luZyBrZXlzIGZvciBpdGVtcywgbWFrZSBzdXJlIHRvIHNwZWNpZnkgYSBrZXkgb3IgaWQgcHJvcGVydHkgb24gZWFjaCAnICtcbiAgICAgICAgICAgICdpdGVtIG9yIHByb3ZpZGUgYSBjdXN0b20ga2V5RXh0cmFjdG9yLicsXG4gICAgICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5faGFzV2FybmVkLmtleXMgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIDMuIEFkZCBjZWxsIGZvciBMaXN0Rm9vdGVyQ29tcG9uZW50XG4gICAgaWYgKExpc3RGb290ZXJDb21wb25lbnQpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChMaXN0Rm9vdGVyQ29tcG9uZW50KSA/IChcbiAgICAgICAgTGlzdEZvb3RlckNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtub3QtYS1jb21wb25lbnRdXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGUtYXJnXVxuICAgICAgICA8TGlzdEZvb3RlckNvbXBvbmVudCAvPlxuICAgICAgKTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Rm9vdGVyQ2VsbEtleSgpfVxuICAgICAgICAgIGtleT1cIiRmb290ZXJcIj5cbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX29uTGF5b3V0Rm9vdGVyfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShcbiAgICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlLFxuICAgICAgICAgICAgKX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIC0gVHlwaW5nIFJlYWN0TmF0aXZlQ29tcG9uZW50IHJldmVhbGVkIGVycm9yc1xuICAgICAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9WaWV3PlxuICAgICAgICA8L1ZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXI+LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyA0LiBSZW5kZXIgdGhlIFNjcm9sbFZpZXdcbiAgICBjb25zdCBzY3JvbGxQcm9wcyA9IHtcbiAgICAgIC4uLnRoaXMucHJvcHMsXG4gICAgICBvbkNvbnRlbnRTaXplQ2hhbmdlOiB0aGlzLl9vbkNvbnRlbnRTaXplQ2hhbmdlLFxuICAgICAgb25MYXlvdXQ6IHRoaXMuX29uTGF5b3V0LFxuICAgICAgb25TY3JvbGw6IHRoaXMuX29uU2Nyb2xsLFxuICAgICAgb25TY3JvbGxCZWdpbkRyYWc6IHRoaXMuX29uU2Nyb2xsQmVnaW5EcmFnLFxuICAgICAgb25TY3JvbGxFbmREcmFnOiB0aGlzLl9vblNjcm9sbEVuZERyYWcsXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsQmVnaW46IHRoaXMuX29uTW9tZW50dW1TY3JvbGxCZWdpbixcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxFbmQ6IHRoaXMuX29uTW9tZW50dW1TY3JvbGxFbmQsXG4gICAgICBzY3JvbGxFdmVudFRocm90dGxlOiBzY3JvbGxFdmVudFRocm90dGxlT3JEZWZhdWx0KFxuICAgICAgICB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUsXG4gICAgICApLCAvLyBUT0RPOiBBbmRyb2lkIHN1cHBvcnRcbiAgICAgIGludmVydFN0aWNreUhlYWRlcnM6XG4gICAgICAgIHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVycyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyB0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnNcbiAgICAgICAgICA6IHRoaXMucHJvcHMuaW52ZXJ0ZWQsXG4gICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgc3R5bGU6IGludmVyc2lvblN0eWxlXG4gICAgICAgID8gW2ludmVyc2lvblN0eWxlLCB0aGlzLnByb3BzLnN0eWxlXVxuICAgICAgICA6IHRoaXMucHJvcHMuc3R5bGUsXG4gICAgICBpc0ludmVydGVkVmlydHVhbGl6ZWRMaXN0OiB0aGlzLnByb3BzLmludmVydGVkLFxuICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uOlxuICAgICAgICB0aGlzLnByb3BzLm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbiAhPSBudWxsXG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIC4uLnRoaXMucHJvcHMubWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uLFxuICAgICAgICAgICAgICAvLyBBZGp1c3QgaW5kZXggdG8gYWNjb3VudCBmb3IgTGlzdEhlYWRlckNvbXBvbmVudC5cbiAgICAgICAgICAgICAgbWluSW5kZXhGb3JWaXNpYmxlOlxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMubWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uLm1pbkluZGV4Rm9yVmlzaWJsZSArXG4gICAgICAgICAgICAgICAgKHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudCA/IDEgOiAwKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICB9O1xuXG4gICAgdGhpcy5faGFzTW9yZSA9IHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0IDwgaXRlbUNvdW50IC0gMTtcblxuICAgIGNvbnN0IGlubmVyUmV0ID0gKFxuICAgICAgPFZpcnR1YWxpemVkTGlzdENvbnRleHRQcm92aWRlclxuICAgICAgICB2YWx1ZT17e1xuICAgICAgICAgIGNlbGxLZXk6IG51bGwsXG4gICAgICAgICAgZ2V0U2Nyb2xsTWV0cmljczogdGhpcy5fZ2V0U2Nyb2xsTWV0cmljcyxcbiAgICAgICAgICBob3Jpem9udGFsOiBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbCksXG4gICAgICAgICAgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZjogdGhpcy5fZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZixcbiAgICAgICAgICByZWdpc3RlckFzTmVzdGVkQ2hpbGQ6IHRoaXMuX3JlZ2lzdGVyQXNOZXN0ZWRDaGlsZCxcbiAgICAgICAgICB1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQsXG4gICAgICAgIH19PlxuICAgICAgICB7UmVhY3QuY2xvbmVFbGVtZW50KFxuICAgICAgICAgIChcbiAgICAgICAgICAgIHRoaXMucHJvcHMucmVuZGVyU2Nyb2xsQ29tcG9uZW50IHx8XG4gICAgICAgICAgICB0aGlzLl9kZWZhdWx0UmVuZGVyU2Nyb2xsQ29tcG9uZW50XG4gICAgICAgICAgKShzY3JvbGxQcm9wcyksXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVmOiB0aGlzLl9jYXB0dXJlU2Nyb2xsUmVmLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2VsbHMsXG4gICAgICAgICl9XG4gICAgICA8L1ZpcnR1YWxpemVkTGlzdENvbnRleHRQcm92aWRlcj5cbiAgICApO1xuICAgIGxldCByZXQ6IFJlYWN0Lk5vZGUgPSBpbm5lclJldDtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgcmV0ID0gKFxuICAgICAgICA8U2Nyb2xsVmlldy5Db250ZXh0LkNvbnN1bWVyPlxuICAgICAgICAgIHtzY3JvbGxDb250ZXh0ID0+IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc2Nyb2xsQ29udGV4dCAhPSBudWxsICYmXG4gICAgICAgICAgICAgICFzY3JvbGxDb250ZXh0Lmhvcml6b250YWwgPT09XG4gICAgICAgICAgICAgICAgIWhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKSAmJlxuICAgICAgICAgICAgICAhdGhpcy5faGFzV2FybmVkLm5lc3RpbmcgJiZcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0ID09IG51bGwgJiZcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zY3JvbGxFbmFibGVkICE9PSBmYWxzZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIC8vIFRPRE8gKFQ0NjU0NzA0NCk6IHVzZSBSZWFjdC53YXJuIG9uY2UgMTYuOSBpcyBzeW5jJ2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9wdWxsLzE1MTcwXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdHMgc2hvdWxkIG5ldmVyIGJlIG5lc3RlZCBpbnNpZGUgcGxhaW4gU2Nyb2xsVmlld3Mgd2l0aCB0aGUgc2FtZSAnICtcbiAgICAgICAgICAgICAgICAgICdvcmllbnRhdGlvbiBiZWNhdXNlIGl0IGNhbiBicmVhayB3aW5kb3dpbmcgYW5kIG90aGVyIGZ1bmN0aW9uYWxpdHkgLSB1c2UgYW5vdGhlciAnICtcbiAgICAgICAgICAgICAgICAgICdWaXJ0dWFsaXplZExpc3QtYmFja2VkIGNvbnRhaW5lciBpbnN0ZWFkLicsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHRoaXMuX2hhc1dhcm5lZC5uZXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbm5lclJldDtcbiAgICAgICAgICB9fVxuICAgICAgICA8L1Njcm9sbFZpZXcuQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmRlYnVnKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmRlYnVnfT5cbiAgICAgICAgICB7cmV0fVxuICAgICAgICAgIHt0aGlzLl9yZW5kZXJEZWJ1Z092ZXJsYXkoKX1cbiAgICAgICAgPC9WaWV3PlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBQcm9wcykge1xuICAgIGNvbnN0IHtkYXRhLCBleHRyYURhdGF9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZGF0YSAhPT0gcHJldlByb3BzLmRhdGEgfHwgZXh0cmFEYXRhICE9PSBwcmV2UHJvcHMuZXh0cmFEYXRhKSB7XG4gICAgICAvLyBjbGVhciB0aGUgdmlld2FibGVJbmRpY2VzIGNhY2hlIHRvIGFsc28gdHJpZ2dlclxuICAgICAgLy8gdGhlIG9uVmlld2FibGVJdGVtc0NoYW5nZWQgY2FsbGJhY2sgd2l0aCB0aGUgbmV3IGRhdGFcbiAgICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5yZXNldFZpZXdhYmxlSW5kaWNlcygpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFRoZSBgdGhpcy5faGlQcmlJblByb2dyZXNzYCBpcyBndWFyYW50ZWVpbmcgYSBoaVByaSBjZWxsIHVwZGF0ZSB3aWxsIG9ubHkgaGFwcGVuXG4gICAgLy8gb25jZSBwZXIgZmliZXIgdXBkYXRlLiBUaGUgYF9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGVgIHdpbGwgc2V0IGl0IHRvIHRydWVcbiAgICAvLyBpZiBhIGhpUHJpIHVwZGF0ZSBuZWVkcyB0byBwZXJmb3JtLiBJZiBgY29tcG9uZW50RGlkVXBkYXRlYCBpcyB0cmlnZ2VyZWQgd2l0aFxuICAgIC8vIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3M9dHJ1ZWAsIG1lYW5zIGl0J3MgdHJpZ2dlcmVkIGJ5IHRoZSBoaVByaSB1cGRhdGUuIFRoZVxuICAgIC8vIGBfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlYCB3aWxsIGNoZWNrIHRoaXMgY29uZGl0aW9uIGFuZCBub3QgcGVyZm9ybVxuICAgIC8vIGFub3RoZXIgaGlQcmkgdXBkYXRlLlxuICAgIGNvbnN0IGhpUHJpSW5Qcm9ncmVzcyA9IHRoaXMuX2hpUHJpSW5Qcm9ncmVzcztcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICAvLyBNYWtlIHN1cmUgc2V0dGluZyBgdGhpcy5faGlQcmlJblByb2dyZXNzYCBiYWNrIHRvIGZhbHNlIGFmdGVyIGBjb21wb25lbnREaWRVcGRhdGVgXG4gICAgLy8gaXMgdHJpZ2dlcmVkIHdpdGggYHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IHRydWVgXG4gICAgaWYgKGhpUHJpSW5Qcm9ncmVzcykge1xuICAgICAgdGhpcy5faGlQcmlJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX2F2ZXJhZ2VDZWxsTGVuZ3RoID0gMDtcbiAgX2NlbGxSZWZzOiB7W3N0cmluZ106IG51bGwgfCBDZWxsUmVuZGVyZXI8YW55Pn0gPSB7fTtcbiAgX2ZpbGxSYXRlSGVscGVyOiBGaWxsUmF0ZUhlbHBlcjtcbiAgX2ZyYW1lczoge1xuICAgIFtzdHJpbmddOiB7XG4gICAgICBpbkxheW91dD86IGJvb2xlYW4sXG4gICAgICBpbmRleDogbnVtYmVyLFxuICAgICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgICBvZmZzZXQ6IG51bWJlcixcbiAgICB9LFxuICB9ID0ge307XG4gIF9mb290ZXJMZW5ndGggPSAwO1xuICAvLyBVc2VkIGZvciBwcmV2ZW50aW5nIHNjcm9sbFRvSW5kZXggZnJvbSBiZWluZyBjYWxsZWQgbXVsdGlwbGUgdGltZXMgZm9yIGluaXRpYWxTY3JvbGxJbmRleFxuICBfaGFzVHJpZ2dlcmVkSW5pdGlhbFNjcm9sbFRvSW5kZXggPSBmYWxzZTtcbiAgX2hhc0ludGVyYWN0ZWQgPSBmYWxzZTtcbiAgX2hhc01vcmUgPSBmYWxzZTtcbiAgX2hhc1dhcm5lZDoge1tzdHJpbmddOiBib29sZWFufSA9IHt9O1xuICBfaGVhZGVyTGVuZ3RoID0gMDtcbiAgX2hpUHJpSW5Qcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlOyAvLyBmbGFnIHRvIHByZXZlbnQgaW5maW5pdGUgaGlQcmkgY2VsbCBsaW1pdCB1cGRhdGVcbiAgX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggPSAwO1xuICBfaW5kaWNlc1RvS2V5czogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXAoKTtcbiAgX2xhc3RGb2N1c2VkQ2VsbEtleTogP3N0cmluZyA9IG51bGw7XG4gIF9uZXN0ZWRDaGlsZExpc3RzOiBDaGlsZExpc3RDb2xsZWN0aW9uPFZpcnR1YWxpemVkTGlzdD4gPVxuICAgIG5ldyBDaGlsZExpc3RDb2xsZWN0aW9uKCk7XG4gIF9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0OiBudW1iZXIgPSAwO1xuICBfcHJldlBhcmVudE9mZnNldDogbnVtYmVyID0gMDtcbiAgLy8gJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XVxuICBfc2Nyb2xsTWV0cmljcyA9IHtcbiAgICBjb250ZW50TGVuZ3RoOiAwLFxuICAgIGRPZmZzZXQ6IDAsXG4gICAgZHQ6IDEwLFxuICAgIG9mZnNldDogMCxcbiAgICB0aW1lc3RhbXA6IDAsXG4gICAgdmVsb2NpdHk6IDAsXG4gICAgdmlzaWJsZUxlbmd0aDogMCxcbiAgICB6b29tU2NhbGU6IDEsXG4gIH07XG4gIF9zY3JvbGxSZWY6ID9SZWFjdC5FbGVtZW50UmVmPGFueT4gPSBudWxsO1xuICBfc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aCA9IDA7XG4gIF9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IDA7XG4gIF90b3RhbENlbGxMZW5ndGggPSAwO1xuICBfdG90YWxDZWxsc01lYXN1cmVkID0gMDtcbiAgX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyOiBCYXRjaGluYXRvcjtcbiAgX3ZpZXdhYmlsaXR5VHVwbGVzOiBBcnJheTxWaWV3YWJpbGl0eUhlbHBlckNhbGxiYWNrVHVwbGU+ID0gW107XG5cbiAgLyogJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XSBUaGUgdHlwZSBhbm5vdGF0aW9uKHMpIHJlcXVpcmVkIGJ5IEZsb3cnc1xuICAgKiBMVEkgdXBkYXRlIGNvdWxkIG5vdCBiZSBhZGRlZCB2aWEgY29kZW1vZCAqL1xuICBfY2FwdHVyZVNjcm9sbFJlZiA9IHJlZiA9PiB7XG4gICAgdGhpcy5fc2Nyb2xsUmVmID0gcmVmO1xuICB9O1xuXG4gIF9jb21wdXRlQmxhbmtuZXNzKCkge1xuICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyLmNvbXB1dGVCbGFua25lc3MoXG4gICAgICB0aGlzLnByb3BzLFxuICAgICAgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcyxcbiAgICApO1xuICB9XG5cbiAgLyogJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XSBUaGUgdHlwZSBhbm5vdGF0aW9uKHMpIHJlcXVpcmVkIGJ5IEZsb3cnc1xuICAgKiBMVEkgdXBkYXRlIGNvdWxkIG5vdCBiZSBhZGRlZCB2aWEgY29kZW1vZCAqL1xuICBfZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudCA9IHByb3BzID0+IHtcbiAgICBjb25zdCBvblJlZnJlc2ggPSBwcm9wcy5vblJlZnJlc2g7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gLSBUeXBpbmcgUmVhY3ROYXRpdmVDb21wb25lbnQgcmV2ZWFsZWQgZXJyb3JzXG4gICAgICByZXR1cm4gPFZpZXcgey4uLnByb3BzfSAvPjtcbiAgICB9IGVsc2UgaWYgKG9uUmVmcmVzaCkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICB0eXBlb2YgcHJvcHMucmVmcmVzaGluZyA9PT0gJ2Jvb2xlYW4nLFxuICAgICAgICAnYHJlZnJlc2hpbmdgIHByb3AgbXVzdCBiZSBzZXQgYXMgYSBib29sZWFuIGluIG9yZGVyIHRvIHVzZSBgb25SZWZyZXNoYCwgYnV0IGdvdCBgJyArXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJvcHMucmVmcmVzaGluZyA/PyAndW5kZWZpbmVkJykgK1xuICAgICAgICAgICdgJyxcbiAgICAgICk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gSW52YWxpZCBwcm9wIHVzYWdlXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXVzZV1cbiAgICAgICAgPFNjcm9sbFZpZXdcbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgcmVmcmVzaENvbnRyb2w9e1xuICAgICAgICAgICAgcHJvcHMucmVmcmVzaENvbnRyb2wgPT0gbnVsbCA/IChcbiAgICAgICAgICAgICAgPFJlZnJlc2hDb250cm9sXG4gICAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV1cbiAgICAgICAgICAgICAgICByZWZyZXNoaW5nPXtwcm9wcy5yZWZyZXNoaW5nfVxuICAgICAgICAgICAgICAgIG9uUmVmcmVzaD17b25SZWZyZXNofVxuICAgICAgICAgICAgICAgIHByb2dyZXNzVmlld09mZnNldD17cHJvcHMucHJvZ3Jlc3NWaWV3T2Zmc2V0fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgcHJvcHMucmVmcmVzaENvbnRyb2xcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gSW52YWxpZCBwcm9wIHVzYWdlXG4gICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS11c2VdXG4gICAgICByZXR1cm4gPFNjcm9sbFZpZXcgey4uLnByb3BzfSAvPjtcbiAgICB9XG4gIH07XG5cbiAgX29uQ2VsbExheW91dCA9IChlOiBMYXlvdXRFdmVudCwgY2VsbEtleTogc3RyaW5nLCBpbmRleDogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgY29uc3QgbGF5b3V0ID0gZS5uYXRpdmVFdmVudC5sYXlvdXQ7XG4gICAgY29uc3QgbmV4dCA9IHtcbiAgICAgIG9mZnNldDogdGhpcy5fc2VsZWN0T2Zmc2V0KGxheW91dCksXG4gICAgICBsZW5ndGg6IHRoaXMuX3NlbGVjdExlbmd0aChsYXlvdXQpLFxuICAgICAgaW5kZXgsXG4gICAgICBpbkxheW91dDogdHJ1ZSxcbiAgICB9O1xuICAgIGNvbnN0IGN1cnIgPSB0aGlzLl9mcmFtZXNbY2VsbEtleV07XG4gICAgaWYgKFxuICAgICAgIWN1cnIgfHxcbiAgICAgIG5leHQub2Zmc2V0ICE9PSBjdXJyLm9mZnNldCB8fFxuICAgICAgbmV4dC5sZW5ndGggIT09IGN1cnIubGVuZ3RoIHx8XG4gICAgICBpbmRleCAhPT0gY3Vyci5pbmRleFxuICAgICkge1xuICAgICAgdGhpcy5fdG90YWxDZWxsTGVuZ3RoICs9IG5leHQubGVuZ3RoIC0gKGN1cnIgPyBjdXJyLmxlbmd0aCA6IDApO1xuICAgICAgdGhpcy5fdG90YWxDZWxsc01lYXN1cmVkICs9IGN1cnIgPyAwIDogMTtcbiAgICAgIHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoID1cbiAgICAgICAgdGhpcy5fdG90YWxDZWxsTGVuZ3RoIC8gdGhpcy5fdG90YWxDZWxsc01lYXN1cmVkO1xuICAgICAgdGhpcy5fZnJhbWVzW2NlbGxLZXldID0gbmV4dDtcbiAgICAgIHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggPSBNYXRoLm1heChcbiAgICAgICAgdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCxcbiAgICAgICAgaW5kZXgsXG4gICAgICApO1xuICAgICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ZyYW1lc1tjZWxsS2V5XS5pbkxheW91dCA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5fdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwoY2VsbEtleSk7XG5cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQpO1xuICB9O1xuXG4gIF9vbkNlbGxGb2N1c0NhcHR1cmUoY2VsbEtleTogc3RyaW5nKSB7XG4gICAgdGhpcy5fbGFzdEZvY3VzZWRDZWxsS2V5ID0gY2VsbEtleTtcbiAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyKCk7XG4gIH1cblxuICBfb25DZWxsVW5tb3VudCA9IChjZWxsS2V5OiBzdHJpbmcpID0+IHtcbiAgICBkZWxldGUgdGhpcy5fY2VsbFJlZnNbY2VsbEtleV07XG4gICAgY29uc3QgY3VyciA9IHRoaXMuX2ZyYW1lc1tjZWxsS2V5XTtcbiAgICBpZiAoY3Vycikge1xuICAgICAgdGhpcy5fZnJhbWVzW2NlbGxLZXldID0gey4uLmN1cnIsIGluTGF5b3V0OiBmYWxzZX07XG4gICAgfVxuICB9O1xuXG4gIF90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbChjZWxsS2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2hJbkNlbGwoY2VsbEtleSwgY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5tZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk7XG4gICAgfSk7XG4gIH1cblxuICBtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk6IHZvaWQge1xuICAgIC8vIFRPRE8gKFQzNTU3NDUzOCk6IGZpbmROb2RlSGFuZGxlIHNvbWV0aW1lcyBjcmFzaGVzIHdpdGggXCJVbmFibGUgdG8gZmluZFxuICAgIC8vIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudFwiIGR1cmluZyBzY3JvbGxpbmdcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLl9zY3JvbGxSZWYpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gV2UgYXJlIGFzc3VtaW5nIHRoYXQgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpLmdldFNjcm9sbFJlZigpXG4gICAgICAvLyBpcyBhIG5vbi1udWxsIHJlZmVyZW5jZSB0byBhIFNjcm9sbFZpZXdcbiAgICAgIHRoaXMuX3Njcm9sbFJlZi5tZWFzdXJlTGF5b3V0KFxuICAgICAgICB0aGlzLmNvbnRleHQuZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpLmdldFNjcm9sbFJlZigpLFxuICAgICAgICAoeCwgeSwgd2lkdGgsIGhlaWdodCkgPT4ge1xuICAgICAgICAgIHRoaXMuX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3QgPSB0aGlzLl9zZWxlY3RPZmZzZXQoe3gsIHl9KTtcbiAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoe1xuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3Qgc2Nyb2xsTWV0cmljcyA9IHRoaXMuX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzKFxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdldFNjcm9sbE1ldHJpY3MoKSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3QgbWV0cmljc0NoYW5nZWQgPVxuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoICE9PSBzY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggfHxcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0ICE9PSBzY3JvbGxNZXRyaWNzLm9mZnNldDtcblxuICAgICAgICAgIGlmIChtZXRyaWNzQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoID0gc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQgPSBzY3JvbGxNZXRyaWNzLm9mZnNldDtcblxuICAgICAgICAgICAgLy8gSWYgbWV0cmljcyBvZiB0aGUgc2Nyb2xsVmlldyBjaGFuZ2VkLCB0aGVuIHdlIHRyaWdnZXJlZCByZW1lYXN1cmUgZm9yIGNoaWxkIGxpc3RcbiAgICAgICAgICAgIC8vIHRvIGVuc3VyZSBWaXJ0dWFsaXplZExpc3QgaGFzIHRoZSByaWdodCBpbmZvcm1hdGlvbi5cbiAgICAgICAgICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgICAgICAgICBjaGlsZExpc3QubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCJWaXJ0dWFsaXplZExpc3Q6IEVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIG1lYXN1cmluZyBhIGxpc3Qnc1wiICtcbiAgICAgICAgICAgICAgJyBvZmZzZXQgZnJvbSBpdHMgY29udGFpbmluZyBWaXJ0dWFsaXplZExpc3QuJyxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnbWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCB0aHJldyBhbiBlcnJvcicsXG4gICAgICAgIGVycm9yLnN0YWNrLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBfb25MYXlvdXQgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIC8vIE5lZWQgdG8gYWRqdXN0IG91ciBzY3JvbGwgbWV0cmljcyB0byBiZSByZWxhdGl2ZSB0byBvdXIgY29udGFpbmluZ1xuICAgICAgLy8gVmlydHVhbGl6ZWRMaXN0IGJlZm9yZSB3ZSBjYW4gbWFrZSBjbGFpbXMgYWJvdXQgbGlzdCBpdGVtIHZpZXdhYmlsaXR5XG4gICAgICB0aGlzLm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKFxuICAgICAgICBlLm5hdGl2ZUV2ZW50LmxheW91dCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMucHJvcHMub25MYXlvdXQgJiYgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB0aGlzLl9tYXliZUNhbGxPbkVkZ2VSZWFjaGVkKCk7XG4gIH07XG5cbiAgX29uTGF5b3V0RW1wdHkgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uTGF5b3V0ICYmIHRoaXMucHJvcHMub25MYXlvdXQoZSk7XG4gIH07XG5cbiAgX2dldEZvb3RlckNlbGxLZXkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1mb290ZXInO1xuICB9XG5cbiAgX29uTGF5b3V0Rm9vdGVyID0gKGU6IExheW91dEV2ZW50KSA9PiB7XG4gICAgdGhpcy5fdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwodGhpcy5fZ2V0Rm9vdGVyQ2VsbEtleSgpKTtcbiAgICB0aGlzLl9mb290ZXJMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXQpO1xuICB9O1xuXG4gIF9vbkxheW91dEhlYWRlciA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIHRoaXMuX2hlYWRlckxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dCk7XG4gIH07XG5cbiAgLy8gJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XVxuICBfcmVuZGVyRGVidWdPdmVybGF5KCkge1xuICAgIGNvbnN0IG5vcm1hbGl6ZSA9XG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggL1xuICAgICAgKHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCB8fCAxKTtcbiAgICBjb25zdCBmcmFtZXNJbkxheW91dCA9IFtdO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSk7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGl0ZW1Db3VudDsgaWkrKykge1xuICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGlpLCB0aGlzLnByb3BzKTtcbiAgICAgIC8qICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSAoPj0wLjY4LjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudFxuICAgICAgICogc3VwcHJlc3NlcyBhbiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjggd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlXG4gICAgICAgKiBlcnJvciBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIGlmIChmcmFtZS5pbkxheW91dCkge1xuICAgICAgICBmcmFtZXNJbkxheW91dC5wdXNoKGZyYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgd2luZG93VG9wID0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChcbiAgICAgIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCxcbiAgICAgIHRoaXMucHJvcHMsXG4gICAgKS5vZmZzZXQ7XG4gICAgY29uc3QgZnJhbWVMYXN0ID0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChcbiAgICAgIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0LFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICApO1xuICAgIGNvbnN0IHdpbmRvd0xlbiA9IGZyYW1lTGFzdC5vZmZzZXQgKyBmcmFtZUxhc3QubGVuZ3RoIC0gd2luZG93VG9wO1xuICAgIGNvbnN0IHZpc1RvcCA9IHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuICAgIGNvbnN0IHZpc0xlbiA9IHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcblxuICAgIHJldHVybiAoXG4gICAgICA8VmlldyBzdHlsZT17W3N0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLCBzdHlsZXMuZGVidWdPdmVybGF5XX0+XG4gICAgICAgIHtmcmFtZXNJbkxheW91dC5tYXAoKGYsIGlpKSA9PiAoXG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIGtleT17J2YnICsgaWl9XG4gICAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5QmFzZSxcbiAgICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUZyYW1lLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9wOiBmLm9mZnNldCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGYubGVuZ3RoICogbm9ybWFsaXplLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXX1cbiAgICAgICAgICAvPlxuICAgICAgICApKX1cbiAgICAgICAgPFZpZXdcbiAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsXG4gICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5RnJhbWVMYXN0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b3A6IHdpbmRvd1RvcCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgaGVpZ2h0OiB3aW5kb3dMZW4gKiBub3JtYWxpemUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF19XG4gICAgICAgIC8+XG4gICAgICAgIDxWaWV3XG4gICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLFxuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUZyYW1lVmlzLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b3A6IHZpc1RvcCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgaGVpZ2h0OiB2aXNMZW4gKiBub3JtYWxpemUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF19XG4gICAgICAgIC8+XG4gICAgICA8L1ZpZXc+XG4gICAgKTtcbiAgfVxuXG4gIF9zZWxlY3RMZW5ndGgoXG4gICAgbWV0cmljczogJFJlYWRPbmx5PHtcbiAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgIC4uLlxuICAgIH0+LFxuICApOiBudW1iZXIge1xuICAgIHJldHVybiAhaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG4gICAgICA/IG1ldHJpY3MuaGVpZ2h0XG4gICAgICA6IG1ldHJpY3Mud2lkdGg7XG4gIH1cblxuICBfc2VsZWN0T2Zmc2V0KFxuICAgIG1ldHJpY3M6ICRSZWFkT25seTx7XG4gICAgICB4OiBudW1iZXIsXG4gICAgICB5OiBudW1iZXIsXG4gICAgICAuLi5cbiAgICB9PixcbiAgKTogbnVtYmVyIHtcbiAgICByZXR1cm4gIWhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKSA/IG1ldHJpY3MueSA6IG1ldHJpY3MueDtcbiAgfVxuXG4gIF9tYXliZUNhbGxPbkVkZ2VSZWFjaGVkKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBvblN0YXJ0UmVhY2hlZCxcbiAgICAgIG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkLFxuICAgICAgb25FbmRSZWFjaGVkLFxuICAgICAgb25FbmRSZWFjaGVkVGhyZXNob2xkLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIC8vIElmIHdlIGhhdmUgYW55IHBlbmRpbmcgc2Nyb2xsIHVwZGF0ZXMgaXQgbWVhbnMgdGhhdCB0aGUgc2Nyb2xsIG1ldHJpY3NcbiAgICAvLyBhcmUgb3V0IG9mIGRhdGUgYW5kIHdlIHNob3VsZCBub3QgY2FsbCBhbnkgb2YgdGhlIGVkZ2UgcmVhY2hlZCBjYWxsYmFja3MuXG4gICAgaWYgKHRoaXMuc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50ID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHtjb250ZW50TGVuZ3RoLCB2aXNpYmxlTGVuZ3RoLCBvZmZzZXR9ID0gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgICBsZXQgZGlzdGFuY2VGcm9tU3RhcnQgPSBvZmZzZXQ7XG4gICAgbGV0IGRpc3RhbmNlRnJvbUVuZCA9IGNvbnRlbnRMZW5ndGggLSB2aXNpYmxlTGVuZ3RoIC0gb2Zmc2V0O1xuXG4gICAgLy8gRXNwZWNpYWxseSB3aGVuIG9FUlQgaXMgemVybyBpdCdzIG5lY2Vzc2FyeSB0byAnZmxvb3InIHZlcnkgc21hbGwgZGlzdGFuY2UgdmFsdWVzIHRvIGJlIDBcbiAgICAvLyBzaW5jZSBkZWJvdW5jaW5nIGNhdXNlcyB1cyB0byBub3QgZmlyZSB0aGlzIGV2ZW50IGZvciBldmVyeSBzaW5nbGUgXCJwaXhlbFwiIHdlIHNjcm9sbCBhbmQgY2FuIHRodXNcbiAgICAvLyBiZSBhdCB0aGUgZWRnZSBvZiB0aGUgbGlzdCB3aXRoIGEgZGlzdGFuY2UgYXBwcm94aW1hdGluZyAwIGJ1dCBub3QgcXVpdGUgdGhlcmUuXG4gICAgaWYgKGRpc3RhbmNlRnJvbVN0YXJ0IDwgT05fRURHRV9SRUFDSEVEX0VQU0lMT04pIHtcbiAgICAgIGRpc3RhbmNlRnJvbVN0YXJ0ID0gMDtcbiAgICB9XG4gICAgaWYgKGRpc3RhbmNlRnJvbUVuZCA8IE9OX0VER0VfUkVBQ0hFRF9FUFNJTE9OKSB7XG4gICAgICBkaXN0YW5jZUZyb21FbmQgPSAwO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFQxMjExNzIxNzIgTG9vayBpbnRvIHdoeSB3ZSdyZSBcImRlZmF1bHRpbmdcIiB0byBhIHRocmVzaG9sZCBvZiAycHhcbiAgICAvLyB3aGVuIG9FUlQgaXMgbm90IHByZXNlbnQgKGRpZmZlcmVudCBmcm9tIDIgdmlld3BvcnRzIHVzZWQgZWxzZXdoZXJlKVxuICAgIGNvbnN0IERFRkFVTFRfVEhSRVNIT0xEX1BYID0gMjtcblxuICAgIGNvbnN0IHN0YXJ0VGhyZXNob2xkID1cbiAgICAgIG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkICE9IG51bGxcbiAgICAgICAgPyBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGhcbiAgICAgICAgOiBERUZBVUxUX1RIUkVTSE9MRF9QWDtcbiAgICBjb25zdCBlbmRUaHJlc2hvbGQgPVxuICAgICAgb25FbmRSZWFjaGVkVGhyZXNob2xkICE9IG51bGxcbiAgICAgICAgPyBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoXG4gICAgICAgIDogREVGQVVMVF9USFJFU0hPTERfUFg7XG4gICAgY29uc3QgaXNXaXRoaW5TdGFydFRocmVzaG9sZCA9IGRpc3RhbmNlRnJvbVN0YXJ0IDw9IHN0YXJ0VGhyZXNob2xkO1xuICAgIGNvbnN0IGlzV2l0aGluRW5kVGhyZXNob2xkID0gZGlzdGFuY2VGcm9tRW5kIDw9IGVuZFRocmVzaG9sZDtcblxuICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoZSB1c2VyIGp1c3Qgc2Nyb2xsZWQgd2l0aGluIHRoZSBlbmQgdGhyZXNob2xkXG4gICAgLy8gYW5kIGNhbGwgb25FbmRSZWFjaGVkIG9ubHkgb25jZSBmb3IgYSBnaXZlbiBjb250ZW50IGxlbmd0aCxcbiAgICAvLyBhbmQgb25seSBpZiBvblN0YXJ0UmVhY2hlZCBpcyBub3QgYmVpbmcgZXhlY3V0ZWRcbiAgICBpZiAoXG4gICAgICBvbkVuZFJlYWNoZWQgJiZcbiAgICAgIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ID09PSBnZXRJdGVtQ291bnQoZGF0YSkgLSAxICYmXG4gICAgICBpc1dpdGhpbkVuZFRocmVzaG9sZCAmJlxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoICE9PSB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aFxuICAgICkge1xuICAgICAgdGhpcy5fc2VudEVuZEZvckNvbnRlbnRMZW5ndGggPSB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGg7XG4gICAgICBvbkVuZFJlYWNoZWQoe2Rpc3RhbmNlRnJvbUVuZH0pO1xuICAgIH1cblxuICAgIC8vIE5leHQgY2hlY2sgaWYgdGhlIHVzZXIganVzdCBzY3JvbGxlZCB3aXRoaW4gdGhlIHN0YXJ0IHRocmVzaG9sZFxuICAgIC8vIGFuZCBjYWxsIG9uU3RhcnRSZWFjaGVkIG9ubHkgb25jZSBmb3IgYSBnaXZlbiBjb250ZW50IGxlbmd0aCxcbiAgICAvLyBhbmQgb25seSBpZiBvbkVuZFJlYWNoZWQgaXMgbm90IGJlaW5nIGV4ZWN1dGVkXG4gICAgZWxzZSBpZiAoXG4gICAgICBvblN0YXJ0UmVhY2hlZCAhPSBudWxsICYmXG4gICAgICB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgPT09IDAgJiZcbiAgICAgIGlzV2l0aGluU3RhcnRUaHJlc2hvbGQgJiZcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCAhPT0gdGhpcy5fc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aFxuICAgICkge1xuICAgICAgdGhpcy5fc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aCA9IHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aDtcbiAgICAgIG9uU3RhcnRSZWFjaGVkKHtkaXN0YW5jZUZyb21TdGFydH0pO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSB1c2VyIHNjcm9sbHMgYXdheSBmcm9tIHRoZSBzdGFydCBvciBlbmQgYW5kIGJhY2sgYWdhaW4sXG4gICAgLy8gY2F1c2Ugb25TdGFydFJlYWNoZWQgb3Igb25FbmRSZWFjaGVkIHRvIGJlIHRyaWdnZXJlZCBhZ2FpblxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aCA9IGlzV2l0aGluU3RhcnRUaHJlc2hvbGRcbiAgICAgICAgPyB0aGlzLl9zZW50U3RhcnRGb3JDb250ZW50TGVuZ3RoXG4gICAgICAgIDogMDtcbiAgICAgIHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gaXNXaXRoaW5FbmRUaHJlc2hvbGRcbiAgICAgICAgPyB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aFxuICAgICAgICA6IDA7XG4gICAgfVxuICB9XG5cbiAgX29uQ29udGVudFNpemVDaGFuZ2UgPSAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcbiAgICBpZiAoXG4gICAgICB3aWR0aCA+IDAgJiZcbiAgICAgIGhlaWdodCA+IDAgJiZcbiAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ICE9IG51bGwgJiZcbiAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ID4gMCAmJlxuICAgICAgIXRoaXMuX2hhc1RyaWdnZXJlZEluaXRpYWxTY3JvbGxUb0luZGV4XG4gICAgKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jb250ZW50T2Zmc2V0ID09IG51bGwpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IDxcbiAgICAgICAgICB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuc2Nyb2xsVG9JbmRleCh7XG4gICAgICAgICAgICBhbmltYXRlZDogZmFsc2UsXG4gICAgICAgICAgICBpbmRleDogbnVsbHRocm93cyh0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zY3JvbGxUb0VuZCh7YW5pbWF0ZWQ6IGZhbHNlfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX2hhc1RyaWdnZXJlZEluaXRpYWxTY3JvbGxUb0luZGV4ID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoe2hlaWdodCwgd2lkdGh9KTtcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB0aGlzLl9tYXliZUNhbGxPbkVkZ2VSZWFjaGVkKCk7XG4gIH07XG5cbiAgLyogVHJhbnNsYXRlcyBtZXRyaWNzIGZyb20gYSBzY3JvbGwgZXZlbnQgaW4gYSBwYXJlbnQgVmlydHVhbGl6ZWRMaXN0IGludG9cbiAgICogY29vcmRpbmF0ZXMgcmVsYXRpdmUgdG8gdGhlIGNoaWxkIGxpc3QuXG4gICAqL1xuICBfY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3MgPSAobWV0cmljczoge1xuICAgIHZpc2libGVMZW5ndGg6IG51bWJlcixcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICAuLi5cbiAgfSk6ICRGbG93Rml4TWUgPT4ge1xuICAgIC8vIE9mZnNldCBvZiB0aGUgdG9wIG9mIHRoZSBuZXN0ZWQgbGlzdCByZWxhdGl2ZSB0byB0aGUgdG9wIG9mIGl0cyBwYXJlbnQncyB2aWV3cG9ydFxuICAgIGNvbnN0IG9mZnNldCA9IG1ldHJpY3Mub2Zmc2V0IC0gdGhpcy5fb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdDtcbiAgICAvLyBDaGlsZCdzIHZpc2libGUgbGVuZ3RoIGlzIHRoZSBzYW1lIGFzIGl0cyBwYXJlbnQnc1xuICAgIGNvbnN0IHZpc2libGVMZW5ndGggPSBtZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgY29uc3QgZE9mZnNldCA9IG9mZnNldCAtIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuICAgIGNvbnN0IGNvbnRlbnRMZW5ndGggPSB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGg7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgIGNvbnRlbnRMZW5ndGgsXG4gICAgICBvZmZzZXQsXG4gICAgICBkT2Zmc2V0LFxuICAgIH07XG4gIH07XG5cbiAgX29uU2Nyb2xsID0gKGU6IE9iamVjdCkgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Ll9vblNjcm9sbChlKTtcbiAgICB9KTtcbiAgICBpZiAodGhpcy5wcm9wcy5vblNjcm9sbCkge1xuICAgICAgdGhpcy5wcm9wcy5vblNjcm9sbChlKTtcbiAgICB9XG4gICAgY29uc3QgdGltZXN0YW1wID0gZS50aW1lU3RhbXA7XG4gICAgbGV0IHZpc2libGVMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXRNZWFzdXJlbWVudCk7XG4gICAgbGV0IGNvbnRlbnRMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5jb250ZW50U2l6ZSk7XG4gICAgbGV0IG9mZnNldCA9IHRoaXMuX3NlbGVjdE9mZnNldChlLm5hdGl2ZUV2ZW50LmNvbnRlbnRPZmZzZXQpO1xuICAgIGxldCBkT2Zmc2V0ID0gb2Zmc2V0IC0gdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG5cbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIGlmICh0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gSWdub3JlIHNjcm9sbCBldmVudHMgdW50aWwgb25MYXlvdXQgaGFzIGJlZW4gY2FsbGVkIGFuZCB3ZVxuICAgICAgICAvLyBrbm93IG91ciBvZmZzZXQgZnJvbSBvdXIgb2Zmc2V0IGZyb20gb3VyIHBhcmVudFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAoe3Zpc2libGVMZW5ndGgsIGNvbnRlbnRMZW5ndGgsIG9mZnNldCwgZE9mZnNldH0gPVxuICAgICAgICB0aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyh7XG4gICAgICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgICAgICBvZmZzZXQsXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBjb25zdCBkdCA9IHRoaXMuX3Njcm9sbE1ldHJpY3MudGltZXN0YW1wXG4gICAgICA/IE1hdGgubWF4KDEsIHRpbWVzdGFtcCAtIHRoaXMuX3Njcm9sbE1ldHJpY3MudGltZXN0YW1wKVxuICAgICAgOiAxO1xuICAgIGNvbnN0IHZlbG9jaXR5ID0gZE9mZnNldCAvIGR0O1xuXG4gICAgaWYgKFxuICAgICAgZHQgPiA1MDAgJiZcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuZHQgPiA1MDAgJiZcbiAgICAgIGNvbnRlbnRMZW5ndGggPiA1ICogdmlzaWJsZUxlbmd0aCAmJlxuICAgICAgIXRoaXMuX2hhc1dhcm5lZC5wZXJmXG4gICAgKSB7XG4gICAgICBpbmZvTG9nKFxuICAgICAgICAnVmlydHVhbGl6ZWRMaXN0OiBZb3UgaGF2ZSBhIGxhcmdlIGxpc3QgdGhhdCBpcyBzbG93IHRvIHVwZGF0ZSAtIG1ha2Ugc3VyZSB5b3VyICcgK1xuICAgICAgICAgICdyZW5kZXJJdGVtIGZ1bmN0aW9uIHJlbmRlcnMgY29tcG9uZW50cyB0aGF0IGZvbGxvdyBSZWFjdCBwZXJmb3JtYW5jZSBiZXN0IHByYWN0aWNlcyAnICtcbiAgICAgICAgICAnbGlrZSBQdXJlQ29tcG9uZW50LCBzaG91bGRDb21wb25lbnRVcGRhdGUsIGV0Yy4nLFxuICAgICAgICB7ZHQsIHByZXZEdDogdGhpcy5fc2Nyb2xsTWV0cmljcy5kdCwgY29udGVudExlbmd0aH0sXG4gICAgICApO1xuICAgICAgdGhpcy5faGFzV2FybmVkLnBlcmYgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEZvciBpbnZhbGlkIG5lZ2F0aXZlIHZhbHVlcyAody8gUlRMKSwgc2V0IHRoaXMgdG8gMS5cbiAgICBjb25zdCB6b29tU2NhbGUgPSBlLm5hdGl2ZUV2ZW50Lnpvb21TY2FsZSA8IDAgPyAxIDogZS5uYXRpdmVFdmVudC56b29tU2NhbGU7XG4gICAgdGhpcy5fc2Nyb2xsTWV0cmljcyA9IHtcbiAgICAgIGNvbnRlbnRMZW5ndGgsXG4gICAgICBkdCxcbiAgICAgIGRPZmZzZXQsXG4gICAgICBvZmZzZXQsXG4gICAgICB0aW1lc3RhbXAsXG4gICAgICB2ZWxvY2l0eSxcbiAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICB6b29tU2NhbGUsXG4gICAgfTtcbiAgICBpZiAodGhpcy5zdGF0ZS5wZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQgPiAwKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHN0YXRlID0+ICh7XG4gICAgICAgIHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudDogc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50IC0gMSxcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQpO1xuICAgIGlmICghdGhpcy5wcm9wcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9tYXliZUNhbGxPbkVkZ2VSZWFjaGVkKCk7XG4gICAgaWYgKHZlbG9jaXR5ICE9PSAwKSB7XG4gICAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5hY3RpdmF0ZSgpO1xuICAgIH1cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gIH07XG5cbiAgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpIHtcbiAgICBjb25zdCB7Zmlyc3QsIGxhc3R9ID0gdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0O1xuICAgIGNvbnN0IHtvZmZzZXQsIHZpc2libGVMZW5ndGgsIHZlbG9jaXR5fSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKTtcbiAgICBsZXQgaGlQcmkgPSBmYWxzZTtcbiAgICBjb25zdCBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCA9IG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0KFxuICAgICAgdGhpcy5wcm9wcy5vblN0YXJ0UmVhY2hlZFRocmVzaG9sZCxcbiAgICApO1xuICAgIGNvbnN0IG9uRW5kUmVhY2hlZFRocmVzaG9sZCA9IG9uRW5kUmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdChcbiAgICAgIHRoaXMucHJvcHMub25FbmRSZWFjaGVkVGhyZXNob2xkLFxuICAgICk7XG4gICAgLy8gTWFyayBhcyBoaWdoIHByaW9yaXR5IGlmIHdlJ3JlIGNsb3NlIHRvIHRoZSBzdGFydCBvZiB0aGUgZmlyc3QgaXRlbVxuICAgIC8vIEJ1dCBvbmx5IGlmIHRoZXJlIGFyZSBpdGVtcyBiZWZvcmUgdGhlIGZpcnN0IHJlbmRlcmVkIGl0ZW1cbiAgICBpZiAoZmlyc3QgPiAwKSB7XG4gICAgICBjb25zdCBkaXN0VG9wID1cbiAgICAgICAgb2Zmc2V0IC0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChmaXJzdCwgdGhpcy5wcm9wcykub2Zmc2V0O1xuICAgICAgaGlQcmkgPVxuICAgICAgICBkaXN0VG9wIDwgMCB8fFxuICAgICAgICAodmVsb2NpdHkgPCAtMiAmJlxuICAgICAgICAgIGRpc3RUb3AgPFxuICAgICAgICAgICAgZ2V0U2Nyb2xsaW5nVGhyZXNob2xkKG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkLCB2aXNpYmxlTGVuZ3RoKSk7XG4gICAgfVxuICAgIC8vIE1hcmsgYXMgaGlnaCBwcmlvcml0eSBpZiB3ZSdyZSBjbG9zZSB0byB0aGUgZW5kIG9mIHRoZSBsYXN0IGl0ZW1cbiAgICAvLyBCdXQgb25seSBpZiB0aGVyZSBhcmUgaXRlbXMgYWZ0ZXIgdGhlIGxhc3QgcmVuZGVyZWQgaXRlbVxuICAgIGlmICghaGlQcmkgJiYgbGFzdCA+PSAwICYmIGxhc3QgPCBpdGVtQ291bnQgLSAxKSB7XG4gICAgICBjb25zdCBkaXN0Qm90dG9tID1cbiAgICAgICAgdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChsYXN0LCB0aGlzLnByb3BzKS5vZmZzZXQgLVxuICAgICAgICAob2Zmc2V0ICsgdmlzaWJsZUxlbmd0aCk7XG4gICAgICBoaVByaSA9XG4gICAgICAgIGRpc3RCb3R0b20gPCAwIHx8XG4gICAgICAgICh2ZWxvY2l0eSA+IDIgJiZcbiAgICAgICAgICBkaXN0Qm90dG9tIDxcbiAgICAgICAgICAgIGdldFNjcm9sbGluZ1RocmVzaG9sZChvbkVuZFJlYWNoZWRUaHJlc2hvbGQsIHZpc2libGVMZW5ndGgpKTtcbiAgICB9XG4gICAgLy8gT25seSB0cmlnZ2VyIGhpZ2gtcHJpb3JpdHkgdXBkYXRlcyBpZiB3ZSd2ZSBhY3R1YWxseSByZW5kZXJlZCBjZWxscyxcbiAgICAvLyBhbmQgd2l0aCB0aGF0IHNpemUgZXN0aW1hdGUsIGFjY3VyYXRlbHkgY29tcHV0ZSBob3cgbWFueSBjZWxscyB3ZSBzaG91bGQgcmVuZGVyLlxuICAgIC8vIE90aGVyd2lzZSwgaXQgd291bGQganVzdCByZW5kZXIgYXMgbWFueSBjZWxscyBhcyBpdCBjYW4gKG9mIHplcm8gZGltZW5zaW9uKSxcbiAgICAvLyBlYWNoIHRpbWUgdGhyb3VnaCBhdHRlbXB0aW5nIHRvIHJlbmRlciBtb3JlIChsaW1pdGVkIGJ5IG1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgIC8vIHN0YXJ2aW5nIHRoZSByZW5kZXJlciBmcm9tIGFjdHVhbGx5IGxheWluZyBvdXQgdGhlIG9iamVjdHMgYW5kIGNvbXB1dGluZyBfYXZlcmFnZUNlbGxMZW5ndGguXG4gICAgLy8gSWYgdGhpcyBpcyB0cmlnZ2VyZWQgaW4gYW4gYGNvbXBvbmVudERpZFVwZGF0ZWAgZm9sbG93ZWQgYnkgYSBoaVByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICAvLyBXZSBzaG91bGRuJ3QgZG8gYW5vdGhlciBoaXByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICBpZiAoXG4gICAgICBoaVByaSAmJlxuICAgICAgKHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoIHx8IHRoaXMucHJvcHMuZ2V0SXRlbUxheW91dCkgJiZcbiAgICAgICF0aGlzLl9oaVByaUluUHJvZ3Jlc3NcbiAgICApIHtcbiAgICAgIHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAvLyBEb24ndCB3b3JyeSBhYm91dCBpbnRlcmFjdGlvbnMgd2hlbiBzY3JvbGxpbmcgcXVpY2tseTsgZm9jdXMgb24gZmlsbGluZyBjb250ZW50IGFzIGZhc3RcbiAgICAgIC8vIGFzIHBvc3NpYmxlLlxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIuZGlzcG9zZSh7YWJvcnQ6IHRydWV9KTtcbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIuc2NoZWR1bGUoKTtcbiAgICB9XG4gIH1cblxuICBfb25TY3JvbGxCZWdpbkRyYWcgPSAoZTogU2Nyb2xsRXZlbnQpOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5fb25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gICAgfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuX2hhc0ludGVyYWN0ZWQgPSB0cnVlO1xuICAgIHRoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgfTtcblxuICBfb25TY3JvbGxFbmREcmFnID0gKGU6IFNjcm9sbEV2ZW50KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QuX29uU2Nyb2xsRW5kRHJhZyhlKTtcbiAgICB9KTtcbiAgICBjb25zdCB7dmVsb2NpdHl9ID0gZS5uYXRpdmVFdmVudDtcbiAgICBpZiAodmVsb2NpdHkpIHtcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmVsb2NpdHkgPSB0aGlzLl9zZWxlY3RPZmZzZXQodmVsb2NpdHkpO1xuICAgIH1cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcoZSk7XG4gIH07XG5cbiAgX29uTW9tZW50dW1TY3JvbGxCZWdpbiA9IChlOiBTY3JvbGxFdmVudCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Ll9vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZSk7XG4gICAgfSk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4gJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZSk7XG4gIH07XG5cbiAgX29uTW9tZW50dW1TY3JvbGxFbmQgPSAoZTogU2Nyb2xsRXZlbnQpOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5fb25Nb21lbnR1bVNjcm9sbEVuZChlKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZlbG9jaXR5ID0gMDtcbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kICYmIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZChlKTtcbiAgfTtcblxuICBfdXBkYXRlQ2VsbHNUb1JlbmRlciA9ICgpID0+IHtcbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCk7XG5cbiAgICB0aGlzLnNldFN0YXRlKChzdGF0ZSwgcHJvcHMpID0+IHtcbiAgICAgIGNvbnN0IGNlbGxzQXJvdW5kVmlld3BvcnQgPSB0aGlzLl9hZGp1c3RDZWxsc0Fyb3VuZFZpZXdwb3J0KFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgICAgc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHJlbmRlck1hc2sgPSBWaXJ0dWFsaXplZExpc3QuX2NyZWF0ZVJlbmRlck1hc2soXG4gICAgICAgIHByb3BzLFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgICB0aGlzLl9nZXROb25WaWV3cG9ydFJlbmRlclJlZ2lvbnMocHJvcHMpLFxuICAgICAgKTtcblxuICAgICAgaWYgKFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ID09PSBzdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ICYmXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA9PT0gc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ICYmXG4gICAgICAgIHJlbmRlck1hc2suZXF1YWxzKHN0YXRlLnJlbmRlck1hc2spXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7Y2VsbHNBcm91bmRWaWV3cG9ydCwgcmVuZGVyTWFza307XG4gICAgfSk7XG4gIH07XG5cbiAgX2NyZWF0ZVZpZXdUb2tlbiA9IChcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGlzVmlld2FibGU6IGJvb2xlYW4sXG4gICAgcHJvcHM6IEZyYW1lTWV0cmljUHJvcHMsXG4gICAgLy8gJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XVxuICApID0+IHtcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbX0gPSBwcm9wcztcbiAgICBjb25zdCBpdGVtID0gZ2V0SXRlbShkYXRhLCBpbmRleCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4LFxuICAgICAgaXRlbSxcbiAgICAgIGtleTogVmlydHVhbGl6ZWRMaXN0Ll9rZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgsIHByb3BzKSxcbiAgICAgIGlzVmlld2FibGUsXG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0cyBhbiBhcHByb3hpbWF0ZSBvZmZzZXQgdG8gYW4gaXRlbSBhdCBhIGdpdmVuIGluZGV4LiBTdXBwb3J0c1xuICAgKiBmcmFjdGlvbmFsIGluZGljZXMuXG4gICAqL1xuICBfZ2V0T2Zmc2V0QXBwcm94ID0gKGluZGV4OiBudW1iZXIsIHByb3BzOiBGcmFtZU1ldHJpY1Byb3BzKTogbnVtYmVyID0+IHtcbiAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcihpbmRleCkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGluZGV4LCBwcm9wcykub2Zmc2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBmcmFtZU1ldHJpY3MgPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KFxuICAgICAgICBNYXRoLmZsb29yKGluZGV4KSxcbiAgICAgICAgcHJvcHMsXG4gICAgICApO1xuICAgICAgY29uc3QgcmVtYWluZGVyID0gaW5kZXggLSBNYXRoLmZsb29yKGluZGV4KTtcbiAgICAgIHJldHVybiBmcmFtZU1ldHJpY3Mub2Zmc2V0ICsgcmVtYWluZGVyICogZnJhbWVNZXRyaWNzLmxlbmd0aDtcbiAgICB9XG4gIH07XG5cbiAgX19nZXRGcmFtZU1ldHJpY3NBcHByb3g6IChcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHByb3BzOiBGcmFtZU1ldHJpY1Byb3BzLFxuICApID0+IHtcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICAuLi5cbiAgfSA9IChpbmRleCwgcHJvcHMpID0+IHtcbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljcyhpbmRleCwgcHJvcHMpO1xuICAgIGlmIChmcmFtZSAmJiBmcmFtZS5pbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgIC8vIGNoZWNrIGZvciBpbnZhbGlkIGZyYW1lcyBkdWUgdG8gcm93IHJlLW9yZGVyaW5nXG4gICAgICByZXR1cm4gZnJhbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtQ291bnQsIGdldEl0ZW1MYXlvdXR9ID0gcHJvcHM7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIGluZGV4ID49IDAgJiYgaW5kZXggPCBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICAgICdUcmllZCB0byBnZXQgZnJhbWUgZm9yIG91dCBvZiByYW5nZSBpbmRleCAnICsgaW5kZXgsXG4gICAgICApO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICAhZ2V0SXRlbUxheW91dCxcbiAgICAgICAgJ1Nob3VsZCBub3QgaGF2ZSB0byBlc3RpbWF0ZSBmcmFtZXMgd2hlbiBhIG1lYXN1cmVtZW50IG1ldHJpY3MgZnVuY3Rpb24gaXMgcHJvdmlkZWQnLFxuICAgICAgKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlbmd0aDogdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGgsXG4gICAgICAgIG9mZnNldDogdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGggKiBpbmRleCxcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIF9nZXRGcmFtZU1ldHJpY3MgPSAoXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBwcm9wczogRnJhbWVNZXRyaWNQcm9wcyxcbiAgKTogP3tcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGluTGF5b3V0PzogYm9vbGVhbixcbiAgICAuLi5cbiAgfSA9PiB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW1Db3VudCwgZ2V0SXRlbUxheW91dH0gPSBwcm9wcztcbiAgICBpbnZhcmlhbnQoXG4gICAgICBpbmRleCA+PSAwICYmIGluZGV4IDwgZ2V0SXRlbUNvdW50KGRhdGEpLFxuICAgICAgJ1RyaWVkIHRvIGdldCBmcmFtZSBmb3Igb3V0IG9mIHJhbmdlIGluZGV4ICcgKyBpbmRleCxcbiAgICApO1xuICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fZnJhbWVzW1ZpcnR1YWxpemVkTGlzdC5fZ2V0SXRlbUtleShwcm9wcywgaW5kZXgpXTtcbiAgICBpZiAoIWZyYW1lIHx8IGZyYW1lLmluZGV4ICE9PSBpbmRleCkge1xuICAgICAgaWYgKGdldEl0ZW1MYXlvdXQpIHtcbiAgICAgICAgLyogJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddICg+PTAuNjMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50XG4gICAgICAgICAqIHN1cHByZXNzZXMgYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjYzIHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvclxuICAgICAgICAgKiBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgICAgcmV0dXJuIGdldEl0ZW1MYXlvdXQoZGF0YSwgaW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnJhbWU7XG4gIH07XG5cbiAgX2dldE5vblZpZXdwb3J0UmVuZGVyUmVnaW9ucyA9IChcbiAgICBwcm9wczogRnJhbWVNZXRyaWNQcm9wcyxcbiAgKTogJFJlYWRPbmx5QXJyYXk8e1xuICAgIGZpcnN0OiBudW1iZXIsXG4gICAgbGFzdDogbnVtYmVyLFxuICB9PiA9PiB7XG4gICAgLy8gS2VlcCBhIHZpZXdwb3J0J3Mgd29ydGggb2YgY29udGVudCBhcm91bmQgdGhlIGxhc3QgZm9jdXNlZCBjZWxsIHRvIGFsbG93XG4gICAgLy8gcmFuZG9tIG5hdmlnYXRpb24gYXJvdW5kIGl0IHdpdGhvdXQgYW55IGJsYW5raW5nLiBFLmcuIHRhYmJpbmcgZnJvbSBvbmVcbiAgICAvLyBmb2N1c2VkIGl0ZW0gb3V0IG9mIHZpZXdwb3J0IHRvIGFub3RoZXIuXG4gICAgaWYgKFxuICAgICAgISh0aGlzLl9sYXN0Rm9jdXNlZENlbGxLZXkgJiYgdGhpcy5fY2VsbFJlZnNbdGhpcy5fbGFzdEZvY3VzZWRDZWxsS2V5XSlcbiAgICApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBsYXN0Rm9jdXNlZENlbGxSZW5kZXJlciA9IHRoaXMuX2NlbGxSZWZzW3RoaXMuX2xhc3RGb2N1c2VkQ2VsbEtleV07XG4gICAgY29uc3QgZm9jdXNlZENlbGxJbmRleCA9IGxhc3RGb2N1c2VkQ2VsbFJlbmRlcmVyLnByb3BzLmluZGV4O1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHByb3BzLmdldEl0ZW1Db3VudChwcm9wcy5kYXRhKTtcblxuICAgIC8vIFRoZSBsYXN0IGNlbGwgd2UgcmVuZGVyZWQgbWF5IGJlIGF0IGEgbmV3IGluZGV4LiBCYWlsIGlmIHdlIGRvbid0IGtub3dcbiAgICAvLyB3aGVyZSBpdCBpcy5cbiAgICBpZiAoXG4gICAgICBmb2N1c2VkQ2VsbEluZGV4ID49IGl0ZW1Db3VudCB8fFxuICAgICAgVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHByb3BzLCBmb2N1c2VkQ2VsbEluZGV4KSAhPT1cbiAgICAgICAgdGhpcy5fbGFzdEZvY3VzZWRDZWxsS2V5XG4gICAgKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgbGV0IGZpcnN0ID0gZm9jdXNlZENlbGxJbmRleDtcbiAgICBsZXQgaGVpZ2h0T2ZDZWxsc0JlZm9yZUZvY3VzZWQgPSAwO1xuICAgIGZvciAoXG4gICAgICBsZXQgaSA9IGZpcnN0IC0gMTtcbiAgICAgIGkgPj0gMCAmJiBoZWlnaHRPZkNlbGxzQmVmb3JlRm9jdXNlZCA8IHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICAgIGktLVxuICAgICkge1xuICAgICAgZmlyc3QtLTtcbiAgICAgIGhlaWdodE9mQ2VsbHNCZWZvcmVGb2N1c2VkICs9IHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3goXG4gICAgICAgIGksXG4gICAgICAgIHByb3BzLFxuICAgICAgKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgbGV0IGxhc3QgPSBmb2N1c2VkQ2VsbEluZGV4O1xuICAgIGxldCBoZWlnaHRPZkNlbGxzQWZ0ZXJGb2N1c2VkID0gMDtcbiAgICBmb3IgKFxuICAgICAgbGV0IGkgPSBsYXN0ICsgMTtcbiAgICAgIGkgPCBpdGVtQ291bnQgJiZcbiAgICAgIGhlaWdodE9mQ2VsbHNBZnRlckZvY3VzZWQgPCB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgICBpKytcbiAgICApIHtcbiAgICAgIGxhc3QrKztcbiAgICAgIGhlaWdodE9mQ2VsbHNBZnRlckZvY3VzZWQgKz0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChcbiAgICAgICAgaSxcbiAgICAgICAgcHJvcHMsXG4gICAgICApLmxlbmd0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gW3tmaXJzdCwgbGFzdH1dO1xuICB9O1xuXG4gIF91cGRhdGVWaWV3YWJsZUl0ZW1zKFxuICAgIHByb3BzOiBGcmFtZU1ldHJpY1Byb3BzLFxuICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICApIHtcbiAgICAvLyBJZiB3ZSBoYXZlIGFueSBwZW5kaW5nIHNjcm9sbCB1cGRhdGVzIGl0IG1lYW5zIHRoYXQgdGhlIHNjcm9sbCBtZXRyaWNzXG4gICAgLy8gYXJlIG91dCBvZiBkYXRlIGFuZCB3ZSBzaG91bGQgbm90IGNhbGwgYW55IG9mIHRoZSB2aXNpYmlsaXR5IGNhbGxiYWNrcy5cbiAgICBpZiAodGhpcy5zdGF0ZS5wZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQgPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIub25VcGRhdGUoXG4gICAgICAgIHByb3BzLFxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCxcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoLFxuICAgICAgICB0aGlzLl9nZXRGcmFtZU1ldHJpY3MsXG4gICAgICAgIHRoaXMuX2NyZWF0ZVZpZXdUb2tlbixcbiAgICAgICAgdHVwbGUub25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICB2ZXJ0aWNhbGx5SW52ZXJ0ZWQ6XG4gICAgUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJ1xuICAgICAgPyB7dHJhbnNmb3JtOiBbe3NjYWxlOiAtMX1dfVxuICAgICAgOiB7dHJhbnNmb3JtOiBbe3NjYWxlWTogLTF9XX0sXG4gIGhvcml6b250YWxseUludmVydGVkOiB7XG4gICAgdHJhbnNmb3JtOiBbe3NjYWxlWDogLTF9XSxcbiAgfSxcbiAgZGVidWc6IHtcbiAgICBmbGV4OiAxLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlCYXNlOiB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiAwLFxuICAgIHJpZ2h0OiAwLFxuICB9LFxuICBkZWJ1Z092ZXJsYXk6IHtcbiAgICBib3R0b206IDAsXG4gICAgd2lkdGg6IDIwLFxuICAgIGJvcmRlckNvbG9yOiAnYmx1ZScsXG4gICAgYm9yZGVyV2lkdGg6IDEsXG4gIH0sXG4gIGRlYnVnT3ZlcmxheUZyYW1lOiB7XG4gICAgbGVmdDogMCxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICdvcmFuZ2UnLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZUxhc3Q6IHtcbiAgICBsZWZ0OiAwLFxuICAgIGJvcmRlckNvbG9yOiAnZ3JlZW4nLFxuICAgIGJvcmRlcldpZHRoOiAyLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZVZpczoge1xuICAgIGxlZnQ6IDAsXG4gICAgYm9yZGVyQ29sb3I6ICdyZWQnLFxuICAgIGJvcmRlcldpZHRoOiAyLFxuICB9LFxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVmlydHVhbGl6ZWRMaXN0O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUEwQkEsSUFBQUEsWUFBQSxHQUFBQyxPQUFBO0FBUUEsSUFBQUMsWUFBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUcsTUFBQSxHQUFBRCxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUksUUFBQSxHQUFBRixzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUssZUFBQSxHQUFBTCxPQUFBO0FBQ0EsSUFBQU0sb0JBQUEsR0FBQUosc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFPLGVBQUEsR0FBQUwsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFRLHVCQUFBLEdBQUFOLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBUyxrQkFBQSxHQUFBUCxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQVUsNEJBQUEsR0FBQVIsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFXLHVCQUFBLEdBQUFYLE9BQUE7QUFLQSxJQUFB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