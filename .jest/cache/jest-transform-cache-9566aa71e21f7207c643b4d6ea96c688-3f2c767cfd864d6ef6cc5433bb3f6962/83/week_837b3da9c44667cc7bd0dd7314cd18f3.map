{"version":3,"names":["_xdate","_interopRequireDefault","require","_react","_interopRequireWildcard","_reactNative","_isEqual","_dateutils","_interface","_dayStateManager","_componentUpdater","_style","_index","_jsxRuntime","_this","_excluded","_excluded2","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","e","r","t","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty2","getOwnPropertyDescriptors","defineProperties","arePropsEqual","prevProps","nextProps","prevContext","context","prevMarkings","markedDates","prevOthers","_objectWithoutProperties2","nextContext","nextMarkings","nextOthers","isEqual","Week","React","memo","props","theme","current","firstDay","hideExtraDays","onDayPress","onDayLongPress","propsStyle","style","_props$numberOfDays","numberOfDays","timelineLeftInset","testID","useRef","styleConstructor","disableDaySelection","useMemo","getWeek","useCallback","date","getWeekDates","partialWeekStyle","partialWeek","paddingLeft","dayProps","extractDayProps","currXdate","parseDate","renderDay","day","id","sameMonth","jsx","View","emptyDayContainer","dayString","toMarkingFormat","dayContainer","children","state","getState","marking","disableTouchEvent","onPress","onLongPress","renderWeek","dates","getPartialWeekDates","week","todayIndex","indexOf","Date","sliced","slice","datesToRender","d","XDate","container","undefined","_default","exports","displayName"],"sources":["week.js"],"sourcesContent":["import XDate from 'xdate';\nimport React, { useRef, useMemo, useCallback } from 'react';\nimport { View } from 'react-native';\nimport isEqual from 'lodash/isEqual';\nimport { getPartialWeekDates, getWeekDates, sameMonth } from '../dateutils';\nimport { parseDate, toMarkingFormat } from '../interface';\nimport { getState } from '../day-state-manager';\nimport { extractDayProps } from '../componentUpdater';\nimport styleConstructor from './style';\nimport Day from '../calendar/day/index';\nfunction arePropsEqual(prevProps, nextProps) {\n    const { context: prevContext, markedDates: prevMarkings, ...prevOthers } = prevProps;\n    const { context: nextContext, markedDates: nextMarkings, ...nextOthers } = nextProps;\n    return isEqual(prevContext, nextContext) && isEqual(prevMarkings, nextMarkings) && isEqual(prevOthers, nextOthers);\n}\nconst Week = React.memo((props) => {\n    const { theme, current, firstDay, hideExtraDays, markedDates, onDayPress, onDayLongPress, style: propsStyle, numberOfDays = 1, timelineLeftInset, testID, } = props;\n    const style = useRef(styleConstructor(theme));\n    const disableDaySelection = useMemo(() => {\n        return !!numberOfDays && numberOfDays > 1;\n    }, [numberOfDays]);\n    const getWeek = useCallback((date) => {\n        if (date) {\n            return getWeekDates(date, firstDay);\n        }\n    }, [firstDay]);\n    const partialWeekStyle = useMemo(() => {\n        return [style.current.partialWeek, { paddingLeft: timelineLeftInset }];\n    }, [timelineLeftInset]);\n    const dayProps = extractDayProps(props);\n    const currXdate = useMemo(() => parseDate(current), [current]);\n    const renderDay = (day, id) => {\n        // hide extra days\n        if (current && hideExtraDays) {\n            if (!sameMonth(day, currXdate)) {\n                return <View key={id} style={style.current.emptyDayContainer}/>;\n            }\n        }\n        const dayString = toMarkingFormat(day);\n        return (<View style={style.current.dayContainer} key={id}>\n        <Day {...dayProps} testID={`${testID}.day_${dayString}`} date={dayString} state={getState(day, currXdate, props, disableDaySelection)} marking={disableDaySelection ? { ...markedDates?.[dayString], disableTouchEvent: true } : markedDates?.[dayString]} onPress={onDayPress} onLongPress={onDayLongPress}/>\n      </View>);\n    };\n    const renderWeek = () => {\n        const dates = numberOfDays > 1 ? getPartialWeekDates(current, numberOfDays) : getWeek(current);\n        const week = [];\n        if (dates) {\n            const todayIndex = dates?.indexOf(parseDate(new Date())) || -1;\n            const sliced = dates.slice(todayIndex, numberOfDays);\n            const datesToRender = numberOfDays > 1 && todayIndex > -1 ? sliced : dates;\n            datesToRender.forEach((day, id) => {\n                const d = day instanceof XDate ? day : new XDate(day);\n                week.push(renderDay(d, id));\n            }, this);\n        }\n        return week;\n    };\n    return (<View style={style.current.container} testID={`${testID}.week_${current}`}>\n      <View style={[style.current.week, numberOfDays > 1 ? partialWeekStyle : undefined, propsStyle]}>\n        {renderWeek()}\n      </View>\n    </View>);\n}, arePropsEqual);\nexport default Week;\nWeek.displayName = 'Week';\n"],"mappings":";;;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAC,uBAAA,CAAAF,OAAA;AACA,IAAAG,YAAA,GAAAH,OAAA;AACA,IAAAI,QAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,UAAA,GAAAL,OAAA;AACA,IAAAM,UAAA,GAAAN,OAAA;AACA,IAAAO,gBAAA,GAAAP,OAAA;AACA,IAAAQ,iBAAA,GAAAR,OAAA;AACA,IAAAS,MAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,MAAA,GAAAX,sBAAA,CAAAC,OAAA;AAAwC,IAAAW,WAAA,GAAAX,OAAA;AAAA,IAAAY,KAAA;AAAA,IAAAC,SAAA;EAAAC,UAAA;AAAA,SAAAC,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,yBAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAd,wBAAAkB,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAAA,SAAAW,QAAAC,CAAA,EAAAC,CAAA,QAAAC,CAAA,GAAAZ,MAAA,CAAAa,IAAA,CAAAH,CAAA,OAAAV,MAAA,CAAAc,qBAAA,QAAAC,CAAA,GAAAf,MAAA,CAAAc,qBAAA,CAAAJ,CAAA,GAAAC,CAAA,KAAAI,CAAA,GAAAA,CAAA,CAAAC,MAAA,WAAAL,CAAA,WAAAX,MAAA,CAAAE,wBAAA,CAAAQ,CAAA,EAAAC,CAAA,EAAAM,UAAA,OAAAL,CAAA,CAAAM,IAAA,CAAAC,KAAA,CAAAP,CAAA,EAAAG,CAAA,YAAAH,CAAA;AAAA,SAAAQ,cAAAV,CAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAU,SAAA,CAAAC,MAAA,EAAAX,CAAA,UAAAC,CAAA,WAAAS,SAAA,CAAAV,CAAA,IAAAU,SAAA,CAAAV,CAAA,QAAAA,CAAA,OAAAF,OAAA,CAAAT,MAAA,CAAAY,CAAA,OAAAW,OAAA,WAAAZ,CAAA,QAAAa,gBAAA,CAAA9B,OAAA,EAAAgB,CAAA,EAAAC,CAAA,EAAAC,CAAA,CAAAD,CAAA,SAAAX,MAAA,CAAAyB,yBAAA,GAAAzB,MAAA,CAAA0B,gBAAA,CAAAhB,CAAA,EAAAV,MAAA,CAAAyB,yBAAA,CAAAb,CAAA,KAAAH,OAAA,CAAAT,MAAA,CAAAY,CAAA,GAAAW,OAAA,WAAAZ,CAAA,IAAAX,MAAA,CAAAC,cAAA,CAAAS,CAAA,EAAAC,CAAA,EAAAX,MAAA,CAAAE,wBAAA,CAAAU,CAAA,EAAAD,CAAA,iBAAAD,CAAA;AACxC,SAASiB,aAAaA,CAACC,SAAS,EAAEC,SAAS,EAAE;EACzC,IAAiBC,WAAW,GAA+CF,SAAS,CAA5EG,OAAO;IAA4BC,YAAY,GAAoBJ,SAAS,CAAtDK,WAAW;IAAmBC,UAAU,OAAAC,yBAAA,CAAAzC,OAAA,EAAKkC,SAAS,EAAA3C,SAAA;EACpF,IAAiBmD,WAAW,GAA+CP,SAAS,CAA5EE,OAAO;IAA4BM,YAAY,GAAoBR,SAAS,CAAtDI,WAAW;IAAmBK,UAAU,OAAAH,yBAAA,CAAAzC,OAAA,EAAKmC,SAAS,EAAA3C,UAAA;EACpF,OAAO,IAAAqD,gBAAO,EAACT,WAAW,EAAEM,WAAW,CAAC,IAAI,IAAAG,gBAAO,EAACP,YAAY,EAAEK,YAAY,CAAC,IAAI,IAAAE,gBAAO,EAACL,UAAU,EAAEI,UAAU,CAAC;AACtH;AACA,IAAME,IAAI,GAAGC,cAAK,CAACC,IAAI,CAAC,UAACC,KAAK,EAAK;EAC/B,IAAQC,KAAK,GAAiJD,KAAK,CAA3JC,KAAK;IAAEC,OAAO,GAAwIF,KAAK,CAApJE,OAAO;IAAEC,QAAQ,GAA8HH,KAAK,CAA3IG,QAAQ;IAAEC,aAAa,GAA+GJ,KAAK,CAAjII,aAAa;IAAEd,WAAW,GAAkGU,KAAK,CAAlHV,WAAW;IAAEe,UAAU,GAAsFL,KAAK,CAArGK,UAAU;IAAEC,cAAc,GAAsEN,KAAK,CAAzFM,cAAc;IAASC,UAAU,GAAmDP,KAAK,CAAzEQ,KAAK;IAAAC,mBAAA,GAA+DT,KAAK,CAAtDU,YAAY;IAAZA,YAAY,GAAAD,mBAAA,cAAG,CAAC,GAAAA,mBAAA;IAAEE,iBAAiB,GAAcX,KAAK,CAApCW,iBAAiB;IAAEC,MAAM,GAAMZ,KAAK,CAAjBY,MAAM;EACxJ,IAAMJ,KAAK,GAAG,IAAAK,aAAM,EAAC,IAAAC,cAAgB,EAACb,KAAK,CAAC,CAAC;EAC7C,IAAMc,mBAAmB,GAAG,IAAAC,cAAO,EAAC,YAAM;IACtC,OAAO,CAAC,CAACN,YAAY,IAAIA,YAAY,GAAG,CAAC;EAC7C,CAAC,EAAE,CAACA,YAAY,CAAC,CAAC;EAClB,IAAMO,OAAO,GAAG,IAAAC,kBAAW,EAAC,UAACC,IAAI,EAAK;IAClC,IAAIA,IAAI,EAAE;MACN,OAAO,IAAAC,uBAAY,EAACD,IAAI,EAAEhB,QAAQ,CAAC;IACvC;EACJ,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EACd,IAAMkB,gBAAgB,GAAG,IAAAL,cAAO,EAAC,YAAM;IACnC,OAAO,CAACR,KAAK,CAACN,OAAO,CAACoB,WAAW,EAAE;MAAEC,WAAW,EAAEZ;IAAkB,CAAC,CAAC;EAC1E,CAAC,EAAE,CAACA,iBAAiB,CAAC,CAAC;EACvB,IAAMa,QAAQ,GAAG,IAAAC,iCAAe,EAACzB,KAAK,CAAC;EACvC,IAAM0B,SAAS,GAAG,IAAAV,cAAO,EAAC;IAAA,OAAM,IAAAW,oBAAS,EAACzB,OAAO,CAAC;EAAA,GAAE,CAACA,OAAO,CAAC,CAAC;EAC9D,IAAM0B,SAAS,GAAG,SAAZA,SAASA,CAAIC,GAAG,EAAEC,EAAE,EAAK;IAE3B,IAAI5B,OAAO,IAAIE,aAAa,EAAE;MAC1B,IAAI,CAAC,IAAA2B,oBAAS,EAACF,GAAG,EAAEH,SAAS,CAAC,EAAE;QAC5B,OAAO,IAAAtF,WAAA,CAAA4F,GAAA,EAACpG,YAAA,CAAAqG,IAAI;UAAUzB,KAAK,EAAEA,KAAK,CAACN,OAAO,CAACgC;QAAkB,GAA3CJ,EAA4C,CAAC;MACnE;IACJ;IACA,IAAMK,SAAS,GAAG,IAAAC,0BAAe,EAACP,GAAG,CAAC;IACtC,OAAQ,IAAAzF,WAAA,CAAA4F,GAAA,EAACpG,YAAA,CAAAqG,IAAI;MAACzB,KAAK,EAAEA,KAAK,CAACN,OAAO,CAACmC,YAAa;MAAAC,QAAA,EAChD,IAAAlG,WAAA,CAAA4F,GAAA,EAAC7F,MAAA,CAAAY,OAAG,EAAA0B,aAAA,CAAAA,aAAA,KAAK+C,QAAQ;QAAEZ,MAAM,EAAG,GAAEA,MAAO,QAAOuB,SAAU,EAAE;QAAChB,IAAI,EAAEgB,SAAU;QAACI,KAAK,EAAE,IAAAC,yBAAQ,EAACX,GAAG,EAAEH,SAAS,EAAE1B,KAAK,EAAEe,mBAAmB,CAAE;QAAC0B,OAAO,EAAE1B,mBAAmB,GAAAtC,aAAA,CAAAA,aAAA,KAAQa,WAAW,oBAAXA,WAAW,CAAG6C,SAAS,CAAC;UAAEO,iBAAiB,EAAE;QAAI,KAAKpD,WAAW,oBAAXA,WAAW,CAAG6C,SAAS,CAAE;QAACQ,OAAO,EAAEtC,UAAW;QAACuC,WAAW,EAAEtC;MAAe,EAAC;IAAC,GADxPwB,EAElD,CAAC;EACT,CAAC;EACD,IAAMe,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;IACrB,IAAMC,KAAK,GAAGpC,YAAY,GAAG,CAAC,GAAG,IAAAqC,8BAAmB,EAAC7C,OAAO,EAAEQ,YAAY,CAAC,GAAGO,OAAO,CAACf,OAAO,CAAC;IAC9F,IAAM8C,IAAI,GAAG,EAAE;IACf,IAAIF,KAAK,EAAE;MACP,IAAMG,UAAU,GAAG,CAAAH,KAAK,oBAALA,KAAK,CAAEI,OAAO,CAAC,IAAAvB,oBAAS,EAAC,IAAIwB,IAAI,CAAC,CAAC,CAAC,CAAC,KAAI,CAAC,CAAC;MAC9D,IAAMC,MAAM,GAAGN,KAAK,CAACO,KAAK,CAACJ,UAAU,EAAEvC,YAAY,CAAC;MACpD,IAAM4C,aAAa,GAAG5C,YAAY,GAAG,CAAC,IAAIuC,UAAU,GAAG,CAAC,CAAC,GAAGG,MAAM,GAAGN,KAAK;MAC1EQ,aAAa,CAAC1E,OAAO,CAAC,UAACiD,GAAG,EAAEC,EAAE,EAAK;QAC/B,IAAMyB,CAAC,GAAG1B,GAAG,YAAY2B,cAAK,GAAG3B,GAAG,GAAG,IAAI2B,cAAK,CAAC3B,GAAG,CAAC;QACrDmB,IAAI,CAACzE,IAAI,CAACqD,SAAS,CAAC2B,CAAC,EAAEzB,EAAE,CAAC,CAAC;MAC/B,CAAC,EAAEzF,KAAI,CAAC;IACZ;IACA,OAAO2G,IAAI;EACf,CAAC;EACD,OAAQ,IAAA5G,WAAA,CAAA4F,GAAA,EAACpG,YAAA,CAAAqG,IAAI;IAACzB,KAAK,EAAEA,KAAK,CAACN,OAAO,CAACuD,SAAU;IAAC7C,MAAM,EAAG,GAAEA,MAAO,SAAQV,OAAQ,EAAE;IAAAoC,QAAA,EAChF,IAAAlG,WAAA,CAAA4F,GAAA,EAACpG,YAAA,CAAAqG,IAAI;MAACzB,KAAK,EAAE,CAACA,KAAK,CAACN,OAAO,CAAC8C,IAAI,EAAEtC,YAAY,GAAG,CAAC,GAAGW,gBAAgB,GAAGqC,SAAS,EAAEnD,UAAU,CAAE;MAAA+B,QAAA,EAC5FO,UAAU,CAAC;IAAC,CACT;EAAC,CACH,CAAC;AACX,CAAC,EAAE7D,aAAa,CAAC;AAAC,IAAA2E,QAAA,GACH9D,IAAI;AAAA+D,OAAA,CAAA7G,OAAA,GAAA4G,QAAA;AACnB9D,IAAI,CAACgE,WAAW,GAAG,MAAM"}