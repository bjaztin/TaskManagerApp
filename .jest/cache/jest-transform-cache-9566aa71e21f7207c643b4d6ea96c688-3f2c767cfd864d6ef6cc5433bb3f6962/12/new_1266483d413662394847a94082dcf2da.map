{"version":3,"names":["_xdate","_interopRequireDefault","require","_react","_interopRequireWildcard","_reactNative","_constants","_interface","_componentUpdater","_calendar","_header","_infiniteList","_style","_jsxRuntime","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","e","r","t","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty2","getOwnPropertyDescriptors","defineProperties","NUMBER_OF_PAGES","CALENDAR_HEIGHT","CalendarList","props","initialDate","horizontal","_props$scrollRange","scrollRange","staticHeader","scrollViewProps","calendarProps","testID","style","useRef","styleConstructor","theme","list","_useState","useState","getDatesArray","_useState2","_slicedToArray2","items","setItems","_useState3","_useState4","positionIndex","setPositionIndex","_useState5","_useState6","currentMonth","setCurrentMonth","shouldRenderStaticHeader","headerProps","extractHeaderProps","staticHeaderStyle","useMemo","current","headerStyle","useEffect","scrollToMonth","getMonthIndex","useCallback","month","findIndex","item","includes","toString","index","XDate","_list$current","shouldAnimate","constants","isAndroid","scrollToOffset","screenWidth","updateMonth","count","next","addMonths","nextNext","nextNextIndex","toMarkingFormat","scrollToNextMonth","method","onPressArrowLeft","scrollToPreviousMonth","onPressArrowRight","onPageChange","pageIndex","_","info","scrolledByUser","renderStaticHeader","jsx","accessibilityElementsHidden","importantForAccessibility","reloadPages","replaceItems","addItems","newItems","array","_toConsumableArray2","startingDate","shouldAppend","i","newDate","getDate","unshift","listContainerStyle","flatListContainer","flex","undefined","scrollProps","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","renderItem","_type","disableMonthChange","hideArrows","hideExtraDays","calendar","jsxs","View","children","ref","data","onReachNearEdgeThreshold","Math","round","extendedState","markedDates","isHorizontal","container","initialPageIndex","pageHeight","pageWidth","_default","exports","date","d","setDate","numberOfPages"],"sources":["new.js"],"sourcesContent":["import XDate from 'xdate';\nimport React, { useCallback, useEffect, useRef, useState, useMemo } from 'react';\nimport { View } from 'react-native';\nimport constants from '../commons/constants';\nimport { toMarkingFormat } from '../interface';\nimport { extractHeaderProps } from '../componentUpdater';\nimport Calendar from '../calendar';\nimport CalendarHeader from '../calendar/header';\nimport InfiniteList from '../infinite-list';\nimport styleConstructor from './style';\nconst NUMBER_OF_PAGES = 50;\nconst CALENDAR_HEIGHT = 360;\nconst CalendarList = (props) => {\n    const { initialDate, horizontal, scrollRange = NUMBER_OF_PAGES, staticHeader, scrollViewProps, calendarProps, testID } = props;\n    const style = useRef(styleConstructor(calendarProps?.theme));\n    const list = useRef();\n    const [items, setItems] = useState(getDatesArray(initialDate, scrollRange));\n    const [positionIndex, setPositionIndex] = useState(scrollRange);\n    /** Static Header */\n    const [currentMonth, setCurrentMonth] = useState(initialDate || items[scrollRange]);\n    const shouldRenderStaticHeader = staticHeader && horizontal;\n    const headerProps = extractHeaderProps(props);\n    const staticHeaderStyle = useMemo(() => {\n        return [style.current.staticHeader, calendarProps?.headerStyle];\n    }, [calendarProps?.headerStyle]);\n    useEffect(() => {\n        scrollToMonth(currentMonth);\n    }, [currentMonth]);\n    const getMonthIndex = useCallback((month) => {\n        if (!month) {\n            return -1;\n        }\n        return items.findIndex(item => item.includes(month.toString('yyyy-MM')));\n    }, [items]);\n    const scrollToMonth = useCallback((month) => {\n        if (month) {\n            const index = getMonthIndex(new XDate(month));\n            if (index !== -1) {\n                const shouldAnimate = constants.isAndroid && !horizontal ? false : true;\n                // @ts-expect-error\n                list.current?.scrollToOffset?.(index * constants.screenWidth, 0, shouldAnimate);\n            }\n        }\n    }, [getMonthIndex]);\n    const updateMonth = useCallback((count, month) => {\n        if (month) {\n            const next = new XDate(month).addMonths(count, true);\n            const nextNext = new XDate(month).addMonths(count * 2, true);\n            const nextNextIndex = getMonthIndex(nextNext);\n            if (nextNextIndex !== -1) {\n                setCurrentMonth(toMarkingFormat(next));\n            }\n        }\n    }, [getMonthIndex]);\n    const scrollToNextMonth = useCallback((method, month) => {\n        if (calendarProps?.onPressArrowLeft) {\n            calendarProps?.onPressArrowLeft?.(method, month);\n        }\n        else {\n            updateMonth(1, month);\n        }\n    }, [updateMonth]);\n    const scrollToPreviousMonth = useCallback((method, month) => {\n        if (calendarProps?.onPressArrowRight) {\n            calendarProps?.onPressArrowRight?.(method, month);\n        }\n        else {\n            updateMonth(-1, month);\n        }\n    }, [updateMonth]);\n    const onPageChange = useCallback((pageIndex, _, info) => {\n        if (shouldRenderStaticHeader && info.scrolledByUser) {\n            setCurrentMonth(items[pageIndex]);\n        }\n    }, [items]);\n    const renderStaticHeader = () => {\n        if (shouldRenderStaticHeader) {\n            return (<CalendarHeader {...headerProps} month={new XDate(currentMonth)} onPressArrowRight={scrollToNextMonth} onPressArrowLeft={scrollToPreviousMonth} style={staticHeaderStyle} accessibilityElementsHidden // iOS\n             importantForAccessibility={'no-hide-descendants'} // Android\n             testID={'static-header'}/>);\n        }\n    };\n    /** Data */\n    const reloadPages = useCallback(pageIndex => {\n        horizontal ? replaceItems(pageIndex) : addItems(pageIndex);\n    }, [items]);\n    const replaceItems = (index) => {\n        const newItems = getDatesArray(items[index], scrollRange);\n        setItems(newItems);\n    };\n    const addItems = (index) => {\n        const array = [...items];\n        const startingDate = items[index];\n        const shouldAppend = index > scrollRange;\n        if (startingDate) {\n            if (shouldAppend) {\n                for (let i = 2; i <= scrollRange; i++) {\n                    const newDate = getDate(startingDate, i);\n                    array.push(newDate);\n                }\n            }\n            else {\n                for (let i = -1; i > -scrollRange; i--) {\n                    const newDate = getDate(startingDate, i);\n                    array.unshift(newDate);\n                }\n            }\n            setPositionIndex(shouldAppend ? index : scrollRange - 1);\n            setItems(array);\n        }\n    };\n    /** List */\n    const listContainerStyle = useMemo(() => {\n        return [style.current.flatListContainer, { flex: horizontal ? undefined : 1 }];\n    }, [style, horizontal]);\n    const scrollProps = useMemo(() => {\n        return {\n            ...scrollViewProps,\n            showsHorizontalScrollIndicator: false,\n            showsVerticalScrollIndicator: false\n        };\n    }, [scrollViewProps]);\n    const renderItem = useCallback((_type, item) => {\n        return (<Calendar {...calendarProps} {...headerProps} initialDate={item} disableMonthChange hideArrows={!horizontal} onPressArrowRight={scrollToNextMonth} onPressArrowLeft={scrollToPreviousMonth} hideExtraDays={calendarProps?.hideExtraDays || true} style={[style.current.calendar, calendarProps?.style]} headerStyle={horizontal ? calendarProps?.headerStyle : undefined} testID={`${testID}_${item}`}/>);\n    }, [calendarProps, scrollToNextMonth, scrollToPreviousMonth]);\n    return (<View style={listContainerStyle}>\n      <InfiniteList key=\"calendar-list\" ref={list} data={items} renderItem={renderItem} reloadPages={reloadPages} onReachNearEdgeThreshold={Math.round(NUMBER_OF_PAGES * 0.4)} extendedState={calendarProps?.markedDates} isHorizontal={horizontal} style={style.current.container} initialPageIndex={scrollRange} positionIndex={positionIndex} pageHeight={CALENDAR_HEIGHT} pageWidth={constants.screenWidth} onPageChange={onPageChange} scrollViewProps={scrollProps}/>\n      {renderStaticHeader()}\n    </View>);\n};\nexport default CalendarList;\nfunction getDate(date, index) {\n    const d = new XDate(date);\n    d.addMonths(index, true);\n    // if (index !== 0) {\n    d.setDate(1);\n    // }\n    return toMarkingFormat(d);\n}\nfunction getDatesArray(date, numberOfPages = NUMBER_OF_PAGES) {\n    const d = date || new XDate().toString();\n    const array = [];\n    for (let index = -numberOfPages; index <= numberOfPages; index++) {\n        const newDate = getDate(d, index);\n        array.push(newDate);\n    }\n    return array;\n}\n"],"mappings":"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"}