{"version":3,"names":["_getJestObj","mock","requestPermissionsAsync","jest","fn","mockResolvedValue","status","scheduleNotificationAsync","_interopRequireDefault","require","_asyncToGenerator2","_reactNative","_Notification","Notifications","_interopRequireWildcard","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_require","describe","test","result","PushNotification","expect","toBeNull","selectedStartTime","Date","task","scheduleNotification","toBeUndefined","spyOn","mockImplementation","Promise","reject","Error","alert","Alert","toHaveBeenCalledWith"],"sources":["Notification.test.js"],"sourcesContent":["import { Alert } from \"react-native\";\nimport { PushNotification, scheduleNotification } from \"../../src/utilities/Notification\"; \nimport * as Notifications from \"expo-notifications\";\n\njest.mock(\"expo-notifications\", () => ({\n  requestPermissionsAsync: jest.fn().mockResolvedValue({ status: \"granted\" }),\n  scheduleNotificationAsync: jest.fn().mockResolvedValue(),\n}));\n\ndescribe(\"Notifications Compoenent\", () => {\n  test(\"Grant notification permission\", async () => {\n    const result = await PushNotification();\n    expect(result).toBeNull();\n  });\n});\n\ndescribe(\"Schedule Notification\", () => {\n  test(\"When the selected time is valid, trigger the notification\", async () => {\n    const selectedStartTime = new Date();\n    const task = \"This is the task\";\n\n    const result = await scheduleNotification(selectedStartTime, task);\n    expect(result).toBeUndefined();\n  });\n\n  test(\"When the selected time is invaild to tigger the notification, show an alert\", async () => {\n    jest\n      .spyOn(Notifications, \"scheduleNotificationAsync\")\n      .mockImplementation(() =>\n        Promise.reject(new Error(\"Failed to schedule\"))\n      );\n\n    const selectedStartTime = new Date();\n    \n    const task = \"This is the task\";\n\n    const alert = jest.spyOn(Alert, \"alert\");\n\n    await scheduleNotification(selectedStartTime, task);\n\n    expect(alert).toHaveBeenCalledWith(\n      \"Task has been added\",\n      \"To schedule the notification, select a later time\"\n    );\n  });\n});\n"],"mappings":"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"}