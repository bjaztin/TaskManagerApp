{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_ListItemBase","_helpers","_jsxRuntime","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty2","default","getOwnPropertyDescriptors","defineProperties","defineProperty","__rest","s","p","prototype","hasOwnProperty","call","indexOf","i","propertyIsEnumerable","ListItemSwipeable","_a","children","leftStyle","rightStyle","leftContent","rightContent","_a$leftWidth","leftWidth","ScreenWidth","_a$rightWidth","rightWidth","props","_React$useRef","React","useRef","Animated","Value","panX","current","currValue","prevValue","useEffect","subs","addListener","_ref","value","removeListener","slideAnimation","useCallback","toValue","spring","useNativeDriver","start","onPanResponderMove","_","_ref2","dx","newDX","Math","abs","setValue","onPanResponderRelease","_ref3","sign","_React$useRef2","PanResponder","create","onMoveShouldSetPanResponderCapture","onPanResponderGrant","_panResponder","jsxs","View","style","justifyContent","styles","hidden","flex","flexDirection","jsx","width","zIndex","transform","translateX","panHandlers","StyleSheet","bottom","left","overflow","position","right","top","_default","exports"],"sources":["ListItemSwipeable.js"],"sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { PanResponder, Animated, View, StyleSheet, } from 'react-native';\nimport ListItemBase from './ListItemBase';\nimport { ScreenWidth } from '../helpers';\nconst ListItemSwipeable = (_a) => {\n    var { children, leftStyle, rightStyle, leftContent, rightContent, leftWidth = ScreenWidth / 3, rightWidth = ScreenWidth / 3 } = _a, props = __rest(_a, [\"children\", \"leftStyle\", \"rightStyle\", \"leftContent\", \"rightContent\", \"leftWidth\", \"rightWidth\"]);\n    const { current: panX } = React.useRef(new Animated.Value(0));\n    const currValue = React.useRef(0);\n    const prevValue = React.useRef(0);\n    React.useEffect(() => {\n        let subs = panX.addListener(({ value }) => {\n            currValue.current = value;\n        });\n        return () => {\n            panX.removeListener(subs);\n        };\n    }, [panX]);\n    const slideAnimation = React.useCallback((toValue) => {\n        Animated.spring(panX, {\n            toValue,\n            useNativeDriver: true,\n        }).start();\n        prevValue.current = toValue;\n    }, [panX]);\n    const onPanResponderMove = (_, { dx }) => {\n        if (!prevValue.current) {\n            prevValue.current = currValue.current;\n        }\n        let newDX = prevValue.current + dx;\n        if (Math.abs(newDX) > ScreenWidth / 2) {\n            return;\n        }\n        panX.setValue(newDX);\n    };\n    const onPanResponderRelease = (_, { dx }) => {\n        prevValue.current = currValue.current;\n        if ((Math.sign(dx) > 0 && !leftContent) ||\n            (Math.sign(dx) < 0 && !rightContent)) {\n            return slideAnimation(0);\n        }\n        if (Math.abs(currValue.current) >= ScreenWidth / 3) {\n            slideAnimation(currValue.current > 0 ? rightWidth : -leftWidth);\n        }\n        else {\n            slideAnimation(0);\n        }\n    };\n    const { current: _panResponder } = React.useRef(PanResponder.create({\n        onMoveShouldSetPanResponderCapture: () => true,\n        onPanResponderGrant: () => false,\n        onPanResponderMove,\n        onPanResponderRelease,\n    }));\n    return (<View style={{\n            justifyContent: 'center',\n        }}>\n      <View style={[\n            styles.hidden,\n            {\n                flex: 1,\n                flexDirection: 'row',\n                justifyContent: 'space-between',\n            },\n        ]}>\n        <View style={[\n            {\n                width: leftWidth,\n                zIndex: 1,\n            },\n            leftStyle,\n        ]}>\n          {leftContent}\n        </View>\n        <View style={{ flex: 0 }}/>\n        <View style={[\n            {\n                width: rightWidth,\n                zIndex: 1,\n            },\n            rightStyle,\n        ]}>\n          {rightContent}\n        </View>\n      </View>\n      <Animated.View style={{\n            transform: [\n                {\n                    translateX: panX,\n                },\n            ],\n            zIndex: 2,\n        }} {..._panResponder.panHandlers}>\n        <ListItemBase {...props}>{children}</ListItemBase>\n      </Animated.View>\n    </View>);\n};\nconst styles = StyleSheet.create({\n    hidden: {\n        bottom: 0,\n        left: 0,\n        overflow: 'hidden',\n        position: 'absolute',\n        right: 0,\n        top: 0,\n    },\n});\nexport default ListItemSwipeable;\n"],"mappings":"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"}