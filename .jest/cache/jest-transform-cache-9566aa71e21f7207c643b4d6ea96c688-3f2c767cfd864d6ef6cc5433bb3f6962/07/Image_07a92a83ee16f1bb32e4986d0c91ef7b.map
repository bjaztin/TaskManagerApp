{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_config","_jsxRuntime","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty2","default","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","result","NewTarget","constructor","Reflect","construct","_possibleConstructorReturn2","sham","Proxy","Boolean","prototype","valueOf","call","__rest","s","p","hasOwnProperty","indexOf","i","propertyIsEnumerable","Image","_React$Component","_inherits2","_super","_this","_classCallCheck2","state","placeholderOpacity","Animated","Value","onLoad","_this$props","props","transition","transitionDuration","setValue","timing","toValue","duration","useNativeDriver","start","_createClass2","key","value","render","_a","onPress","onLongPress","_a$Component","Component","TouchableOpacity","View","placeholderStyle","PlaceholderContent","containerStyle","_a$childrenContainerS","childrenContainerStyle","_a$style","style","_a$ImageComponent","ImageComponent","ImageNative","children","attributes","hasImage","source","_b","StyleSheet","flatten","width","height","styleProps","jsxs","accessibilityIgnoresInvertColors","styles","container","jsx","testID","absoluteFill","pointerEvents","accessibilityElementsHidden","importantForAccessibility","placeholderContainer","opacity","placeholder","React","exports","getSize","getSizeWithHeaders","prefetch","abortPrefetch","queryCache","resolveAssetSource","create","backgroundColor","position","overflow","assign","absoluteFillObject","alignItems","justifyContent","_default","withTheme"],"sources":["Image.js"],"sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { Animated, Image as ImageNative, StyleSheet, View, TouchableOpacity, } from 'react-native';\nimport { withTheme } from '../config';\nclass Image extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            placeholderOpacity: new Animated.Value(1),\n        };\n        this.onLoad = (e) => {\n            const { transition, onLoad, transitionDuration } = this.props;\n            if (!transition) {\n                this.state.placeholderOpacity.setValue(0);\n                return;\n            }\n            Animated.timing(this.state.placeholderOpacity, {\n                toValue: 0,\n                duration: transitionDuration,\n                useNativeDriver: true,\n            }).start();\n            onLoad && onLoad(e);\n        };\n    }\n    render() {\n        const _a = this.props, { onPress, onLongPress, Component = onPress || onLongPress ? TouchableOpacity : View, placeholderStyle, PlaceholderContent, containerStyle, childrenContainerStyle = null, style = {}, ImageComponent = ImageNative, children } = _a, attributes = __rest(_a, [\"onPress\", \"onLongPress\", \"Component\", \"placeholderStyle\", \"PlaceholderContent\", \"containerStyle\", \"childrenContainerStyle\", \"style\", \"ImageComponent\", \"children\"]);\n        const hasImage = Boolean(attributes.source);\n        const _b = StyleSheet.flatten(style), { width, height } = _b, styleProps = __rest(_b, [\"width\", \"height\"]);\n        return (<Component onPress={onPress} onLongPress={onLongPress} accessibilityIgnoresInvertColors={true} style={StyleSheet.flatten([styles.container, containerStyle])}>\n        <ImageComponent testID=\"RNE__Image\" transition={true} transitionDuration={360} {...attributes} onLoad={this.onLoad} style={StyleSheet.flatten([\n                StyleSheet.absoluteFill,\n                {\n                    width: width,\n                    height: height,\n                },\n                styleProps,\n            ])}/>\n\n        <Animated.View pointerEvents={hasImage ? 'none' : 'auto'} accessibilityElementsHidden={hasImage} importantForAccessibility={hasImage ? 'no-hide-descendants' : 'yes'} style={[\n                styles.placeholderContainer,\n                {\n                    opacity: hasImage ? this.state.placeholderOpacity : 1,\n                },\n            ]}>\n          <View testID=\"RNE__Image__placeholder\" style={StyleSheet.flatten([\n                style,\n                styles.placeholder,\n                placeholderStyle,\n            ])}>\n            {PlaceholderContent}\n          </View>\n        </Animated.View>\n\n        <View testID=\"RNE__Image__children__container\" style={childrenContainerStyle !== null && childrenContainerStyle !== void 0 ? childrenContainerStyle : style}>\n          {children}\n        </View>\n      </Component>);\n    }\n}\nImage.getSize = ImageNative.getSize;\nImage.getSizeWithHeaders = ImageNative.getSizeWithHeaders;\nImage.prefetch = ImageNative.prefetch;\nImage.abortPrefetch = ImageNative.abortPrefetch;\nImage.queryCache = ImageNative.queryCache;\nImage.resolveAssetSource = ImageNative.resolveAssetSource;\nconst styles = StyleSheet.create({\n    container: {\n        backgroundColor: 'transparent',\n        position: 'relative',\n        overflow: 'hidden',\n    },\n    placeholderContainer: Object.assign({}, StyleSheet.absoluteFillObject),\n    placeholder: {\n        backgroundColor: '#bdbdbd',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n});\nexport { Image };\nexport default withTheme(Image, 'Image');\n"],"mappings":"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"}